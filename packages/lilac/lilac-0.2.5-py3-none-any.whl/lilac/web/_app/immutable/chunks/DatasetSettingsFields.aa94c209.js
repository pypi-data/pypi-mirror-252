import{S as Ne,i as Be,s as He,D as pe,Z as $,_ as ee,m,h as c,n as b,$ as De,b as D,a0 as h,K as Xe,a1 as U,M as Se,Q as Ae,q as le,r as ie,u as Oe,k as E,y as re,a as fe,l as M,z as he,c as ce,F as q,A as se,G as Qe,a7 as qe,a8 as tt,g as p,d as w,B as ae,L as nt,O as Ge,N as It,x as ct,v as Ve,f as Te,ah as pi,w as at,U as gt,V as bt,e as xe,C as wi,H as ki,I as yi,J as Ii,ab as Je,o as Ul,T as Kl,a9 as Ei,a2 as Et,R as Zl,a3 as Ql,ai as Mi,a4 as Ht}from"./index.ad1b71d6.js";import{e as Ze,a as Mt,X as dt,bn as Vi,bf as Ti,a7 as Rt,bo as Wl,bp as Gl,aw as Xl,a0 as ut,al as it,bq as ot,bl as Oi,ac as et,br as Jl,ay as Ci,a6 as ft,d as ht,m as Pi,af as Di,aa as xl,ab as $l,ai as ei,bs as Si,ae as ti,bt as Ai,au as Ri,Y as Ft,b5 as zi,aA as At,bu as Li,_ as kt,bv as Ni,ah as Bi,b4 as Hi,bw as Fi,B as jt,ar as ji,ad as qi,aF as li,aO as ii,bx as ni,S as Yi,b as ri,T as Ui,by as Ki,aS as qt}from"./Commands.3935a7ba.js";import{g as si,s as Yt}from"./notificationsStore.0e2151c5.js";import{M as zt}from"./ToastNotification.65ad2011.js";import{T as Zi}from"./TrashCan.29665d4a.js";import{g as Qi}from"./settingsStore.71be15fc.js";import{C as Wi,a as Gi}from"./ChevronUp.686fc35a.js";import{S as Xi}from"./Search.12768581.js";import{_ as Ji}from"./preload-helper.41c905a7.js";import{d as xi}from"./paths.d3bff103.js";import{c as $i,g as en}from"./spanHighlight.88eed9de.js";import{I as tn}from"./ItemMetadata.7ee30f8c.js";import{C as ln}from"./ComboBox.6c4866ae.js";function Ut(i){let e,t;return{c(){e=$("title"),t=le(i[1])},l(l){e=ee(l,"title",{});var n=m(e);t=ie(n,i[1]),n.forEach(c)},m(l,n){D(l,e,n),h(e,t)},p(l,n){n&2&&Oe(t,l[1])},d(l){l&&c(e)}}}function nn(i){let e,t,l=i[1]&&Ut(i),n=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],a={};for(let r=0;r<n.length;r+=1)a=pe(a,n[r]);return{c(){e=$("svg"),l&&l.c(),t=$("path"),this.h()},l(r){e=ee(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var o=m(e);l&&l.l(o),t=ee(o,"path",{d:!0}),m(t).forEach(c),o.forEach(c),this.h()},h(){b(t,"d","M17 15L17 8 15 8 15 15 8 15 8 17 15 17 15 24 17 24 17 17 24 17 24 15z"),De(e,a)},m(r,o){D(r,e,o),l&&l.m(e,null),h(e,t)},p(r,[o]){r[1]?l?l.p(r,o):(l=Ut(r),l.c(),l.m(e,t)):l&&(l.d(1),l=null),De(e,a=Xe(n,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},o&1&&{width:r[0]},o&1&&{height:r[0]},o&4&&r[2],o&8&&r[3]]))},i:U,o:U,d(r){r&&c(e),l&&l.d()}}}function rn(i,e,t){let l,n;const a=["size","title"];let r=Se(e,a),{size:o=16}=e,{title:s=void 0}=e;return i.$$set=u=>{t(5,e=pe(pe({},e),Ae(u))),t(3,r=Se(e,a)),"size"in u&&t(0,o=u.size),"title"in u&&t(1,s=u.title)},i.$$.update=()=>{t(4,l=e["aria-label"]||e["aria-labelledby"]||s),t(2,n={"aria-hidden":l?void 0:!0,role:l?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=Ae(e),[o,s,n,r,l]}class sn extends Ne{constructor(e){super(),Be(this,e,rn,nn,He,{size:0,title:1})}}function Kt(i){let e,t;return{c(){e=$("title"),t=le(i[1])},l(l){e=ee(l,"title",{});var n=m(e);t=ie(n,i[1]),n.forEach(c)},m(l,n){D(l,e,n),h(e,t)},p(l,n){n&2&&Oe(t,l[1])},d(l){l&&c(e)}}}function an(i){let e,t,l=i[1]&&Kt(i),n=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],a={};for(let r=0;r<n.length;r+=1)a=pe(a,n[r]);return{c(){e=$("svg"),l&&l.c(),t=$("path"),this.h()},l(r){e=ee(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var o=m(e);l&&l.l(o),t=ee(o,"path",{d:!0}),m(t).forEach(c),o.forEach(c),this.h()},h(){b(t,"d","M24.59 16.59L17 24.17 17 4 15 4 15 24.17 7.41 16.59 6 18 16 28 26 18 24.59 16.59z"),De(e,a)},m(r,o){D(r,e,o),l&&l.m(e,null),h(e,t)},p(r,[o]){r[1]?l?l.p(r,o):(l=Kt(r),l.c(),l.m(e,t)):l&&(l.d(1),l=null),De(e,a=Xe(n,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},o&1&&{width:r[0]},o&1&&{height:r[0]},o&4&&r[2],o&8&&r[3]]))},i:U,o:U,d(r){r&&c(e),l&&l.d()}}}function on(i,e,t){let l,n;const a=["size","title"];let r=Se(e,a),{size:o=16}=e,{title:s=void 0}=e;return i.$$set=u=>{t(5,e=pe(pe({},e),Ae(u))),t(3,r=Se(e,a)),"size"in u&&t(0,o=u.size),"title"in u&&t(1,s=u.title)},i.$$.update=()=>{t(4,l=e["aria-label"]||e["aria-labelledby"]||s),t(2,n={"aria-hidden":l?void 0:!0,role:l?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=Ae(e),[o,s,n,r,l]}class un extends Ne{constructor(e){super(),Be(this,e,on,an,He,{size:0,title:1})}}function Zt(i){let e,t;return{c(){e=$("title"),t=le(i[1])},l(l){e=ee(l,"title",{});var n=m(e);t=ie(n,i[1]),n.forEach(c)},m(l,n){D(l,e,n),h(e,t)},p(l,n){n&2&&Oe(t,l[1])},d(l){l&&c(e)}}}function fn(i){let e,t,l=i[1]&&Zt(i),n=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],a={};for(let r=0;r<n.length;r+=1)a=pe(a,n[r]);return{c(){e=$("svg"),l&&l.c(),t=$("path"),this.h()},l(r){e=ee(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var o=m(e);l&&l.l(o),t=ee(o,"path",{d:!0}),m(t).forEach(c),o.forEach(c),this.h()},h(){b(t,"d","M16 4L6 14 7.41 15.41 15 7.83 15 28 17 28 17 7.83 24.59 15.41 26 14 16 4z"),De(e,a)},m(r,o){D(r,e,o),l&&l.m(e,null),h(e,t)},p(r,[o]){r[1]?l?l.p(r,o):(l=Zt(r),l.c(),l.m(e,t)):l&&(l.d(1),l=null),De(e,a=Xe(n,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},o&1&&{width:r[0]},o&1&&{height:r[0]},o&4&&r[2],o&8&&r[3]]))},i:U,o:U,d(r){r&&c(e),l&&l.d()}}}function cn(i,e,t){let l,n;const a=["size","title"];let r=Se(e,a),{size:o=16}=e,{title:s=void 0}=e;return i.$$set=u=>{t(5,e=pe(pe({},e),Ae(u))),t(3,r=Se(e,a)),"size"in u&&t(0,o=u.size),"title"in u&&t(1,s=u.title)},i.$$.update=()=>{t(4,l=e["aria-label"]||e["aria-labelledby"]||s),t(2,n={"aria-hidden":l?void 0:!0,role:l?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=Ae(e),[o,s,n,r,l]}class dn extends Ne{constructor(e){super(),Be(this,e,cn,fn,He,{size:0,title:1})}}function Qt(i){let e,t;return{c(){e=$("title"),t=le(i[1])},l(l){e=ee(l,"title",{});var n=m(e);t=ie(n,i[1]),n.forEach(c)},m(l,n){D(l,e,n),h(e,t)},p(l,n){n&2&&Oe(t,l[1])},d(l){l&&c(e)}}}function hn(i){let e,t,l,n=i[1]&&Qt(i),a=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],r={};for(let o=0;o<a.length;o+=1)r=pe(r,a[o]);return{c(){e=$("svg"),n&&n.c(),t=$("path"),l=$("path"),this.h()},l(o){e=ee(o,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var s=m(e);n&&n.l(s),t=ee(s,"path",{d:!0}),m(t).forEach(c),l=ee(s,"path",{d:!0}),m(l).forEach(c),s.forEach(c),this.h()},h(){b(t,"d","M20 20L21.4 21.4 18.8 24 28 24 28 26 18.8 26 21.4 28.6 20 30 15 25zM14 15H22V17H14zM14 8H22V10H14z"),b(l,"d","M13,28H8v-4h2v-2H8v-5h2v-2H8v-5h2V8H8V4h18v16h2V4c0-1.1-0.9-2-2-2H8C6.9,2,6,2.9,6,4v4H4v2h2v5H4v2h2v5H4v2h2v4	c0,1.1,0.9,2,2,2h5V28z"),De(e,r)},m(o,s){D(o,e,s),n&&n.m(e,null),h(e,t),h(e,l)},p(o,[s]){o[1]?n?n.p(o,s):(n=Qt(o),n.c(),n.m(e,t)):n&&(n.d(1),n=null),De(e,r=Xe(a,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},s&1&&{width:o[0]},s&1&&{height:o[0]},s&4&&o[2],s&8&&o[3]]))},i:U,o:U,d(o){o&&c(e),n&&n.d()}}}function mn(i,e,t){let l,n;const a=["size","title"];let r=Se(e,a),{size:o=16}=e,{title:s=void 0}=e;return i.$$set=u=>{t(5,e=pe(pe({},e),Ae(u))),t(3,r=Se(e,a)),"size"in u&&t(0,o=u.size),"title"in u&&t(1,s=u.title)},i.$$.update=()=>{t(4,l=e["aria-label"]||e["aria-labelledby"]||s),t(2,n={"aria-hidden":l?void 0:!0,role:l?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=Ae(e),[o,s,n,r,l]}class _n extends Ne{constructor(e){super(),Be(this,e,mn,hn,He,{size:0,title:1})}}function Wt(i){let e,t;return{c(){e=$("title"),t=le(i[1])},l(l){e=ee(l,"title",{});var n=m(e);t=ie(n,i[1]),n.forEach(c)},m(l,n){D(l,e,n),h(e,t)},p(l,n){n&2&&Oe(t,l[1])},d(l){l&&c(e)}}}function gn(i){let e,t,l=i[1]&&Wt(i),n=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],a={};for(let r=0;r<n.length;r+=1)a=pe(a,n[r]);return{c(){e=$("svg"),l&&l.c(),t=$("path"),this.h()},l(r){e=ee(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var o=m(e);l&&l.l(o),t=ee(o,"path",{d:!0}),m(t).forEach(c),o.forEach(c),this.h()},h(){b(t,"d","M10 16L20 6 21.4 7.4 12.8 16 21.4 24.6 20 26z"),De(e,a)},m(r,o){D(r,e,o),l&&l.m(e,null),h(e,t)},p(r,[o]){r[1]?l?l.p(r,o):(l=Wt(r),l.c(),l.m(e,t)):l&&(l.d(1),l=null),De(e,a=Xe(n,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},o&1&&{width:r[0]},o&1&&{height:r[0]},o&4&&r[2],o&8&&r[3]]))},i:U,o:U,d(r){r&&c(e),l&&l.d()}}}function bn(i,e,t){let l,n;const a=["size","title"];let r=Se(e,a),{size:o=16}=e,{title:s=void 0}=e;return i.$$set=u=>{t(5,e=pe(pe({},e),Ae(u))),t(3,r=Se(e,a)),"size"in u&&t(0,o=u.size),"title"in u&&t(1,s=u.title)},i.$$.update=()=>{t(4,l=e["aria-label"]||e["aria-labelledby"]||s),t(2,n={"aria-hidden":l?void 0:!0,role:l?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=Ae(e),[o,s,n,r,l]}class vn extends Ne{constructor(e){super(),Be(this,e,bn,gn,He,{size:0,title:1})}}function Gt(i){let e,t;return{c(){e=$("title"),t=le(i[1])},l(l){e=ee(l,"title",{});var n=m(e);t=ie(n,i[1]),n.forEach(c)},m(l,n){D(l,e,n),h(e,t)},p(l,n){n&2&&Oe(t,l[1])},d(l){l&&c(e)}}}function pn(i){let e,t,l=i[1]&&Gt(i),n=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],a={};for(let r=0;r<n.length;r+=1)a=pe(a,n[r]);return{c(){e=$("svg"),l&&l.c(),t=$("path"),this.h()},l(r){e=ee(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var o=m(e);l&&l.l(o),t=ee(o,"path",{d:!0}),m(t).forEach(c),o.forEach(c),this.h()},h(){b(t,"d","M22 16L12 26 10.6 24.6 19.2 16 10.6 7.4 12 6z"),De(e,a)},m(r,o){D(r,e,o),l&&l.m(e,null),h(e,t)},p(r,[o]){r[1]?l?l.p(r,o):(l=Gt(r),l.c(),l.m(e,t)):l&&(l.d(1),l=null),De(e,a=Xe(n,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},o&1&&{width:r[0]},o&1&&{height:r[0]},o&4&&r[2],o&8&&r[3]]))},i:U,o:U,d(r){r&&c(e),l&&l.d()}}}function wn(i,e,t){let l,n;const a=["size","title"];let r=Se(e,a),{size:o=16}=e,{title:s=void 0}=e;return i.$$set=u=>{t(5,e=pe(pe({},e),Ae(u))),t(3,r=Se(e,a)),"size"in u&&t(0,o=u.size),"title"in u&&t(1,s=u.title)},i.$$.update=()=>{t(4,l=e["aria-label"]||e["aria-labelledby"]||s),t(2,n={"aria-hidden":l?void 0:!0,role:l?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=Ae(e),[o,s,n,r,l]}class kn extends Ne{constructor(e){super(),Be(this,e,wn,pn,He,{size:0,title:1})}}function Xt(i){let e,t;return{c(){e=$("title"),t=le(i[1])},l(l){e=ee(l,"title",{});var n=m(e);t=ie(n,i[1]),n.forEach(c)},m(l,n){D(l,e,n),h(e,t)},p(l,n){n&2&&Oe(t,l[1])},d(l){l&&c(e)}}}function yn(i){let e,t,l,n,a,r,o=i[1]&&Xt(i),s=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],u={};for(let f=0;f<s.length;f+=1)u=pe(u,s[f]);return{c(){e=$("svg"),o&&o.c(),t=$("circle"),l=$("circle"),n=$("circle"),a=$("path"),r=$("path"),this.h()},l(f){e=ee(f,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var d=m(e);o&&o.l(d),t=ee(d,"circle",{cx:!0,cy:!0,r:!0}),m(t).forEach(c),l=ee(d,"circle",{cx:!0,cy:!0,r:!0}),m(l).forEach(c),n=ee(d,"circle",{cx:!0,cy:!0,r:!0}),m(n).forEach(c),a=ee(d,"path",{d:!0}),m(a).forEach(c),r=ee(d,"path",{d:!0}),m(r).forEach(c),d.forEach(c),this.h()},h(){b(t,"cx","7"),b(t,"cy","7"),b(t,"r","1"),b(l,"cx","7"),b(l,"cy","15"),b(l,"r","1"),b(n,"cx","7"),b(n,"cy","23"),b(n,"r","1"),b(a,"d","M12,26H4V20h8V18H4V12H22V4a2,2,0,0,0-2-2H4A2,2,0,0,0,2,4V26a2,2,0,0,0,2,2h8ZM4,4H20v6H4Z"),b(r,"d","M28,17v2.4131A6.996,6.996,0,1,0,22,30V28a5,5,0,1,1,4.5762-7H24v2h6V17Z"),De(e,u)},m(f,d){D(f,e,d),o&&o.m(e,null),h(e,t),h(e,l),h(e,n),h(e,a),h(e,r)},p(f,[d]){f[1]?o?o.p(f,d):(o=Xt(f),o.c(),o.m(e,t)):o&&(o.d(1),o=null),De(e,u=Xe(s,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},d&1&&{width:f[0]},d&1&&{height:f[0]},d&4&&f[2],d&8&&f[3]]))},i:U,o:U,d(f){f&&c(e),o&&o.d()}}}function In(i,e,t){let l,n;const a=["size","title"];let r=Se(e,a),{size:o=16}=e,{title:s=void 0}=e;return i.$$set=u=>{t(5,e=pe(pe({},e),Ae(u))),t(3,r=Se(e,a)),"size"in u&&t(0,o=u.size),"title"in u&&t(1,s=u.title)},i.$$.update=()=>{t(4,l=e["aria-label"]||e["aria-labelledby"]||s),t(2,n={"aria-hidden":l?void 0:!0,role:l?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=Ae(e),[o,s,n,r,l]}class En extends Ne{constructor(e){super(),Be(this,e,In,yn,He,{size:0,title:1})}}function Jt(i){let e,t;return{c(){e=$("title"),t=le(i[1])},l(l){e=ee(l,"title",{});var n=m(e);t=ie(n,i[1]),n.forEach(c)},m(l,n){D(l,e,n),h(e,t)},p(l,n){n&2&&Oe(t,l[1])},d(l){l&&c(e)}}}function Mn(i){let e,t,l,n,a,r,o,s=i[1]&&Jt(i),u=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],f={};for(let d=0;d<u.length;d+=1)f=pe(f,u[d]);return{c(){e=$("svg"),s&&s.c(),t=$("circle"),l=$("path"),n=$("circle"),a=$("circle"),r=$("circle"),o=$("path"),this.h()},l(d){e=ee(d,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var _=m(e);s&&s.l(_),t=ee(_,"circle",{cx:!0,cy:!0,r:!0}),m(t).forEach(c),l=ee(_,"path",{d:!0}),m(l).forEach(c),n=ee(_,"circle",{cx:!0,cy:!0,r:!0}),m(n).forEach(c),a=ee(_,"circle",{cx:!0,cy:!0,r:!0}),m(a).forEach(c),r=ee(_,"circle",{cx:!0,cy:!0,r:!0}),m(r).forEach(c),o=ee(_,"path",{d:!0}),m(o).forEach(c),_.forEach(c),this.h()},h(){b(t,"cx","22"),b(t,"cy","24"),b(t,"r","2"),b(l,"d","M29.7769,23.4785A8.64,8.64,0,0,0,22,18a8.64,8.64,0,0,0-7.7769,5.4785L14,24l.2231.5215A8.64,8.64,0,0,0,22,30a8.64,8.64,0,0,0,7.7769-5.4785L30,24ZM22,28a4,4,0,1,1,4-4A4.0045,4.0045,0,0,1,22,28Z"),b(n,"cx","8"),b(n,"cy","8"),b(n,"r","1"),b(a,"cx","8"),b(a,"cy","16"),b(a,"r","1"),b(r,"cx","8"),b(r,"cy","24"),b(r,"r","1"),b(o,"d","M5,21h7V19H5V13H21v3h2V5a2,2,0,0,0-2-2H5A2,2,0,0,0,3,5V27a2,2,0,0,0,2,2h7V27H5ZM5,5H21v6H5Z"),De(e,f)},m(d,_){D(d,e,_),s&&s.m(e,null),h(e,t),h(e,l),h(e,n),h(e,a),h(e,r),h(e,o)},p(d,[_]){d[1]?s?s.p(d,_):(s=Jt(d),s.c(),s.m(e,t)):s&&(s.d(1),s=null),De(e,f=Xe(u,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},_&1&&{width:d[0]},_&1&&{height:d[0]},_&4&&d[2],_&8&&d[3]]))},i:U,o:U,d(d){d&&c(e),s&&s.d()}}}function Vn(i,e,t){let l,n;const a=["size","title"];let r=Se(e,a),{size:o=16}=e,{title:s=void 0}=e;return i.$$set=u=>{t(5,e=pe(pe({},e),Ae(u))),t(3,r=Se(e,a)),"size"in u&&t(0,o=u.size),"title"in u&&t(1,s=u.title)},i.$$.update=()=>{t(4,l=e["aria-label"]||e["aria-labelledby"]||s),t(2,n={"aria-hidden":l?void 0:!0,role:l?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=Ae(e),[o,s,n,r,l]}class Tn extends Ne{constructor(e){super(),Be(this,e,Vn,Mn,He,{size:0,title:1})}}function xt(i){let e,t;return{c(){e=$("title"),t=le(i[1])},l(l){e=ee(l,"title",{});var n=m(e);t=ie(n,i[1]),n.forEach(c)},m(l,n){D(l,e,n),h(e,t)},p(l,n){n&2&&Oe(t,l[1])},d(l){l&&c(e)}}}function On(i){let e,t,l,n,a=i[1]&&xt(i),r=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],o={};for(let s=0;s<r.length;s+=1)o=pe(o,r[s]);return{c(){e=$("svg"),a&&a.c(),t=$("circle"),l=$("path"),n=$("path"),this.h()},l(s){e=ee(s,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var u=m(e);a&&a.l(u),t=ee(u,"circle",{cx:!0,cy:!0,r:!0}),m(t).forEach(c),l=ee(u,"path",{d:!0}),m(l).forEach(c),n=ee(u,"path",{d:!0}),m(n).forEach(c),u.forEach(c),this.h()},h(){b(t,"cx","22"),b(t,"cy","24"),b(t,"r","2"),b(l,"d","M29.7769 23.4785A8.64 8.64 0 0022 18a8.64 8.64 0 00-7.7769 5.4785L14 24l.2231.5215A8.64 8.64 0 0022 30a8.64 8.64 0 007.7769-5.4785L30 24zM22 28a4 4 0 114-4A4.0045 4.0045 0 0122 28zM7 17H12V19H7zM7 12H19V14H7zM7 7H19V9H7z"),b(n,"d","M22,2,4,2A2.0058,2.0058,0,0,0,2,4V28a2.0058,2.0058,0,0,0,2,2h8V28H4V4H22V15h2V4A2.0058,2.0058,0,0,0,22,2Z"),De(e,o)},m(s,u){D(s,e,u),a&&a.m(e,null),h(e,t),h(e,l),h(e,n)},p(s,[u]){s[1]?a?a.p(s,u):(a=xt(s),a.c(),a.m(e,t)):a&&(a.d(1),a=null),De(e,o=Xe(r,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},u&1&&{width:s[0]},u&1&&{height:s[0]},u&4&&s[2],u&8&&s[3]]))},i:U,o:U,d(s){s&&c(e),a&&a.d()}}}function Cn(i,e,t){let l,n;const a=["size","title"];let r=Se(e,a),{size:o=16}=e,{title:s=void 0}=e;return i.$$set=u=>{t(5,e=pe(pe({},e),Ae(u))),t(3,r=Se(e,a)),"size"in u&&t(0,o=u.size),"title"in u&&t(1,s=u.title)},i.$$.update=()=>{t(4,l=e["aria-label"]||e["aria-labelledby"]||s),t(2,n={"aria-hidden":l?void 0:!0,role:l?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=Ae(e),[o,s,n,r,l]}class Pn extends Ne{constructor(e){super(),Be(this,e,Cn,On,He,{size:0,title:1})}}function $t(i){let e,t;return{c(){e=$("title"),t=le(i[1])},l(l){e=ee(l,"title",{});var n=m(e);t=ie(n,i[1]),n.forEach(c)},m(l,n){D(l,e,n),h(e,t)},p(l,n){n&2&&Oe(t,l[1])},d(l){l&&c(e)}}}function Dn(i){let e,t,l=i[1]&&$t(i),n=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],a={};for(let r=0;r<n.length;r+=1)a=pe(a,n[r]);return{c(){e=$("svg"),l&&l.c(),t=$("path"),this.h()},l(r){e=ee(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var o=m(e);l&&l.l(o),t=ee(o,"path",{d:!0}),m(t).forEach(c),o.forEach(c),this.h()},h(){b(t,"d","M6 13L6 7.414 15 16.414 15 28 17 28 17 16.414 26 7.414 26 13 28 13 28 4 19 4 19 6 24.586 6 16 14.586 7.414 6 13 6 13 4 4 4 4 13 6 13z"),De(e,a)},m(r,o){D(r,e,o),l&&l.m(e,null),h(e,t)},p(r,[o]){r[1]?l?l.p(r,o):(l=$t(r),l.c(),l.m(e,t)):l&&(l.d(1),l=null),De(e,a=Xe(n,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},o&1&&{width:r[0]},o&1&&{height:r[0]},o&4&&r[2],o&8&&r[3]]))},i:U,o:U,d(r){r&&c(e),l&&l.d()}}}function Sn(i,e,t){let l,n;const a=["size","title"];let r=Se(e,a),{size:o=16}=e,{title:s=void 0}=e;return i.$$set=u=>{t(5,e=pe(pe({},e),Ae(u))),t(3,r=Se(e,a)),"size"in u&&t(0,o=u.size),"title"in u&&t(1,s=u.title)},i.$$.update=()=>{t(4,l=e["aria-label"]||e["aria-labelledby"]||s),t(2,n={"aria-hidden":l?void 0:!0,role:l?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=Ae(e),[o,s,n,r,l]}class An extends Ne{constructor(e){super(),Be(this,e,Sn,Dn,He,{size:0,title:1})}}function el(i){let e,t;return{c(){e=$("title"),t=le(i[1])},l(l){e=ee(l,"title",{});var n=m(e);t=ie(n,i[1]),n.forEach(c)},m(l,n){D(l,e,n),h(e,t)},p(l,n){n&2&&Oe(t,l[1])},d(l){l&&c(e)}}}function Rn(i){let e,t,l,n=i[1]&&el(i),a=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],r={};for(let o=0;o<a.length;o+=1)r=pe(r,a[o]);return{c(){e=$("svg"),n&&n.c(),t=$("path"),l=$("path"),this.h()},l(o){e=ee(o,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var s=m(e);n&&n.l(s),t=ee(s,"path",{d:!0}),m(t).forEach(c),l=ee(s,"path",{d:!0}),m(l).forEach(c),s.forEach(c),this.h()},h(){b(t,"d","M25.7,9.3l-7-7C18.5,2.1,18.3,2,18,2H8C6.9,2,6,2.9,6,4v24c0,1.1,0.9,2,2,2h16c1.1,0,2-0.9,2-2V10C26,9.7,25.9,9.5,25.7,9.3	z M18,4.4l5.6,5.6H18V4.4z M24,28H8V4h8v6c0,1.1,0.9,2,2,2h6V28z"),b(l,"d","M10 22H22V24H10zM10 16H22V18H10z"),De(e,r)},m(o,s){D(o,e,s),n&&n.m(e,null),h(e,t),h(e,l)},p(o,[s]){o[1]?n?n.p(o,s):(n=el(o),n.c(),n.m(e,t)):n&&(n.d(1),n=null),De(e,r=Xe(a,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},s&1&&{width:o[0]},s&1&&{height:o[0]},s&4&&o[2],s&8&&o[3]]))},i:U,o:U,d(o){o&&c(e),n&&n.d()}}}function zn(i,e,t){let l,n;const a=["size","title"];let r=Se(e,a),{size:o=16}=e,{title:s=void 0}=e;return i.$$set=u=>{t(5,e=pe(pe({},e),Ae(u))),t(3,r=Se(e,a)),"size"in u&&t(0,o=u.size),"title"in u&&t(1,s=u.title)},i.$$.update=()=>{t(4,l=e["aria-label"]||e["aria-labelledby"]||s),t(2,n={"aria-hidden":l?void 0:!0,role:l?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=Ae(e),[o,s,n,r,l]}class Ln extends Ne{constructor(e){super(),Be(this,e,zn,Rn,He,{size:0,title:1})}}function tl(i){let e,t;return{c(){e=$("title"),t=le(i[1])},l(l){e=ee(l,"title",{});var n=m(e);t=ie(n,i[1]),n.forEach(c)},m(l,n){D(l,e,n),h(e,t)},p(l,n){n&2&&Oe(t,l[1])},d(l){l&&c(e)}}}function Nn(i){let e,t,l=i[1]&&tl(i),n=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],a={};for(let r=0;r<n.length;r+=1)a=pe(a,n[r]);return{c(){e=$("svg"),l&&l.c(),t=$("path"),this.h()},l(r){e=ee(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var o=m(e);l&&l.l(o),t=ee(o,"path",{d:!0}),m(t).forEach(c),o.forEach(c),this.h()},h(){b(t,"d","M30 16L22 24 20.6 22.6 27.2 16 20.6 9.4 22 8zM12 15H20V17H12zM2 16L10 8 11.4 9.4 4.8 16 11.4 22.6 10 24z"),De(e,a)},m(r,o){D(r,e,o),l&&l.m(e,null),h(e,t)},p(r,[o]){r[1]?l?l.p(r,o):(l=tl(r),l.c(),l.m(e,t)):l&&(l.d(1),l=null),De(e,a=Xe(n,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},o&1&&{width:r[0]},o&1&&{height:r[0]},o&4&&r[2],o&8&&r[3]]))},i:U,o:U,d(r){r&&c(e),l&&l.d()}}}function Bn(i,e,t){let l,n;const a=["size","title"];let r=Se(e,a),{size:o=16}=e,{title:s=void 0}=e;return i.$$set=u=>{t(5,e=pe(pe({},e),Ae(u))),t(3,r=Se(e,a)),"size"in u&&t(0,o=u.size),"title"in u&&t(1,s=u.title)},i.$$.update=()=>{t(4,l=e["aria-label"]||e["aria-labelledby"]||s),t(2,n={"aria-hidden":l?void 0:!0,role:l?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=Ae(e),[o,s,n,r,l]}class Hn extends Ne{constructor(e){super(),Be(this,e,Bn,Nn,He,{size:0,title:1})}}function ll(i){let e,t;return{c(){e=$("title"),t=le(i[1])},l(l){e=ee(l,"title",{});var n=m(e);t=ie(n,i[1]),n.forEach(c)},m(l,n){D(l,e,n),h(e,t)},p(l,n){n&2&&Oe(t,l[1])},d(l){l&&c(e)}}}function Fn(i){let e,t,l=i[1]&&ll(i),n=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],a={};for(let r=0;r<n.length;r+=1)a=pe(a,n[r]);return{c(){e=$("svg"),l&&l.c(),t=$("path"),this.h()},l(r){e=ee(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var o=m(e);l&&l.l(o),t=ee(o,"path",{d:!0}),m(t).forEach(c),o.forEach(c),this.h()},h(){b(t,"d","M29,5a2,2,0,0,0-2-2H5A2,2,0,0,0,3,5V27a2,2,0,0,0,2,2H27a2,2,0,0,0,2-2ZM27,5V9H5V5Zm0,22H5V23H27Zm0-6H5V17H27Zm0-6H5V11H27Z"),De(e,a)},m(r,o){D(r,e,o),l&&l.m(e,null),h(e,t)},p(r,[o]){r[1]?l?l.p(r,o):(l=ll(r),l.c(),l.m(e,t)):l&&(l.d(1),l=null),De(e,a=Xe(n,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},o&1&&{width:r[0]},o&1&&{height:r[0]},o&4&&r[2],o&8&&r[3]]))},i:U,o:U,d(r){r&&c(e),l&&l.d()}}}function jn(i,e,t){let l,n;const a=["size","title"];let r=Se(e,a),{size:o=16}=e,{title:s=void 0}=e;return i.$$set=u=>{t(5,e=pe(pe({},e),Ae(u))),t(3,r=Se(e,a)),"size"in u&&t(0,o=u.size),"title"in u&&t(1,s=u.title)},i.$$.update=()=>{t(4,l=e["aria-label"]||e["aria-labelledby"]||s),t(2,n={"aria-hidden":l?void 0:!0,role:l?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=Ae(e),[o,s,n,r,l]}class qn extends Ne{constructor(e){super(),Be(this,e,jn,Fn,He,{size:0,title:1})}}function il(i){let e,t;return{c(){e=$("title"),t=le(i[1])},l(l){e=ee(l,"title",{});var n=m(e);t=ie(n,i[1]),n.forEach(c)},m(l,n){D(l,e,n),h(e,t)},p(l,n){n&2&&Oe(t,l[1])},d(l){l&&c(e)}}}function Yn(i){let e,t,l,n=i[1]&&il(i),a=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],r={};for(let o=0;o<a.length;o+=1)r=pe(r,a[o]);return{c(){e=$("svg"),n&&n.c(),t=$("path"),l=$("path"),this.h()},l(o){e=ee(o,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var s=m(e);n&&n.l(s),t=ee(s,"path",{d:!0}),m(t).forEach(c),l=ee(s,"path",{d:!0}),m(l).forEach(c),s.forEach(c),this.h()},h(){b(t,"d","M10,14a4,4,0,1,1,4-4A4.0045,4.0045,0,0,1,10,14Zm0-6a2,2,0,1,0,1.998,2.0044A2.002,2.002,0,0,0,10,8Z"),b(l,"d","M16.6436,29.4145,2.5858,15.3555A2,2,0,0,1,2,13.9414V4A2,2,0,0,1,4,2h9.9413a2,2,0,0,1,1.4142.5858L29.4144,16.6436a2.0005,2.0005,0,0,1,0,2.8285l-9.9424,9.9425a2.0008,2.0008,0,0,1-2.8285,0ZM4,4v9.9417L18.0578,28,28,18.0579,13.9416,4Z"),De(e,r)},m(o,s){D(o,e,s),n&&n.m(e,null),h(e,t),h(e,l)},p(o,[s]){o[1]?n?n.p(o,s):(n=il(o),n.c(),n.m(e,t)):n&&(n.d(1),n=null),De(e,r=Xe(a,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},s&1&&{width:o[0]},s&1&&{height:o[0]},s&4&&o[2],s&8&&o[3]]))},i:U,o:U,d(o){o&&c(e),n&&n.d()}}}function Un(i,e,t){let l,n;const a=["size","title"];let r=Se(e,a),{size:o=16}=e,{title:s=void 0}=e;return i.$$set=u=>{t(5,e=pe(pe({},e),Ae(u))),t(3,r=Se(e,a)),"size"in u&&t(0,o=u.size),"title"in u&&t(1,s=u.title)},i.$$.update=()=>{t(4,l=e["aria-label"]||e["aria-labelledby"]||s),t(2,n={"aria-hidden":l?void 0:!0,role:l?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=Ae(e),[o,s,n,r,l]}class ai extends Ne{constructor(e){super(),Be(this,e,Un,Yn,He,{size:0,title:1})}}function nl(i){let e,t;return{c(){e=$("title"),t=le(i[1])},l(l){e=ee(l,"title",{});var n=m(e);t=ie(n,i[1]),n.forEach(c)},m(l,n){D(l,e,n),h(e,t)},p(l,n){n&2&&Oe(t,l[1])},d(l){l&&c(e)}}}function Kn(i){let e,t,l=i[1]&&nl(i),n=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],a={};for(let r=0;r<n.length;r+=1)a=pe(a,n[r]);return{c(){e=$("svg"),l&&l.c(),t=$("path"),this.h()},l(r){e=ee(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var o=m(e);l&&l.l(o),t=ee(o,"path",{d:!0}),m(t).forEach(c),o.forEach(c),this.h()},h(){b(t,"d","M20,10H7.8149l3.5874-3.5859L10,5,4,11,10,17l1.4023-1.4146L7.8179,12H20a6,6,0,0,1,0,12H12v2h8a8,8,0,0,0,0-16Z"),De(e,a)},m(r,o){D(r,e,o),l&&l.m(e,null),h(e,t)},p(r,[o]){r[1]?l?l.p(r,o):(l=nl(r),l.c(),l.m(e,t)):l&&(l.d(1),l=null),De(e,a=Xe(n,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},o&1&&{width:r[0]},o&1&&{height:r[0]},o&4&&r[2],o&8&&r[3]]))},i:U,o:U,d(r){r&&c(e),l&&l.d()}}}function Zn(i,e,t){let l,n;const a=["size","title"];let r=Se(e,a),{size:o=16}=e,{title:s=void 0}=e;return i.$$set=u=>{t(5,e=pe(pe({},e),Ae(u))),t(3,r=Se(e,a)),"size"in u&&t(0,o=u.size),"title"in u&&t(1,s=u.title)},i.$$.update=()=>{t(4,l=e["aria-label"]||e["aria-labelledby"]||s),t(2,n={"aria-hidden":l?void 0:!0,role:l?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=Ae(e),[o,s,n,r,l]}class oi extends Ne{constructor(e){super(),Be(this,e,Zn,Kn,He,{size:0,title:1})}}function Qn(i){var o;let e,t,l,n=((o=i[0])==null?void 0:o.toLocaleString())+"",a,r;return{c(){e=E("p"),t=le("Delete "),l=E("span"),a=le(n),r=le(`
    rows?`),this.h()},l(s){e=M(s,"P",{});var u=m(e);t=ie(u,"Delete "),l=M(u,"SPAN",{class:!0});var f=m(l);a=ie(f,n),f.forEach(c),r=ie(u,`
    rows?`),u.forEach(c),this.h()},h(){b(l,"class","font-mono font-bold")},m(s,u){D(s,e,u),h(e,t),h(e,l),h(l,a),h(e,r)},p(s,u){var f;u&1&&n!==(n=((f=s[0])==null?void 0:f.toLocaleString())+"")&&Oe(a,n)},d(s){s&&c(e)}}}function Wn(i){let e,t,l,n,a,r,o,s,u;return l=new Zi({}),r=new zt({props:{size:"xs",open:i[1]&&!i[4],modalHeading:"Delete rows",primaryButtonText:"Confirm",secondaryButtonText:"Cancel",selectorPrimaryFocus:".bx--btn--primary",$$slots:{default:[Qn]},$$scope:{ctx:i}}}),r.$on("submit",i[13]),r.$on("click:button--secondary",i[14]),r.$on("close",i[15]),{c(){e=E("div"),t=E("button"),re(l.$$.fragment),a=fe(),re(r.$$.fragment),this.h()},l(f){e=M(f,"DIV",{});var d=m(e);t=M(d,"BUTTON",{class:!0});var _=m(t);he(l.$$.fragment,_),_.forEach(c),d.forEach(c),a=ce(f),he(r.$$.fragment,f),this.h()},h(){t.disabled=i[4],b(t,"class","h-8 rounded border border-gray-300 bg-white hover:border-red-500 hover:bg-transparent"),q(t,"opacity-30",i[4])},m(f,d){D(f,e,d),h(e,t),se(l,t,null),D(f,a,d),se(r,f,d),o=!0,s||(u=[Qe(t,"click",i[12]),qe(n=Ze.call(null,e,{text:i[3]?i[2]!=null&&i[2].length===1?"Delete row":"Delete rows":"User does not have access to delete rows."}))],s=!0)},p(f,[d]){(!o||d&16)&&(t.disabled=f[4]),(!o||d&16)&&q(t,"opacity-30",f[4]),n&&tt(n.update)&&d&12&&n.update.call(null,{text:f[3]?f[2]!=null&&f[2].length===1?"Delete row":"Delete rows":"User does not have access to delete rows."});const _={};d&18&&(_.open=f[1]&&!f[4]),d&524289&&(_.$$scope={dirty:d,ctx:f}),r.$set(_)},i(f){o||(p(l.$$.fragment,f),p(r.$$.fragment,f),o=!0)},o(f){w(l.$$.fragment,f),w(r.$$.fragment,f),o=!1},d(f){f&&c(e),ae(l),f&&c(a),ae(r,f),s=!1,nt(u)}}}function Gn(i,e,t){let l,n,a,r,o,{rowIds:s=void 0}=e,{searches:u=void 0}=e,{filters:f=void 0}=e,{numRows:d=void 0}=e,{modalOpen:_=!1}=e;const g=Mt();Ge(i,g,S=>t(11,o=S));const T=It(),N=dt();Ge(i,N,S=>t(16,a=S));const z=Vi();Ge(i,z,S=>t(17,r=S));function O(){r.mutate([a.namespace,a.datasetName,{row_ids:s,searches:u,filters:f}],{onSuccess:()=>{T("deleted"),t(1,_=!1),close()}})}const k=()=>{n||t(1,_=!0)},V=()=>O(),R=()=>{t(1,_=!1)},I=()=>t(1,_=!1);return i.$$set=S=>{"rowIds"in S&&t(2,s=S.rowIds),"searches"in S&&t(9,u=S.searches),"filters"in S&&t(10,f=S.filters),"numRows"in S&&t(0,d=S.numRows),"modalOpen"in S&&t(1,_=S.modalOpen)},i.$$.update=()=>{var S;i.$$.dirty&2048&&t(3,l=(S=o.data)==null?void 0:S.access.dataset.delete_rows),i.$$.dirty&5&&d==null&&s!=null&&t(0,d=s.length),i.$$.dirty&1548&&t(4,n=!l||s==null&&u==null&&f==null)},[d,_,s,l,n,g,N,z,O,u,f,o,k,V,R,I]}class Xn extends Ne{constructor(e){super(),Be(this,e,Gn,Wn,He,{rowIds:2,searches:9,filters:10,numRows:0,modalOpen:1})}}function Jn(i,{disable:e}){if(e=e??!1,!e){const t=i.getBoundingClientRect();document.body.append(i),i.style.position="absolute",i.style.top=`${t.top}px`,i.style.left=`${t.left}px`}}function rl(i){const e=i[1].find(function(...l){return i[19](i[25],...l)});i[26]=e}const xn=i=>({item:i&33554434,inputText:i&1}),sl=i=>({item:i[26],inputText:i[0]});function al(i){let e,t;return e=new Ti({}),{c(){re(e.$$.fragment)},l(l){he(e.$$.fragment,l)},m(l,n){se(e,l,n),t=!0},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){w(e.$$.fragment,l),t=!1},d(l){ae(e,l)}}}function ol(i){let e,t,l,n,a,r,o,s;function u(d){i[21](d)}let f={size:"sm",open:i[14],items:i[1],shouldFilterItem:i[6]?i[6]:void 0,placeholder:i[5],$$slots:{default:[tr,({item:d})=>({25:d}),({item:d})=>d?33554432:0]},$$scope:{ctx:i}};return i[0]!==void 0&&(f.value=i[0]),t=new ln({props:f}),i[20](t),at.push(()=>gt(t,"value",u)),t.$on("select",i[16]),{c(){e=E("div"),re(t.$$.fragment),this.h()},l(d){e=M(d,"DIV",{class:!0});var _=m(e);he(t.$$.fragment,_),_.forEach(c),this.h()},h(){b(e,"class","z-50 w-60"),q(e,"absolute",i[12]),q(e,"hidden",!i[14])},m(d,_){D(d,e,_),se(t,e,null),r=!0,o||(s=[qe(n=$i.call(null,e,i[22])),qe(a=Jn.call(null,e,{disable:!i[12]}))],o=!0)},p(d,_){const g={};_&16384&&(g.open=d[14]),_&2&&(g.items=d[1]),_&64&&(g.shouldFilterItem=d[6]?d[6]:void 0),_&32&&(g.placeholder=d[5]),_&42074115&&(g.$$scope={dirty:_,ctx:d}),!l&&_&1&&(l=!0,g.value=d[0],bt(()=>l=!1)),t.$set(g),n&&tt(n.update)&&_&24576&&n.update.call(null,d[22]),a&&tt(a.update)&&_&4096&&a.update.call(null,{disable:!d[12]}),(!r||_&4096)&&q(e,"absolute",d[12]),(!r||_&16384)&&q(e,"hidden",!d[14])},i(d){r||(p(t.$$.fragment,d),r=!0)},o(d){w(t.$$.fragment,d),r=!1},d(d){d&&c(e),i[20](null),ae(t),o=!1,nt(s)}}}function $n(i){let e,t=i[26].text+"",l;return{c(){e=E("div"),l=le(t),this.h()},l(n){e=M(n,"DIV",{class:!0});var a=m(e);l=ie(a,t),a.forEach(c),this.h()},h(){b(e,"class","flex justify-between gap-x-8")},m(n,a){D(n,e,a),h(e,l)},p(n,a){a&33554434&&t!==(t=n[26].text+"")&&Oe(l,t)},i:U,o:U,d(n){n&&c(e)}}}function er(i){let e;const t=i[18].item,l=wi(t,i,i[23],sl);return{c(){l&&l.c()},l(n){l&&l.l(n)},m(n,a){l&&l.m(n,a),e=!0},p(n,a){l&&l.p&&(!e||a&41943043)&&ki(l,t,n,n[23],e?Ii(t,n[23],a,xn):yi(n[23]),sl)},i(n){e||(p(l,n),e=!0)},o(n){w(l,n),e=!1},d(n){l&&l.d(n)}}}function tr(i){rl(i);let e,t,l,n;const a=[er,$n],r=[];function o(s,u){return s[17].item?0:s[26]?1:-1}return~(e=o(i))&&(t=r[e]=a[e](i)),{c(){t&&t.c(),l=xe()},l(s){t&&t.l(s),l=xe()},m(s,u){~e&&r[e].m(s,u),D(s,l,u),n=!0},p(s,u){rl(s);let f=e;e=o(s),e===f?~e&&r[e].p(s,u):(t&&(Ve(),w(r[f],1,1,()=>{r[f]=null}),Te()),~e?(t=r[e],t?t.p(s,u):(t=r[e]=a[e](s),t.c()),p(t,1),t.m(l.parentNode,l)):t=null)},i(s){n||(p(t),n=!0)},o(s){w(t),n=!1},d(s){~e&&r[e].d(s),s&&c(l)}}}function lr(i){let e,t,l,n,a,r,o,s,u,f,d,_,g,T=i[7]&&al();var N=i[2];function z(k){return{}}N&&(a=ct(N,z()));let O=i[14]&&ol(i);return{c(){e=E("div"),t=E("div"),l=E("button"),T&&T.c(),n=fe(),a&&re(a.$$.fragment),r=fe(),o=le(i[3]),f=fe(),O&&O.c(),this.h()},l(k){e=M(k,"DIV",{class:!0});var V=m(e);t=M(V,"DIV",{});var R=m(t);l=M(R,"BUTTON",{class:!0});var I=m(l);T&&T.l(I),n=ce(I),a&&he(a.$$.fragment,I),r=ce(I),o=ie(I,i[3]),I.forEach(c),R.forEach(c),f=ce(V),O&&O.l(V),V.forEach(c),this.h()},h(){l.disabled=i[9],b(l,"class","flex items-center gap-x-2 bg-white"),q(l,"opacity-30",i[9]),q(l,"text-red-600",i[11]),q(l,"border",i[4]),q(l,"border-gray-300",i[4]),q(l,"hidden",i[14]),b(e,"class","relative h-8")},m(k,V){D(k,e,V),h(e,t),h(t,l),T&&T.m(l,null),h(l,n),a&&se(a,l,null),h(l,r),h(l,o),h(e,f),O&&O.m(e,null),d=!0,_||(g=[Qe(l,"click",i[15]),qe(s=Ze.call(null,l,{text:i[8]})),qe(u=Ze.call(null,t,{text:i[9]?i[10]:""}))],_=!0)},p(k,[V]){if(k[7]?T?V&128&&p(T,1):(T=al(),T.c(),p(T,1),T.m(l,n)):T&&(Ve(),w(T,1,1,()=>{T=null}),Te()),V&4&&N!==(N=k[2])){if(a){Ve();const R=a;w(R.$$.fragment,1,0,()=>{ae(R,1)}),Te()}N?(a=ct(N,z()),re(a.$$.fragment),p(a.$$.fragment,1),se(a,l,r)):a=null}(!d||V&8)&&Oe(o,k[3]),(!d||V&512)&&(l.disabled=k[9]),s&&tt(s.update)&&V&256&&s.update.call(null,{text:k[8]}),(!d||V&512)&&q(l,"opacity-30",k[9]),(!d||V&2048)&&q(l,"text-red-600",k[11]),(!d||V&16)&&q(l,"border",k[4]),(!d||V&16)&&q(l,"border-gray-300",k[4]),(!d||V&16384)&&q(l,"hidden",k[14]),u&&tt(u.update)&&V&1536&&u.update.call(null,{text:k[9]?k[10]:""}),k[14]?O?(O.p(k,V),V&16384&&p(O,1)):(O=ol(k),O.c(),p(O,1),O.m(e,null)):O&&(Ve(),w(O,1,1,()=>{O=null}),Te())},i(k){d||(p(T),a&&p(a.$$.fragment,k),p(O),d=!0)},o(k){w(T),a&&w(a.$$.fragment,k),w(O),d=!1},d(k){k&&c(e),T&&T.d(),a&&ae(a),O&&O.d(),_=!1,nt(g)}}}function ir(i,e,t){let{$$slots:l={},$$scope:n}=e;const a=pi(l);let{items:r}=e,{buttonIcon:o}=e,{buttonText:s=""}=e,{buttonOutline:u=!1}=e,{comboBoxText:f=""}=e,{comboBoxPlaceholder:d=""}=e,{shouldFilterItem:_=void 0}=e,{isLoading:g=!1}=e,{helperText:T=""}=e,{disabled:N=!1}=e,{disabledMessage:z=""}=e,{redText:O=!1}=e,{hoist:k=!1}=e;const V=It();let R,I=!1;function S(){t(14,I=!0),requestAnimationFrame(()=>{R.$set({open:!0})})}function te(A){V("select",A.detail.selectedItem),R.clear(),t(14,I=!1)}const ne=(A,C)=>C.id===A.id;function be(A){at[A?"unshift":"push"](()=>{R=A,t(13,R)})}function me(A){f=A,t(0,f)}const Z=()=>{R.clear(),t(14,I=!1)};return i.$$set=A=>{"items"in A&&t(1,r=A.items),"buttonIcon"in A&&t(2,o=A.buttonIcon),"buttonText"in A&&t(3,s=A.buttonText),"buttonOutline"in A&&t(4,u=A.buttonOutline),"comboBoxText"in A&&t(0,f=A.comboBoxText),"comboBoxPlaceholder"in A&&t(5,d=A.comboBoxPlaceholder),"shouldFilterItem"in A&&t(6,_=A.shouldFilterItem),"isLoading"in A&&t(7,g=A.isLoading),"helperText"in A&&t(8,T=A.helperText),"disabled"in A&&t(9,N=A.disabled),"disabledMessage"in A&&t(10,z=A.disabledMessage),"redText"in A&&t(11,O=A.redText),"hoist"in A&&t(12,k=A.hoist),"$$scope"in A&&t(23,n=A.$$scope)},[f,r,o,s,u,d,_,g,T,N,z,O,k,R,I,S,te,a,l,ne,be,me,Z,n]}class Lt extends Ne{constructor(e){super(),Be(this,e,ir,lr,He,{items:1,buttonIcon:2,buttonText:3,buttonOutline:4,comboBoxText:0,comboBoxPlaceholder:5,shouldFilterItem:6,isLoading:7,helperText:8,disabled:9,disabledMessage:10,redText:11,hoist:12})}}function nr(i){let e,t=i[38].text+"",l;return{c(){e=E("div"),l=le(t),this.h()},l(n){e=M(n,"DIV",{class:!0});var a=m(e);l=ie(a,t),a.forEach(c),this.h()},h(){b(e,"class","flex justify-between gap-x-8")},m(n,a){D(n,e,a),h(e,l)},p(n,a){a[1]&128&&t!==(t=n[38].text+"")&&Oe(l,t)},i:U,o:U,d(n){n&&c(e)}}}function rr(i){let e,t,l,n,a,r=i[37]+"",o,s;return t=new ai({}),{c(){e=E("div"),re(t.$$.fragment),l=fe(),n=E("div"),a=le("New label: "),o=le(r),this.h()},l(u){e=M(u,"DIV",{class:!0});var f=m(e);he(t.$$.fragment,f),l=ce(f),n=M(f,"DIV",{class:!0});var d=m(n);a=ie(d,"New label: "),o=ie(d,r),d.forEach(c),f.forEach(c),this.h()},h(){b(n,"class","ml-2"),b(e,"class","new-concept flex flex-row items-center justify-items-center")},m(u,f){D(u,e,f),se(t,e,null),h(e,l),h(e,n),h(n,a),h(n,o),s=!0},p(u,f){(!s||f[1]&64)&&r!==(r=u[37]+"")&&Oe(o,r)},i(u){s||(p(t.$$.fragment,u),s=!0)},o(u){w(t.$$.fragment,u),s=!1},d(u){u&&c(e),ae(t)}}}function sr(i){let e;return{c(){e=E("div")},l(t){e=M(t,"DIV",{}),m(e).forEach(c)},m(t,l){D(t,e,l)},p:U,i:U,o:U,d(t){t&&c(e)}}}function ar(i){let e,t,l,n;const a=[sr,rr,nr],r=[];function o(s,u){return s[38]==null?0:s[38].id==="new-label"?1:2}return t=o(i),l=r[t]=a[t](i),{c(){e=E("div"),l.c(),this.h()},l(s){e=M(s,"DIV",{slot:!0});var u=m(e);l.l(u),u.forEach(c),this.h()},h(){b(e,"slot","item")},m(s,u){D(s,e,u),r[t].m(e,null),n=!0},p(s,u){let f=t;t=o(s),t===f?r[t].p(s,u):(Ve(),w(r[f],1,1,()=>{r[f]=null}),Te(),l=r[t],l?l.p(s,u):(l=r[t]=a[t](s),l.c()),p(l,1),l.m(e,null))},i(s){n||(p(l),n=!0)},o(s){w(l),n=!1},d(s){s&&c(e),r[t].d()}}}function or(i){var s;let e,t,l,n,a=((s=i[5])==null?void 0:s.toLocaleString())+"",r,o;return{c(){e=le("Add label "),t=E("span"),l=le(i[8]),n=le(" to "),r=le(a),o=le(`
      rows?`),this.h()},l(u){e=ie(u,"Add label "),t=M(u,"SPAN",{class:!0});var f=m(t);l=ie(f,i[8]),f.forEach(c),n=ie(u," to "),r=ie(u,a),o=ie(u,`
      rows?`),this.h()},h(){b(t,"class","font-mono font-bold")},m(u,f){D(u,e,f),D(u,t,f),h(t,l),D(u,n,f),D(u,r,f),D(u,o,f)},p(u,f){var d;f[0]&256&&Oe(l,u[8]),f[0]&32&&a!==(a=((d=u[5])==null?void 0:d.toLocaleString())+"")&&Oe(r,a)},d(u){u&&c(e),u&&c(t),u&&c(n),u&&c(r),u&&c(o)}}}function ur(i){var s;let e,t,l,n,a=((s=i[5])==null?void 0:s.toLocaleString())+"",r,o;return{c(){e=le("Remove label "),t=E("span"),l=le(i[8]),n=le(" from "),r=le(a),o=le(`
      rows?`),this.h()},l(u){e=ie(u,"Remove label "),t=M(u,"SPAN",{class:!0});var f=m(t);l=ie(f,i[8]),f.forEach(c),n=ie(u," from "),r=ie(u,a),o=ie(u,`
      rows?`),this.h()},h(){b(t,"class","font-mono font-bold")},m(u,f){D(u,e,f),D(u,t,f),h(t,l),D(u,n,f),D(u,r,f),D(u,o,f)},p(u,f){var d;f[0]&256&&Oe(l,u[8]),f[0]&32&&a!==(a=((d=u[5])==null?void 0:d.toLocaleString())+"")&&Oe(r,a)},d(u){u&&c(e),u&&c(t),u&&c(n),u&&c(r),u&&c(o)}}}function fr(i){let e;function t(a,r){return a[4]?ur:or}let l=t(i),n=l(i);return{c(){e=E("p"),n.c()},l(a){e=M(a,"P",{});var r=m(e);n.l(r),r.forEach(c)},m(a,r){D(a,e,r),n.m(e,null)},p(a,r){l===(l=t(a))&&n?n.p(a,r):(n.d(1),n=l(a),n&&(n.c(),n.m(e,null)))},d(a){a&&c(e),n.d()}}}function cr(i){let e,t,l,n,a;function r(s){i[32](s)}let o={disabled:i[9]||i[10],helperText:i[0],disabledMessage:i[7]?i[1]?i[2]:"":"You do not have access to add labels.",hoist:!1,buttonOutline:!0,buttonIcon:i[3],items:i[13],comboBoxPlaceholder:i[4]?"Select a label to remove":"Select or type a new label",shouldFilterItem:dr,$$slots:{item:[ar,({inputText:s,item:u})=>({37:s,38:u}),({inputText:s,item:u})=>[0,(s?64:0)|(u?128:0)]]},$$scope:{ctx:i}};return i[6]!==void 0&&(o.comboBoxText=i[6]),e=new Lt({props:o}),at.push(()=>gt(e,"comboBoxText",r)),e.$on("select",i[19]),n=new zt({props:{size:"xs",open:i[8]!=null&&i[5]!=null,modalHeading:"Label",primaryButtonText:"Confirm",secondaryButtonText:"Cancel",selectorPrimaryFocus:".bx--btn--primary",$$slots:{default:[fr]},$$scope:{ctx:i}}}),n.$on("submit",i[18]),n.$on("click:button--secondary",i[33]),n.$on("close",function(){tt(i[8]=null)&&(i[8]=null).apply(this,arguments)}),{c(){re(e.$$.fragment),l=fe(),re(n.$$.fragment)},l(s){he(e.$$.fragment,s),l=ce(s),he(n.$$.fragment,s)},m(s,u){se(e,s,u),D(s,l,u),se(n,s,u),a=!0},p(s,u){i=s;const f={};u[0]&1536&&(f.disabled=i[9]||i[10]),u[0]&1&&(f.helperText=i[0]),u[0]&134&&(f.disabledMessage=i[7]?i[1]?i[2]:"":"You do not have access to add labels."),u[0]&8&&(f.buttonIcon=i[3]),u[0]&8192&&(f.items=i[13]),u[0]&16&&(f.comboBoxPlaceholder=i[4]?"Select a label to remove":"Select or type a new label"),u[1]&448&&(f.$$scope={dirty:u,ctx:i}),!t&&u[0]&64&&(t=!0,f.comboBoxText=i[6],bt(()=>t=!1)),e.$set(f);const d={};u[0]&288&&(d.open=i[8]!=null&&i[5]!=null),u[0]&304|u[1]&256&&(d.$$scope={dirty:u,ctx:i}),n.$set(d)},i(s){a||(p(e.$$.fragment,s),p(n.$$.fragment,s),a=!0)},o(s){w(e.$$.fragment,s),w(n.$$.fragment,s),a=!1},d(s){ae(e,s),s&&c(l),ae(n,s)}}}const dr=(i,e)=>i.text.toLowerCase().includes(e.toLowerCase())||i.id==="new-label";function hr(i,e,t){let l,n,a,r,o,s,u,f,d,_,g,T,N,z,O,k=U,V=()=>(k(),k=Je(T,H=>t(27,O=H)),T),R,I=U,S=()=>(I(),I=Je(g,H=>t(28,R=H)),g),te,ne=U,be=()=>(ne(),ne=Je(l,H=>t(29,te=H)),l),me,Z;i.$$.on_destroy.push(()=>k()),i.$$.on_destroy.push(()=>I()),i.$$.on_destroy.push(()=>ne());let{labelsQuery:A}=e,{hideLabels:C=void 0}=e,{helperText:Y="Add label"}=e,{disabled:B=!1}=e,{disabledMessage:F="User does not have access to add labels."}=e,{icon:J}=e,{remove:x=!1}=e,{totalNumRows:de=void 0}=e;const X=It();let Pe="",G=null;const P=si(),v=dt();Ge(i,v,H=>t(31,Z=H));const y=Mt();Ge(i,y,H=>t(30,me=H));function K(){if(G==null)return;const H={...A,label_name:G};function ve(oe){return H.row_ids!=null?`Document id: ${H.row_ids}`:`${oe.toLocaleString()} rows updated`}x?O.mutate([n,a,H],{onSuccess:oe=>{P.addNotification({kind:"success",title:`Removed label "${H.label_name}"`,message:ve(oe)})}}):R.mutate([n,a,H],{onSuccess:oe=>{P.addNotification({kind:"success",title:`Added label "${H.label_name}"`,message:ve(oe)})}}),t(8,G=null)}function W(H){t(8,G=H.detail.text),de==null&&K()}function ke(H){Pe=H,t(6,Pe)}const ye=()=>{t(8,G=null),X("close")};return i.$$set=H=>{"labelsQuery"in H&&t(20,A=H.labelsQuery),"hideLabels"in H&&t(21,C=H.hideLabels),"helperText"in H&&t(0,Y=H.helperText),"disabled"in H&&t(1,B=H.disabled),"disabledMessage"in H&&t(2,F=H.disabledMessage),"icon"in H&&t(3,J=H.icon),"remove"in H&&t(4,x=H.remove),"totalNumRows"in H&&t(5,de=H.totalNumRows)},i.$$.update=()=>{var H,ve;i.$$.dirty[1]&1&&be(t(14,l=Rt(Z.namespace,Z.datasetName))),i.$$.dirty[1]&1&&(n=Z.namespace),i.$$.dirty[1]&1&&(a=Z.datasetName),i.$$.dirty[0]&1073741824&&t(26,r=(H=me.data)==null?void 0:H.access.dataset.create_label_type),i.$$.dirty[0]&1073741824&&t(7,o=(ve=me.data)==null?void 0:ve.access.dataset.edit_labels),i.$$.dirty[0]&536870912&&t(24,s=te.data&&Xl(te.data)),i.$$.dirty[0]&67108928&&t(25,u=/^[A-Za-z0-9_-]+$/.test(Pe)&&r),i.$$.dirty[0]&33554496&&t(23,f={id:"new-label",text:Pe,disabled:!u}),i.$$.dirty[0]&18874368&&t(22,d=(s==null?void 0:s.filter(oe=>!(C||[]).includes(oe)).map((oe,Ie)=>({id:`label_${Ie}`,text:oe})))||[]),i.$$.dirty[0]&12582992&&t(13,_=[...Pe!=""&&!x?[f]:[],...d]),i.$$.dirty[0]&536870912&&S(t(12,g=te.data!=null?Wl(te.data):null)),i.$$.dirty[0]&536870912&&V(t(11,T=te.data!=null?Gl(te.data):null)),i.$$.dirty[0]&402653184&&t(10,N=(R==null?void 0:R.isLoading)||(O==null?void 0:O.isLoading)),i.$$.dirty[0]&130&&t(9,z=B||!o)},[Y,B,F,J,x,de,Pe,o,G,z,N,T,g,_,l,X,v,y,K,W,A,C,d,f,s,u,r,O,R,te,me,Z,ke,ye]}class mr extends Ne{constructor(e){super(),Be(this,e,hr,cr,He,{labelsQuery:20,hideLabels:21,helperText:0,disabled:1,disabledMessage:2,icon:3,remove:4,totalNumRows:5},null,[-1,-1])}}function _r(i,e,t){return e in i?Object.defineProperty(i,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[e]=t,i}function ul(i,e){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(i);e&&(l=l.filter(function(n){return Object.getOwnPropertyDescriptor(i,n).enumerable})),t.push.apply(t,l)}return t}function fl(i){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?ul(Object(t),!0).forEach(function(l){_r(i,l,t[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):ul(Object(t)).forEach(function(l){Object.defineProperty(i,l,Object.getOwnPropertyDescriptor(t,l))})}return i}function gr(i,e){if(i==null)return{};var t={},l=Object.keys(i),n,a;for(a=0;a<l.length;a++)n=l[a],!(e.indexOf(n)>=0)&&(t[n]=i[n]);return t}function br(i,e){if(i==null)return{};var t=gr(i,e),l,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)l=a[n],!(e.indexOf(l)>=0)&&Object.prototype.propertyIsEnumerable.call(i,l)&&(t[l]=i[l])}return t}function vr(i,e){return pr(i)||wr(i,e)||kr(i,e)||yr()}function pr(i){if(Array.isArray(i))return i}function wr(i,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(i)))){var t=[],l=!0,n=!1,a=void 0;try{for(var r=i[Symbol.iterator](),o;!(l=(o=r.next()).done)&&(t.push(o.value),!(e&&t.length===e));l=!0);}catch(s){n=!0,a=s}finally{try{!l&&r.return!=null&&r.return()}finally{if(n)throw a}}return t}}function kr(i,e){if(i){if(typeof i=="string")return cl(i,e);var t=Object.prototype.toString.call(i).slice(8,-1);if(t==="Object"&&i.constructor&&(t=i.constructor.name),t==="Map"||t==="Set")return Array.from(i);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return cl(i,e)}}function cl(i,e){(e==null||e>i.length)&&(e=i.length);for(var t=0,l=new Array(e);t<e;t++)l[t]=i[t];return l}function yr(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ir(i,e,t){return e in i?Object.defineProperty(i,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[e]=t,i}function dl(i,e){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(i);e&&(l=l.filter(function(n){return Object.getOwnPropertyDescriptor(i,n).enumerable})),t.push.apply(t,l)}return t}function hl(i){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?dl(Object(t),!0).forEach(function(l){Ir(i,l,t[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):dl(Object(t)).forEach(function(l){Object.defineProperty(i,l,Object.getOwnPropertyDescriptor(t,l))})}return i}function Er(){for(var i=arguments.length,e=new Array(i),t=0;t<i;t++)e[t]=arguments[t];return function(l){return e.reduceRight(function(n,a){return a(n)},l)}}function mt(i){return function e(){for(var t=this,l=arguments.length,n=new Array(l),a=0;a<l;a++)n[a]=arguments[a];return n.length>=i.length?i.apply(this,n):function(){for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return e.apply(t,[].concat(n,o))}}}function yt(i){return{}.toString.call(i).includes("Object")}function Mr(i){return!Object.keys(i).length}function _t(i){return typeof i=="function"}function Vr(i,e){return Object.prototype.hasOwnProperty.call(i,e)}function Tr(i,e){return yt(e)||st("changeType"),Object.keys(e).some(function(t){return!Vr(i,t)})&&st("changeField"),e}function Or(i){_t(i)||st("selectorType")}function Cr(i){_t(i)||yt(i)||st("handlerType"),yt(i)&&Object.values(i).some(function(e){return!_t(e)})&&st("handlersType")}function Pr(i){i||st("initialIsRequired"),yt(i)||st("initialType"),Mr(i)&&st("initialContent")}function Dr(i,e){throw new Error(i[e]||i.default)}var Sr={initialIsRequired:"initial state is required",initialType:"initial state should be an object",initialContent:"initial state shouldn't be an empty object",handlerType:"handler should be an object or a function",handlersType:"all handlers should be a functions",selectorType:"selector should be a function",changeType:"provided value of changes should be an object",changeField:'it seams you want to change a field in the state which is not specified in the "initial" state',default:"an unknown error accured in `state-local` package"},st=mt(Dr)(Sr),pt={changes:Tr,selector:Or,handler:Cr,initial:Pr};function Ar(i){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};pt.initial(i),pt.handler(e);var t={current:i},l=mt(Lr)(t,e),n=mt(zr)(t),a=mt(pt.changes)(i),r=mt(Rr)(t);function o(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(f){return f};return pt.selector(u),u(t.current)}function s(u){Er(l,n,a,r)(u)}return[o,s]}function Rr(i,e){return _t(e)?e(i.current):e}function zr(i,e){return i.current=hl(hl({},i.current),e),e}function Lr(i,e,t){return _t(e)?e(i.current):Object.keys(t).forEach(function(l){var n;return(n=e[l])===null||n===void 0?void 0:n.call(e,i.current[l])}),t}var Nr={create:Ar},Br={paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.43.0/min/vs"}};function Hr(i){return function e(){for(var t=this,l=arguments.length,n=new Array(l),a=0;a<l;a++)n[a]=arguments[a];return n.length>=i.length?i.apply(this,n):function(){for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return e.apply(t,[].concat(n,o))}}}function Fr(i){return{}.toString.call(i).includes("Object")}function jr(i){return i||ml("configIsRequired"),Fr(i)||ml("configType"),i.urls?(qr(),{paths:{vs:i.urls.monacoBase}}):i}function qr(){console.warn(ui.deprecation)}function Yr(i,e){throw new Error(i[e]||i.default)}var ui={configIsRequired:"the configuration object is required",configType:"the configuration object should be an object",default:"an unknown error accured in `@monaco-editor/loader` package",deprecation:`Deprecation warning!
    You are using deprecated way of configuration.

    Instead of using
      monaco.config({ urls: { monacoBase: '...' } })
    use
      monaco.config({ paths: { vs: '...' } })

    For more please check the link https://github.com/suren-atoyan/monaco-loader#config
  `},ml=Hr(Yr)(ui),Ur={config:jr},Kr=function(){for(var e=arguments.length,t=new Array(e),l=0;l<e;l++)t[l]=arguments[l];return function(n){return t.reduceRight(function(a,r){return r(a)},n)}};function fi(i,e){return Object.keys(e).forEach(function(t){e[t]instanceof Object&&i[t]&&Object.assign(e[t],fi(i[t],e[t]))}),fl(fl({},i),e)}var Zr={type:"cancelation",msg:"operation is manually canceled"};function Tt(i){var e=!1,t=new Promise(function(l,n){i.then(function(a){return e?n(Zr):l(a)}),i.catch(n)});return t.cancel=function(){return e=!0},t}var Qr=Nr.create({config:Br,isInitialized:!1,resolve:null,reject:null,monaco:null}),ci=vr(Qr,2),vt=ci[0],Vt=ci[1];function Wr(i){var e=Ur.config(i),t=e.monaco,l=br(e,["monaco"]);Vt(function(n){return{config:fi(n.config,l),monaco:t}})}function Gr(){var i=vt(function(e){var t=e.monaco,l=e.isInitialized,n=e.resolve;return{monaco:t,isInitialized:l,resolve:n}});if(!i.isInitialized){if(Vt({isInitialized:!0}),i.monaco)return i.resolve(i.monaco),Tt(Ot);if(window.monaco&&window.monaco.editor)return di(window.monaco),i.resolve(window.monaco),Tt(Ot);Kr(Xr,xr)($r)}return Tt(Ot)}function Xr(i){return document.body.appendChild(i)}function Jr(i){var e=document.createElement("script");return i&&(e.src=i),e}function xr(i){var e=vt(function(l){var n=l.config,a=l.reject;return{config:n,reject:a}}),t=Jr("".concat(e.config.paths.vs,"/loader.js"));return t.onload=function(){return i()},t.onerror=e.reject,t}function $r(){var i=vt(function(t){var l=t.config,n=t.resolve,a=t.reject;return{config:l,resolve:n,reject:a}}),e=window.require;e.config(i.config),e(["vs/editor/editor.main"],function(t){di(t),i.resolve(t)},function(t){i.reject(t)})}function di(i){vt().monaco||Vt({monaco:i})}function es(){return vt(function(i){var e=i.monaco;return e})}var Ot=new Promise(function(i,e){return Vt({resolve:i,reject:e})}),_l={config:Wr,init:Gr,__getMonacoInstance:es};const gl=360,ts=720;let wt;const hi={fontFamily:"inconsolata variable",fontSize:14,readOnly:!0,lineNumbers:"off",renderFinalNewline:"dimmed",lineDecorationsWidth:0,folding:!1,roundedSelection:!0,domReadOnly:!0,scrollBeyondLastLine:!1,wordWrap:"on",wrappingStrategy:"advanced",readOnlyMessage:{value:""},scrollbar:{verticalScrollbarSize:8,alwaysConsumeMouseWheel:!1},fixedOverflowWidgets:!0,language:"text/plain",automaticLayout:!0};async function mi(){return wt!=null||(wt=Ji(()=>import("./editor.main.47dabc02.js").then(i=>i.e),["./editor.main.47dabc02.js","./preload-helper.41c905a7.js","../assets/editor.3b4aeffe.css"],import.meta.url).then(async i=>(_l.config({monaco:i.default}),_l.init()))),wt}function ls(i){let e,t,l,n=ut(i[2])+"",a,r,o,s=ut(i[1])+"",u,f,d,_,g,T,N,z,O,k;return g=new Hn({}),{c(){e=E("div"),t=E("div"),l=E("div"),a=le(n),r=fe(),o=E("div"),u=le(s),f=fe(),d=E("div"),_=E("button"),re(g.$$.fragment),T=fe(),N=E("div"),this.h()},l(V){e=M(V,"DIV",{class:!0});var R=m(e);t=M(R,"DIV",{class:!0});var I=m(t);l=M(I,"DIV",{class:!0});var S=m(l);a=ie(S,n),S.forEach(c),r=ce(I),o=M(I,"DIV",{class:!0});var te=m(o);u=ie(te,s),te.forEach(c),f=ce(I),d=M(I,"DIV",{});var ne=m(d);_=M(ne,"BUTTON",{class:!0});var be=m(_);he(g.$$.fragment,be),be.forEach(c),ne.forEach(c),I.forEach(c),T=ce(R),N=M(R,"DIV",{class:!0}),m(N).forEach(c),R.forEach(c),this.h()},h(){b(l,"class","ml-8 w-1/2"),b(o,"class","ml-8 w-1/2"),b(_,"class","-mr-1 mb-1 flex flex-row"),b(t,"class","flex flex-row items-center font-mono text-xs font-medium text-neutral-500"),b(N,"class","editor-container svelte-15hppq8"),b(e,"class","relative -ml-6 flex h-fit w-full flex-col gap-x-4")},m(V,R){D(V,e,R),h(e,t),h(t,l),h(l,a),h(t,r),h(t,o),h(o,u),h(t,f),h(t,d),h(d,_),se(g,_,null),h(e,T),h(e,N),i[13](N),z=!0,O||(k=[Qe(_,"click",i[12]),qe(Ze.call(null,_,{text:"Swap comparison order"}))],O=!0)},p(V,[R]){(!z||R&4)&&n!==(n=ut(V[2])+"")&&Oe(a,n),(!z||R&2)&&s!==(s=ut(V[1])+"")&&Oe(u,s)},i(V){z||(p(g.$$.fragment,V),z=!0)},o(V){w(g.$$.fragment,V),z=!1},d(V){V&&c(e),ae(g),i[13](null),O=!1,nt(k)}}}const bl=360,is=720;function ns(i,e,t){let l,n,a,r;const o=dt();let{row:s}=e,{colCompareState:u}=e,{textIsOverBudget:f}=e,{isExpanded:d}=e,_,g,T;function N(){var k,V;if(T!=null&&((k=T.getModel())==null?void 0:k.original)!=null&&((V=T.getModel())==null?void 0:V.modified)!=null){const R=Math.max(T.getOriginalEditor().getContentHeight(),T.getModifiedEditor().getContentHeight());t(5,f=R>bl),d||!f?t(3,_.style.height=`${Math.min(R,is)}px`,_):t(3,_.style.height=bl+"px",_),T.layout()}}Ul(async()=>{t(8,g=await mi()),t(9,T=g.editor.createDiffEditor(_,{...hi,glyphMargin:!0,lineNumbersMinChars:3,lineNumbers:"on"})),T.onDidChangeModel(()=>{N()})}),Kl(()=>{var k,V;(k=T.getModel())==null||k.modified.dispose(),(V=T.getModel())==null||V.original.dispose(),T==null||T.dispose()});const z=()=>o.swapCompareColumn((u==null?void 0:u.column)||[]);function O(k){at[k?"unshift":"push"](()=>{_=k,t(3,_)})}return i.$$set=k=>{"row"in k&&t(6,s=k.row),"colCompareState"in k&&t(0,u=k.colCompareState),"textIsOverBudget"in k&&t(5,f=k.textIsOverBudget),"isExpanded"in k&&t(7,d=k.isExpanded)},i.$$.update=()=>{i.$$.dirty&1&&t(2,l=u.swapDirection?u.compareToColumn:u.column),i.$$.dirty&1&&t(1,n=u.swapDirection?u.column:u.compareToColumn),i.$$.dirty&68&&t(11,a=it.value(ot(s,l)[0])),i.$$.dirty&66&&t(10,r=it.value(ot(s,n)[0])),i.$$.dirty&192&&(d!=null||s!=null)&&N(),i.$$.dirty&3840&&T!=null&&a!=null&&r!=null&&(T.setModel({original:g.editor.createModel(a,"text/plain"),modified:g.editor.createModel(r,"text/plain")}),N())},[u,n,l,_,o,f,s,d,g,T,r,a,z,O]}class rs extends Ne{constructor(e){super(),Be(this,e,ns,ls,He,{row:6,colCompareState:0,textIsOverBudget:5,isExpanded:7})}}function vl(i){let e,t,l;return t=new ht({props:{class:"ml-4 w-full ",lines:3}}),{c(){e=E("div"),re(t.$$.fragment),this.h()},l(n){e=M(n,"DIV",{class:!0});var a=m(e);he(t.$$.fragment,a),a.forEach(c),this.h()},h(){b(e,"class","w-full")},m(n,a){D(n,e,a),se(t,e,null),l=!0},i(n){l||(p(t.$$.fragment,n),l=!0)},o(n){w(t.$$.fragment,n),l=!1},d(n){n&&c(e),ae(t)}}}function ss(i){let e,t,l,n,a=!i[2]&&vl();return{c(){e=E("div"),a&&a.c(),t=fe(),l=E("div"),this.h()},l(r){e=M(r,"DIV",{class:!0});var o=m(e);a&&a.l(o),t=ce(o),l=M(o,"DIV",{class:!0}),m(l).forEach(c),o.forEach(c),this.h()},h(){b(l,"class","editor-container h-64"),q(l,"hidden",i[0]),q(l,"invisible",!i[2]),b(e,"class","relative left-16 -ml-10 flex h-fit w-full flex-col gap-x-4")},m(r,o){D(r,e,o),a&&a.m(e,null),h(e,t),h(e,l),i[29](l),n=!0},p(r,o){r[2]?a&&(Ve(),w(a,1,1,()=>{a=null}),Te()):a?o[0]&4&&p(a,1):(a=vl(),a.c(),p(a,1),a.m(e,t)),(!n||o[0]&1)&&q(l,"hidden",r[0]),(!n||o[0]&4)&&q(l,"invisible",!r[2])},i(r){n||(p(a),n=!0)},o(r){w(a),n=!1},d(r){r&&c(e),a&&a.d(),i[29](null)}}}function pl(i){return i.length>40?i.slice(0,40)+"...":i}function Ct(i,e){return`add-to-concept-${i}-${e}`}function as(i,e,t){let l,n,a,r,o=U,s=()=>(o(),o=Je(k,v=>t(28,r=v)),k),u;i.$$.on_destroy.push(()=>o());let{text:f}=e,{row:d}=e,{field:_=void 0}=e,{spanPaths:g}=e,{path:T=void 0}=e,{hidden:N}=e,{spanValueInfos:z}=e,{embeddings:O}=e,{datasetViewStore:k=void 0}=e;s();let{isExpanded:V=!1}=e,{textIsOverBudget:R=!1}=e,{viewType:I=void 0}=e,S,te=!1,ne={};const be=Oi();Ge(i,be,v=>t(30,u=v));const me=(v,y,K,W)=>{if(!y||!v)throw Error("Label could not be added, no active concept.");u.mutate([v,y,{insert:[{text:K,label:W}]}])};let Z,A,C=null,Y=null;function B(){if(C!=null&&C.getModel()!=null){const v=C.getContentHeight();t(6,R=v>gl),V||!R?t(3,Z.style.height=`${Math.min(v,ts)}px`,Z):t(3,Z.style.height=gl+"px",Z),C.layout()}}Ul(async()=>{t(18,A=await mi()),t(19,C=A.editor.create(Z,{...hi,lineNumbers:"on",glyphMargin:!1,lineNumbersMinChars:3,renderLineHighlight:"none",minimap:{enabled:!0,side:"right",scale:2}})),t(20,Y=A.editor.createModel(f,"text/plain")),C.setModel(Y),document.fonts.ready.then(()=>{A.editor.remeasureFonts(),t(2,te=!0)})});function F(v){if(Y==null)return[];const y=v.namedValue,K=y.info.name;if(v.isConceptSearch){const W=y.info.signal,ke=window.location.origin+Pi(W.namespace,W.concept_name),ye=y.value.toFixed(2);return[{value:`**concept** <a href="${ke}">${K}</a> (${ye})`,supportHtml:!0,isTrusted:!0},{value:v.text,supportHtml:!1,isTrusted:!1}]}else if(v.isSemanticSearch){const W=y.info.signal,ke=y.value.toFixed(2);return[{value:`**more like this** *${pl(W.query)}*`,supportHtml:!0,isTrusted:!0},{value:`similarity: ${ke}`,supportHtml:!0,isTrusted:!0},{value:v.text,supportHtml:!1,isTrusted:!1}]}else if(v.isKeywordSearch){const W=y.info.signal;return[{value:`**keyword search** *${pl(W.query)}*`,supportHtml:!0,isTrusted:!0},{value:v.text,supportHtml:!1,isTrusted:!1}]}else if(v.isLeafSpan)return[{value:`**span** *${ft(y.info.path)}*`,supportHtml:!0,isTrusted:!0},...y.value!=null?[{value:`value: *${y.value}*`,supportHtml:!1,isTrusted:!1}]:[],{value:v.text,supportHtml:!1,isTrusted:!1}];return[]}function J(){if(C==null)return null;const v=C.getSelection();return v==null?null:Y.getValueInRange(v)}let x={};const de=k!=null?xi(k,v=>{if(v.selection==null)return null;const[y,K]=v.selection;return et(y,T)?K:null}):null;Ge(i,de,v=>t(27,a=v));let X=[],Pe=[],G=[];Kl(()=>{Y==null||Y.dispose(),C==null||C.dispose()});function P(v){at[v?"unshift":"push"](()=>{Z=v,t(3,Z)})}return i.$$set=v=>{"text"in v&&t(7,f=v.text),"row"in v&&t(8,d=v.row),"field"in v&&t(9,_=v.field),"spanPaths"in v&&t(10,g=v.spanPaths),"path"in v&&t(11,T=v.path),"hidden"in v&&t(0,N=v.hidden),"spanValueInfos"in v&&t(12,z=v.spanValueInfos),"embeddings"in v&&t(13,O=v.embeddings),"datasetViewStore"in v&&s(t(1,k=v.datasetViewStore)),"isExpanded"in v&&t(14,V=v.isExpanded),"textIsOverBudget"in v&&t(6,R=v.textIsOverBudget),"viewType"in v&&t(15,I=v.viewType)},i.$$.update=()=>{if(i.$$.dirty[0]&3328&&(t(16,S={}),g.forEach(v=>{let y=ot(d,v);Jl(v,T)&&(y=y.filter(W=>Ci(it.path(W),T)||T==null)),t(16,S[ft(v)]=y,S)})),i.$$.dirty[0]&135168){t(17,ne={});for(const v of z){const y=ft(v.spanPath);ne[y]==null&&t(17,ne[y]=[],ne),ne[y].push(v)}}if(i.$$.dirty[0]&16640&&(V!=null||d!=null)&&B(),i.$$.dirty[0]&1048704&&Y!=null&&f!=null&&(Y.setValue(f),B()),i.$$.dirty[0]&196736&&t(25,l=en(f,S,ne)),i.$$.dirty[0]&35127296&&Y!=null&&C!=null){let v=null;for(const y of l){const K=it.span(y.span),W=Y.getPositionAt(K.start);(v==null||W.lineNumber<v.lineNumber)&&(v=W)}v!=null&&C.revealPositionNearTop(v)}if(i.$$.dirty[0]&268435456&&t(26,n=r!=null?Di(r,null):null),i.$$.dirty[0]&69730304&&C!=null){for(const v of Object.values(x))v.set(!1);for(const v of n||[]){if(v.type!="concept")continue;const y=Ct(v.concept_namespace,v.concept_name);if(x[y]==null){const K=C.createContextKey(y,!0);t(21,x[y]=K,x)}else x[y].set(!0)}}if(i.$$.dirty[0]&67633152&&C!=null&&n!=null){for(const v of n)if(v.type=="concept"){const y=`add-positive-to-concept-${v.concept_name}`;if(C.getAction(y)!=null)continue;C.addAction({id:y,label:`👍 add as positive to concept "${v.concept_name}"`,contextMenuGroupId:"navigation_concepts",precondition:Ct(v.concept_namespace,v.concept_name),run:()=>{const K=J();if(K==null)return;const W=!0;me(v.concept_namespace,v.concept_name,K,W)}}),C.addAction({id:"add-negative-to-concept",label:`👎 add as negative to concept "${v.concept_name}"`,contextMenuGroupId:"navigation_concepts",precondition:Ct(v.concept_namespace,v.concept_name),run:()=>{const K=J();if(K==null)return;const W=!1;me(v.concept_namespace,v.concept_name,K,W)}})}}if(i.$$.dirty[0]&532994&&C!=null&&O!=null){for(const y of O){const K=`find-similar-${y}`;C.getAction(K)==null&&C.addAction({id:K,label:"🔍 More like this"+(O.length>1?` with ${y}`:""),contextMenuGroupId:"navigation_searches",run:()=>{if(k==null||_==null)return;const W=J();W!=null&&k.addSearch({path:_.path,type:"semantic",query_type:"document",query:W,embedding:y})}})}const v="keyword-search";C.getAction(v)==null&&C.addAction({id:v,label:"🔍 Keyword search",contextMenuGroupId:"navigation_searches",run:()=>{if(k==null||_==null)return;const y=J();y!=null&&k.addSearch({path:_.path,type:"keyword",query:y})}})}if(i.$$.dirty[0]&35389440&&C!=null&&Y!=null&&t(22,X=l.flatMap(v=>{if(Y==null)return[];const y=it.span(v.span),K=Y.getPositionAt(y.start),W=Y.getPositionAt(y.end);if(K==null||W==null)return[];const ke=[],ye=F(v),H=new A.Range(K.lineNumber,K.column,W.lineNumber,W.column);let ve="";if(v.isConceptSearch||v.isSemanticSearch){const oe=v.value;oe<.55?ve="bg-blue-50":oe<.6?ve="bg-blue-100":oe<.7?ve="bg-blue-200":oe<.8?ve="bg-blue-300":oe<.9?ve="bg-blue-400":ve="bg-blue-500"}return v.isKeywordSearch?ke.push({range:H,options:{className:"keyword-search-bg",inlineClassName:"keyword-search-text",hoverMessage:ye,glyphMarginClassName:"keyword-search-glyph",glyphMarginHoverMessage:ye,isWholeLine:!1,minimap:{position:A.editor.MinimapPosition.Inline,color:"#888888"}}}):v.isConceptSearch?ke.push({range:H,options:{className:"concept-search-bg "+ve,inlineClassName:"concept-search-text",hoverMessage:ye,glyphMarginClassName:"concept-search-bg",glyphMarginHoverMessage:ye,isWholeLine:!1,minimap:{position:A.editor.MinimapPosition.Inline,color:"#dbeafe"}}}):v.isSemanticSearch?ke.push({range:H,options:{className:"semantic-search-bg "+ve,inlineClassName:"semantic-search-text",hoverMessage:ye,glyphMarginClassName:"semantic-search-bg",glyphMarginHoverMessage:ye,isWholeLine:!1,minimap:{position:A.editor.MinimapPosition.Inline,color:"#dbeafe"}}}):v.isMetadata&&ke.push({range:H,options:{className:"leaf-bg",inlineClassName:"leaf-text",hoverMessage:ye,glyphMarginClassName:"leaf-glyph",glyphMarginHoverMessage:ye,isWholeLine:!1,minimap:{position:A.editor.MinimapPosition.Inline,color:"#888888"}}}),ke})),i.$$.dirty[0]&144441344&&C!=null&&Y!=null&&de!=null&&a!=null&&(t(23,Pe=[]),a.startLine==a.endLine&&a.startCol==a.endCol?Pe.push({range:new A.Range(a.startLine,a.startCol,a.endLine,a.endCol||Y.getLineMaxColumn(a.startLine)),options:{isWholeLine:!0,className:"line-selection-bg",glyphMarginClassName:"line-selection-glyph",glyphMarginHoverMessage:{value:"🔗 From the URL"}}}):Pe.push({range:new A.Range(a.startLine,a.startCol,a.endLine,a.endCol),options:{className:"line-col-selection-bg",hoverMessage:[{value:"🔗 From the URL"}],glyphMarginClassName:"line-selection-glyph",glyphMarginHoverMessage:{value:"🔗 From the URL"},minimap:{position:A.editor.MinimapPosition.Inline,color:"#cccccc"}}}),C.revealLineInCenter(a.startLine)),i.$$.dirty[0]&1870338&&Y!=null&&C!=null&&I!=null&&T!=null){const v="link-selection";C.getAction(v)==null&&C.addAction({id:v,label:"🔗 Link to selection",contextMenuGroupId:"navigation_links",keybindings:[A.KeyMod.CtrlCmd|A.KeyCode.KeyK],run:()=>{if(k==null||T==null||_==null||C==null)return;const y=C.getSelection();y!=null&&(k.setTextSelection(T,{startLine:y.startLineNumber,endLine:y.endLineNumber,startCol:y.startColumn,endCol:y.endColumn}),C.setSelection(y))}})}i.$$.dirty[0]&134217728&&a==null&&t(23,Pe=[]),i.$$.dirty[0]&29884416&&C!=null&&t(24,G=C.deltaDecorations(G,[...X,...Pe]))},[N,k,te,Z,be,de,R,f,d,_,g,T,z,O,V,I,S,ne,A,C,Y,x,X,Pe,G,l,n,a,r,P]}class os extends Ne{constructor(e){super(),Be(this,e,as,ss,He,{text:7,row:8,field:9,spanPaths:10,path:11,hidden:0,spanValueInfos:12,embeddings:13,datasetViewStore:1,isExpanded:14,textIsOverBudget:6,viewType:15},null,[-1,-1])}}function wl(i,e,t){const l=i.slice();l[52]=e[t],l[57]=t;const n=[...l[4]||[],l[52]];l[53]=n;const a=l[27](l[53]);l[54]=a;const r=l[4]&&l[4].length>1?"border-neutral-200":"border-neutral-300";return l[55]=r,l}function us(i){let e,t,l,n=!i[24]&&i[11]&&kl(i),a=i[6],r=[];for(let s=0;s<a.length;s+=1)r[s]=yl(wl(i,a,s));const o=s=>w(r[s],1,1,()=>{r[s]=null});return{c(){e=E("div"),n&&n.c(),t=fe();for(let s=0;s<r.length;s+=1)r[s].c();this.h()},l(s){e=M(s,"DIV",{class:!0});var u=m(e);n&&n.l(u),t=ce(u);for(let f=0;f<r.length;f+=1)r[f].l(u);u.forEach(c),this.h()},h(){b(e,"class","flex flex-col")},m(s,u){D(s,e,u),n&&n.m(e,null),h(e,t);for(let f=0;f<r.length;f+=1)r[f]&&r[f].m(e,null);l=!0},p(s,u){if(!s[24]&&s[11]?n?n.p(s,u):(n=kl(s),n.c(),n.m(e,t)):n&&(n.d(1),n=null),u[0]&150997087){a=s[6];let f;for(f=0;f<a.length;f+=1){const d=wl(s,a,f);r[f]?(r[f].p(d,u),p(r[f],1)):(r[f]=yl(d),r[f].c(),p(r[f],1),r[f].m(e,null))}for(Ve(),f=a.length;f<r.length;f+=1)o(f);Te()}},i(s){if(!l){for(let u=0;u<a.length;u+=1)p(r[u]);l=!0}},o(s){r=r.filter(Boolean);for(let u=0;u<r.length;u+=1)w(r[u]);l=!1},d(s){s&&c(e),n&&n.d(),Et(r,s)}}}function fs(i){let e,t,l,n,a,r,o,s,u,f,d,_,g,T,N,z,O,k,V,R,I,S,te,ne,be,me,Z,A,C,Y,B,F,J,x,de,X,Pe,G,P=i[11]!=""&&i[20]==null&&Il(i);s=new Xi({props:{size:16}});const v=[ds,cs],y=[];function K(j,we){return j[15]?0:1}_=K(i),g=y[_]=v[_](i);const W=[ms,hs],ke=[];function ye(j,we){return j[14]?1:0}O=ye(i),k=ke[O]=W[O](i);const H=[gs,_s],ve=[];function oe(j,we){return j[10].showMetadataPanel?0:1}I=oe(i),S=ve[I]=H[I](i);const Ie=[vs,bs],Me=[];function Ce(j,we){return j[13]?0:1}me=Ce(i),Z=Me[me]=Ie[me](i);let _e=i[20]!=null&&El(i);const We=[ys,ks,ws,ps],L=[];function ge(j,we){return j[5]?0:j[23]==null||j[1]==null?1:j[14]==null&&j[17]!=null&&j[9]!=null?2:j[14]!=null?3:-1}return~(x=ge(i))&&(de=L[x]=We[x](i)),{c(){e=E("div"),t=E("div"),l=E("div"),P&&P.c(),n=fe(),a=E("div"),r=E("div"),o=E("button"),re(s.$$.fragment),f=fe(),d=E("button"),g.c(),z=fe(),k.c(),V=fe(),R=E("button"),S.c(),ne=fe(),be=E("button"),Z.c(),Y=fe(),B=E("div"),_e&&_e.c(),F=fe(),J=E("div"),de&&de.c(),this.h()},l(j){e=M(j,"DIV",{class:!0});var we=m(e);t=M(we,"DIV",{class:!0});var Ke=m(t);l=M(Ke,"DIV",{class:!0});var Fe=m(l);P&&P.l(Fe),n=ce(Fe),a=M(Fe,"DIV",{class:!0});var Ee=m(a);r=M(Ee,"DIV",{});var ue=m(r);o=M(ue,"BUTTON",{});var Re=m(o);he(s.$$.fragment,Re),Re.forEach(c),ue.forEach(c),f=ce(Ee),d=M(Ee,"BUTTON",{});var je=m(d);g.l(je),je.forEach(c),z=ce(Ee),k.l(Ee),V=ce(Ee),R=M(Ee,"BUTTON",{});var Q=m(R);S.l(Q),Q.forEach(c),ne=ce(Ee),be=M(Ee,"BUTTON",{});var ze=m(be);Z.l(ze),ze.forEach(c),Ee.forEach(c),Fe.forEach(c),Ke.forEach(c),Y=ce(we),B=M(we,"DIV",{class:!0});var Ye=m(B);_e&&_e.l(Ye),F=ce(Ye),J=M(Ye,"DIV",{class:!0});var $e=m(J);de&&de.l($e),$e.forEach(c),Ye.forEach(c),we.forEach(c),this.h()},h(){o.disabled=i[18],q(r,"opacity-50",i[18]),d.disabled=T=i[14]!=null,q(d,"opacity-50",i[14]!=null),be.disabled=A=!i[12],q(be,"opacity-50",!i[12]),b(a,"class","flex flex-row gap-x-1"),b(l,"class","z-100 sticky top-16 flex w-full flex-col gap-y-2 self-start"),b(t,"class","relative mr-4 flex w-28 flex-row rounded border-neutral-200 px-2 font-mono font-medium text-neutral-500 md:w-36"),b(J,"class","grow pt-1"),b(B,"class","flex grow flex-col font-normal"),b(e,"class","flex w-full flex-row gap-x-4"),q(e,"border",i[24])},m(j,we){D(j,e,we),h(e,t),h(t,l),P&&P.m(l,null),h(l,n),h(l,a),h(a,r),h(r,o),se(s,o,null),h(a,f),h(a,d),y[_].m(d,null),h(a,z),ke[O].m(a,null),h(a,V),h(a,R),ve[I].m(R,null),h(a,ne),h(a,be),Me[me].m(be,null),h(e,Y),h(e,B),_e&&_e.m(B,null),h(B,F),h(B,J),~x&&L[x].m(J,null),X=!0,Pe||(G=[Qe(o,"click",i[43]),qe(Ze.call(null,o,{text:"More like this"})),qe(u=Ze.call(null,r,{text:i[18]?'"More like this" requires an embedding index':void 0})),Qe(d,"click",i[44]),qe(N=Ze.call(null,d,{text:i[15]?"Back to text":"Preview markdown"})),Qe(R,"click",i[46]),qe(te=Ze.call(null,R,{text:i[10].showMetadataPanel?"Collapse metadata panel":"Expand metadata panel"})),Qe(be,"click",i[47]),qe(C=Ze.call(null,be,{text:i[13]?"Collapse text":"Expand text"}))],Pe=!0)},p(j,we){j[11]!=""&&j[20]==null?P?P.p(j,we):(P=Il(j),P.c(),P.m(l,n)):P&&(P.d(1),P=null),(!X||we[0]&262144)&&(o.disabled=j[18]),u&&tt(u.update)&&we[0]&262144&&u.update.call(null,{text:j[18]?'"More like this" requires an embedding index':void 0}),(!X||we[0]&262144)&&q(r,"opacity-50",j[18]);let Ke=_;_=K(j),_!==Ke&&(Ve(),w(y[Ke],1,1,()=>{y[Ke]=null}),Te(),g=y[_],g||(g=y[_]=v[_](j),g.c()),p(g,1),g.m(d,null)),(!X||we[0]&16384&&T!==(T=j[14]!=null))&&(d.disabled=T),N&&tt(N.update)&&we[0]&32768&&N.update.call(null,{text:j[15]?"Back to text":"Preview markdown"}),(!X||we[0]&16384)&&q(d,"opacity-50",j[14]!=null);let Fe=O;O=ye(j),O===Fe?ke[O].p(j,we):(Ve(),w(ke[Fe],1,1,()=>{ke[Fe]=null}),Te(),k=ke[O],k?k.p(j,we):(k=ke[O]=W[O](j),k.c()),p(k,1),k.m(a,V));let Ee=I;I=oe(j),I!==Ee&&(Ve(),w(ve[Ee],1,1,()=>{ve[Ee]=null}),Te(),S=ve[I],S||(S=ve[I]=H[I](j),S.c()),p(S,1),S.m(R,null)),te&&tt(te.update)&&we[0]&1024&&te.update.call(null,{text:j[10].showMetadataPanel?"Collapse metadata panel":"Expand metadata panel"});let ue=me;me=Ce(j),me!==ue&&(Ve(),w(Me[ue],1,1,()=>{Me[ue]=null}),Te(),Z=Me[me],Z||(Z=Me[me]=Ie[me](j),Z.c()),p(Z,1),Z.m(be,null)),(!X||we[0]&4096&&A!==(A=!j[12]))&&(be.disabled=A),C&&tt(C.update)&&we[0]&8192&&C.update.call(null,{text:j[13]?"Collapse text":"Expand text"}),(!X||we[0]&4096)&&q(be,"opacity-50",!j[12]),j[20]!=null?_e?_e.p(j,we):(_e=El(j),_e.c(),_e.m(B,F)):_e&&(_e.d(1),_e=null);let Re=x;x=ge(j),x===Re?~x&&L[x].p(j,we):(de&&(Ve(),w(L[Re],1,1,()=>{L[Re]=null}),Te()),~x?(de=L[x],de?de.p(j,we):(de=L[x]=We[x](j),de.c()),p(de,1),de.m(J,null)):de=null),(!X||we[0]&16777216)&&q(e,"border",j[24])},i(j){X||(p(s.$$.fragment,j),p(g),p(k),p(S),p(Z),p(de),X=!0)},o(j){w(s.$$.fragment,j),w(g),w(k),w(S),w(Z),w(de),X=!1},d(j){j&&c(e),P&&P.d(),ae(s),y[_].d(),ke[O].d(),ve[I].d(),Me[me].d(),_e&&_e.d(),~x&&L[x].d(),Pe=!1,nt(G)}}}function kl(i){let e,t;return{c(){e=E("div"),t=le(i[11]),this.h()},l(l){e=M(l,"DIV",{title:!0,class:!0});var n=m(e);t=ie(n,i[11]),n.forEach(c),this.h()},h(){b(e,"title",i[11]),b(e,"class","mx-4 my-2 truncate font-mono font-medium text-neutral-500")},m(l,n){D(l,e,n),h(e,t)},p(l,n){n[0]&2048&&Oe(t,l[11]),n[0]&2048&&b(e,"title",l[11])},d(l){l&&c(e)}}}function yl(i){let e,t,l,n,a;return t=new _i({props:{rootPath:[...i[4]||[],i[52]],mediaFields:i[3],row:i[1],highlightedFields:i[2],mediaPath:i[0]}}),{c(){e=E("div"),re(t.$$.fragment),l=fe(),this.h()},l(r){e=M(r,"DIV",{class:!0});var o=m(e);he(t.$$.fragment,o),l=ce(o),o.forEach(c),this.h()},h(){b(e,"class",n=i[55]),q(e,"mx-4",!i[24]&&i[11]),q(e,"m-2",!i[54]),q(e,"border-b",i[57]<i[6].length-1)},m(r,o){D(r,e,o),se(t,e,null),h(e,l),a=!0},p(r,o){const s={};o[0]&80&&(s.rootPath=[...r[4]||[],r[52]]),o[0]&8&&(s.mediaFields=r[3]),o[0]&2&&(s.row=r[1]),o[0]&4&&(s.highlightedFields=r[2]),o[0]&1&&(s.mediaPath=r[0]),t.$set(s),(!a||o[0]&16&&n!==(n=r[55]))&&b(e,"class",n),(!a||o[0]&16779280)&&q(e,"mx-4",!r[24]&&r[11]),(!a||o[0]&134217808)&&q(e,"m-2",!r[54]),(!a||o[0]&80)&&q(e,"border-b",r[57]<r[6].length-1)},i(r){a||(p(t.$$.fragment,r),a=!0)},o(r){w(t.$$.fragment,r),a=!1},d(r){r&&c(e),ae(t)}}}function Il(i){let e,t;return{c(){e=E("div"),t=le(i[11]),this.h()},l(l){e=M(l,"DIV",{title:!0,class:!0});var n=m(e);t=ie(n,i[11]),n.forEach(c),this.h()},h(){b(e,"title",i[11]),b(e,"class","m-2 w-full flex-initial truncate")},m(l,n){D(l,e,n),h(e,t)},p(l,n){n[0]&2048&&Oe(t,l[11]),n[0]&2048&&b(e,"title",l[11])},d(l){l&&c(e)}}}function cs(i){let e,t;return e=new Pn({props:{size:16}}),{c(){re(e.$$.fragment)},l(l){he(e.$$.fragment,l)},m(l,n){se(e,l,n),t=!0},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){w(e.$$.fragment,l),t=!1},d(l){ae(e,l)}}}function ds(i){let e,t;return e=new _n({props:{size:16}}),{c(){re(e.$$.fragment)},l(l){he(e.$$.fragment,l)},m(l,n){se(e,l,n),t=!0},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){w(e.$$.fragment,l),t=!1},d(l){ae(e,l)}}}function hs(i){let e,t,l,n,a;return t=new oi({props:{size:16}}),{c(){e=E("button"),re(t.$$.fragment)},l(r){e=M(r,"BUTTON",{});var o=m(e);he(t.$$.fragment,o),o.forEach(c)},m(r,o){D(r,e,o),se(t,e,null),l=!0,n||(a=[Qe(e,"click",i[45]),qe(Ze.call(null,e,{text:"Remove comparison"}))],n=!0)},p:U,i(r){l||(p(t.$$.fragment,r),l=!0)},o(r){w(t.$$.fragment,r),l=!1},d(r){r&&c(e),ae(t),n=!1,nt(a)}}}function ms(i){let e,t;return e=new Lt({props:{disabled:i[19].length===0,helperText:"Compare to",items:i[19],buttonIcon:An,hoist:!0}}),e.$on("select",i[30]),{c(){re(e.$$.fragment)},l(l){he(e.$$.fragment,l)},m(l,n){se(e,l,n),t=!0},p(l,n){const a={};n[0]&524288&&(a.disabled=l[19].length===0),n[0]&524288&&(a.items=l[19]),e.$set(a)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){w(e.$$.fragment,l),t=!1},d(l){ae(e,l)}}}function _s(i){let e,t;return e=new Tn({props:{size:16}}),{c(){re(e.$$.fragment)},l(l){he(e.$$.fragment,l)},m(l,n){se(e,l,n),t=!0},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){w(e.$$.fragment,l),t=!1},d(l){ae(e,l)}}}function gs(i){let e,t;return e=new En({props:{size:16}}),{c(){re(e.$$.fragment)},l(l){he(e.$$.fragment,l)},m(l,n){se(e,l,n),t=!0},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){w(e.$$.fragment,l),t=!1},d(l){ae(e,l)}}}function bs(i){let e,t;return e=new Wi({props:{size:16}}),{c(){re(e.$$.fragment)},l(l){he(e.$$.fragment,l)},m(l,n){se(e,l,n),t=!0},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){w(e.$$.fragment,l),t=!1},d(l){ae(e,l)}}}function vs(i){let e,t;return e=new Gi({props:{size:16}}),{c(){re(e.$$.fragment)},l(l){he(e.$$.fragment,l)},m(l,n){se(e,l,n),t=!0},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){w(e.$$.fragment,l),t=!1},d(l){ae(e,l)}}}function El(i){let e,t;return{c(){e=E("div"),t=le(i[20]),this.h()},l(l){e=M(l,"DIV",{class:!0});var n=m(e);t=ie(n,i[20]),n.forEach(c),this.h()},h(){b(e,"class","mb-1 ml-11 rounded bg-gray-100 p-1 px-2 text-xs font-bold uppercase text-gray-700")},m(l,n){D(l,e,n),h(e,t)},p(l,n){n[0]&1048576&&Oe(t,l[20])},d(l){l&&c(e)}}}function ps(i){let e,t,l;function n(r){i[49](r)}let a={row:i[1],colCompareState:i[14],isExpanded:i[13]};return i[12]!==void 0&&(a.textIsOverBudget=i[12]),e=new rs({props:a}),at.push(()=>gt(e,"textIsOverBudget",n)),{c(){re(e.$$.fragment)},l(r){he(e.$$.fragment,r)},m(r,o){se(e,r,o),l=!0},p(r,o){const s={};o[0]&2&&(s.row=r[1]),o[0]&16384&&(s.colCompareState=r[14]),o[0]&8192&&(s.isExpanded=r[13]),!t&&o[0]&4096&&(t=!0,s.textIsOverBudget=r[12],bt(()=>t=!1)),e.$set(s)},i(r){l||(p(e.$$.fragment,r),l=!0)},o(r){w(e.$$.fragment,r),l=!1},d(r){ae(e,r)}}}function ws(i){let e,t,l,n,a,r,o;function s(f){i[48](f)}let u={hidden:i[15],text:i[23],row:i[1],path:i[4],field:i[9],isExpanded:i[13],spanPaths:i[17].spanPaths,spanValueInfos:i[17].spanValueInfos,datasetViewStore:i[28],embeddings:i[8],viewType:i[16]};return i[12]!==void 0&&(u.textIsOverBudget=i[12]),e=new os({props:u}),at.push(()=>gt(e,"textIsOverBudget",s)),r=new Li({props:{source:kt(i[23])}}),{c(){re(e.$$.fragment),l=fe(),n=E("div"),a=E("div"),re(r.$$.fragment),this.h()},l(f){he(e.$$.fragment,f),l=ce(f),n=M(f,"DIV",{class:!0});var d=m(n);a=M(d,"DIV",{class:!0});var _=m(a);he(r.$$.fragment,_),_.forEach(c),d.forEach(c),this.h()},h(){b(a,"class","markdown -ml-0.5 w-fit pl-14"),b(n,"class","markdown w-full"),q(n,"hidden",!i[15])},m(f,d){se(e,f,d),D(f,l,d),D(f,n,d),h(n,a),se(r,a,null),o=!0},p(f,d){const _={};d[0]&32768&&(_.hidden=f[15]),d[0]&8388608&&(_.text=f[23]),d[0]&2&&(_.row=f[1]),d[0]&16&&(_.path=f[4]),d[0]&512&&(_.field=f[9]),d[0]&8192&&(_.isExpanded=f[13]),d[0]&131072&&(_.spanPaths=f[17].spanPaths),d[0]&131072&&(_.spanValueInfos=f[17].spanValueInfos),d[0]&256&&(_.embeddings=f[8]),d[0]&65536&&(_.viewType=f[16]),!t&&d[0]&4096&&(t=!0,_.textIsOverBudget=f[12],bt(()=>t=!1)),e.$set(_);const g={};d[0]&8388608&&(g.source=kt(f[23])),r.$set(g),(!o||d[0]&32768)&&q(n,"hidden",!f[15])},i(f){o||(p(e.$$.fragment,f),p(r.$$.fragment,f),o=!0)},o(f){w(e.$$.fragment,f),w(r.$$.fragment,f),o=!1},d(f){ae(e,f),f&&c(l),f&&c(n),ae(r)}}}function ks(i){let e,t;return{c(){e=E("span"),t=le("null"),this.h()},l(l){e=M(l,"SPAN",{class:!0});var n=m(e);t=ie(n,"null"),n.forEach(c),this.h()},h(){b(e,"class","ml-12 italic")},m(l,n){D(l,e,n),h(e,t)},p:U,i:U,o:U,d(l){l&&c(e)}}}function ys(i){let e,t;return e=new ht({props:{class:"!w-80"}}),{c(){re(e.$$.fragment)},l(l){he(e.$$.fragment,l)},m(l,n){se(e,l,n),t=!0},p:U,i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){w(e.$$.fragment,l),t=!1},d(l){ae(e,l)}}}function Is(i){let e,t,l,n;const a=[fs,us],r=[];function o(s,u){return s[26]?0:1}return e=o(i),t=r[e]=a[e](i),{c(){t.c(),l=xe()},l(s){t.l(s),l=xe()},m(s,u){r[e].m(s,u),D(s,l,u),n=!0},p(s,u){let f=e;e=o(s),e===f?r[e].p(s,u):(Ve(),w(r[f],1,1,()=>{r[f]=null}),Te(),t=r[e],t?t.p(s,u):(t=r[e]=a[e](s),t.c()),p(t,1),t.m(l.parentNode,l))},i(s){n||(p(t),n=!0)},o(s){w(t),n=!1},d(s){r[e].d(s),s&&c(l)}}}function Es(i,e,t){let l,n,a,r,o,s,u,f,d,_,g,T,N,z,O,k,V,R,I,S,te,ne,be=U,me=()=>(be(),be=Je(u,ue=>t(40,ne=ue)),u),Z,A,C,Y=U,B=()=>(Y(),Y=Je(n,ue=>t(41,C=ue)),n),F,J=U,x=()=>(J(),J=Je(f,ue=>t(42,F=ue)),f);i.$$.on_destroy.push(()=>be()),i.$$.on_destroy.push(()=>Y()),i.$$.on_destroy.push(()=>J());let{mediaPath:de}=e,{row:X=void 0}=e,{highlightedFields:Pe}=e,{mediaFields:G}=e,{rootPath:P=void 0}=e,{isFetching:v=void 0}=e,y;function K(ue){var Re;return C.data!=null&&ue!=null?((Re=Ft(C.data.schema,ue))==null?void 0:Re.repeated_field)!=null:!1}let W,ke=!1,ye=!1,H;const ve=dt();Ge(i,ve,ue=>t(10,Z=ue));const oe=Qi();Ge(i,oe,ue=>t(50,A=ue));function Ie(ue){return ue.map((Re,je)=>Re===At?P[je]:Re)}function Me(ue){ve.addCompareColumn([P,ue.detail.id])}function Ce(ue){var je;if(P==null)return;let Re=O[0];if(((je=ne.data)==null?void 0:je.preferred_embedding)!=null){const Q=ne.data.preferred_embedding;O.some(ze=>ze===Q)&&(Re=Q)}if(A.embedding!=null){const Q=A.embedding;O.some(ze=>ze===Q)&&(Re=Q)}ve.addSearch({path:P,type:"semantic",query:ue,query_type:"document",embedding:Re})}let _e=null;function We(){ve.removeCompareColumn(de)}const L=()=>Ce(s),ge=()=>t(7,H=!te),j=()=>We(),we=()=>Ei(ve,Z.showMetadataPanel=!Z.showMetadataPanel,Z),Ke=()=>t(13,ye=!ye);function Fe(ue){ke=ue,t(12,ke)}function Ee(ue){ke=ue,t(12,ke)}return i.$$set=ue=>{"mediaPath"in ue&&t(0,de=ue.mediaPath),"row"in ue&&t(1,X=ue.row),"highlightedFields"in ue&&t(2,Pe=ue.highlightedFields),"mediaFields"in ue&&t(3,G=ue.mediaFields),"rootPath"in ue&&t(4,P=ue.rootPath),"isFetching"in ue&&t(5,v=ue.isFetching)},i.$$.update=()=>{var ue,Re,je,Q,ze,Ye,$e,lt,rt;if(i.$$.dirty[0]&26){const Le=new Set;if(P==null)for(const Ue of G){const Nt=Ue.path[0];Le.add(Nt)}else for(const Ue of G){if(!Jl(Ue.path,P)||Ue.path[P.length]==null)continue;const gi=[...P,Ue.path[P.length]],bi=ot(X,gi);for(const vi of bi){const Bt=it.path(vi)[P.length];Bt!=null&&Le.add(Bt)}}t(6,y=Array.from(Le))}if(i.$$.dirty[0]&64&&t(26,l=y.length===0),i.$$.dirty[0]&1024&&B(t(25,n=xl(Z.namespace,Z.datasetName,$l(Z)))),i.$$.dirty[0]&16&&t(39,a=K(P==null?void 0:P.slice(0,-1))),i.$$.dirty[0]&16&&t(24,r=K(P)),i.$$.dirty[0]&16|i.$$.dirty[1]&256&&(P!=null?a?t(11,W=ut(P.slice(-2))):t(11,W=P[P.length-1]):t(11,W="")),i.$$.dirty[0]&18&&t(38,o=X!=null?ot(X,P):[]),i.$$.dirty[1]&128&&t(23,s=it.value(o[0])),i.$$.dirty[0]&1024&&me(t(22,u=ei(Z.namespace,Z.datasetName))),i.$$.dirty[0]&1024&&x(t(21,f=Si(Z.namespace,Z.datasetName))),i.$$.dirty[1]&2048&&t(37,d=(Re=(ue=F.data)==null?void 0:ue.dataset_manifest.dataset_format)==null?void 0:Re.title_slots),i.$$.dirty[0]&16|i.$$.dirty[1]&64&&t(36,_=(je=(d||[]).find(Le=>{const[Ue]=Le;return et(Ue,P)}))==null?void 0:je[1]),i.$$.dirty[0]&2|i.$$.dirty[1]&32&&t(20,g=_!=null&&X!=null?it.value(ot(X,Ie(_))[0]):null),i.$$.dirty[1]&1024&&t(35,T=C.data!=null?ti(C.data.schema).filter(Le=>{var Ue;return((Ue=Le.dtype)==null?void 0:Ue.type)==="string"}):[]),i.$$.dirty[0]&18|i.$$.dirty[1]&16&&t(34,N=T.map(Le=>Le.path).map(Le=>Array.isArray(Le)?Le:[Le]).flatMap(Le=>X==null?[]:ot(X,Le).map(Ue=>it.path(Ue)).filter(Ue=>!Ai(Ue,P)))),i.$$.dirty[1]&8&&t(19,z=N.map(Le=>({id:Le,text:ut(Le)}))),i.$$.dirty[0]&1|i.$$.dirty[1]&1024&&t(8,O=Ri((Q=C.data)==null?void 0:Q.schema,de)),i.$$.dirty[0]&256&&t(18,k=O.length===0),i.$$.dirty[0]&16|i.$$.dirty[1]&1024&&t(9,V=C.data!=null&&P!=null?Ft(C.data.schema,P):null),i.$$.dirty[0]&516&&t(17,R=V!=null?zi(V,Pe):null),i.$$.dirty[0]&1040){t(14,_e=null);for(const Le of Z.compareColumns)if(et(Le.column,P)){t(14,_e=Le);break}}i.$$.dirty[0]&1|i.$$.dirty[1]&512&&t(33,I=(($e=(Ye=(ze=ne.data)==null?void 0:ze.ui)==null?void 0:Ye.markdown_paths)==null?void 0:$e.find(Le=>et(Le,de)))!=null),i.$$.dirty[1]&512&&t(16,S=((rt=(lt=ne.data)==null?void 0:lt.ui)==null?void 0:rt.view_type)||"single_item"),i.$$.dirty[0]&128|i.$$.dirty[1]&4&&t(15,te=H!==void 0?H:I)},[de,X,Pe,G,P,v,y,H,O,V,Z,W,ke,ye,_e,te,S,R,k,z,g,f,u,s,r,n,l,K,ve,oe,Me,Ce,We,I,N,T,_,d,o,a,ne,C,F,L,ge,j,we,Ke,Fe,Ee]}class _i extends Ne{constructor(e){super(),Be(this,e,Es,Is,He,{mediaPath:0,row:1,highlightedFields:2,mediaFields:3,rootPath:4,isFetching:5},null,[-1,-1])}}function Ms(i){let e,t,l,n;return{c(){e=E("button"),t=le(i[1]),this.h()},l(a){e=M(a,"BUTTON",{class:!0});var r=m(e);t=ie(r,i[1]),r.forEach(c),this.h()},h(){e.disabled=i[2],b(e,"class","rounded-lg border border-gray-300 hover:border-gray-500"),q(e,"bg-slate-500",i[0]),q(e,"bg-white",!i[0]),q(e,"hover:bg-slate-500",i[0]),q(e,"hover:bg-transparent",!i[0]),q(e,"text-white",i[0])},m(a,r){D(a,e,r),h(e,t),l||(n=Qe(e,"click",i[3]),l=!0)},p(a,[r]){r&2&&Oe(t,a[1]),r&4&&(e.disabled=a[2]),r&1&&q(e,"bg-slate-500",a[0]),r&1&&q(e,"bg-white",!a[0]),r&1&&q(e,"hover:bg-slate-500",a[0]),r&1&&q(e,"hover:bg-transparent",!a[0]),r&1&&q(e,"text-white",a[0])},i:U,o:U,d(a){a&&c(e),l=!1,n()}}}function Vs(i,e,t){let{label:l}=e,{active:n}=e,{disabled:a=!1}=e;function r(o){Zl.call(this,i,o)}return i.$$set=o=>{"label"in o&&t(1,l=o.label),"active"in o&&t(0,n=o.active),"disabled"in o&&t(2,a=o.disabled)},i.$$.update=()=>{i.$$.dirty&5&&t(0,n=n&&!a)},[n,l,a,r]}class Ts extends Ne{constructor(e){super(),Be(this,e,Vs,Ms,He,{label:1,active:0,disabled:2})}}function Os(i){var o;let e,t,l,n=((o=i[0])==null?void 0:o.toLocaleString())+"",a,r;return{c(){e=E("p"),t=le("Restore "),l=E("span"),a=le(n),r=le(`
    rows?`),this.h()},l(s){e=M(s,"P",{});var u=m(e);t=ie(u,"Restore "),l=M(u,"SPAN",{class:!0});var f=m(l);a=ie(f,n),f.forEach(c),r=ie(u,`
    rows?`),u.forEach(c),this.h()},h(){b(l,"class","font-mono font-bold")},m(s,u){D(s,e,u),h(e,t),h(e,l),h(l,a),h(e,r)},p(s,u){var f;u&1&&n!==(n=((f=s[0])==null?void 0:f.toLocaleString())+"")&&Oe(a,n)},d(s){s&&c(e)}}}function Cs(i){let e,t,l,n,a,r,o,s,u,f;return l=new oi({}),o=new zt({props:{size:"xs",open:i[2]&&i[3],modalHeading:"Restore rows",primaryButtonText:"Confirm",secondaryButtonText:"Cancel",selectorPrimaryFocus:".bx--btn--primary",$$slots:{default:[Os]},$$scope:{ctx:i}}}),o.$on("submit",i[12]),o.$on("click:button--secondary",i[13]),o.$on("close",i[14]),{c(){e=E("div"),t=E("button"),re(l.$$.fragment),r=fe(),re(o.$$.fragment),this.h()},l(d){e=M(d,"DIV",{class:!0});var _=m(e);t=M(_,"BUTTON",{class:!0});var g=m(t);he(l.$$.fragment,g),g.forEach(c),_.forEach(c),r=ce(d),he(o.$$.fragment,d),this.h()},h(){t.disabled=n=!i[3],b(t,"class","rounded border border-gray-300 bg-white hover:border-gray-500 hover:bg-transparent"),q(t,"opacity-30",!i[3]),b(e,"class","ml-2 inline-block")},m(d,_){D(d,e,_),h(e,t),se(l,t,null),D(d,r,_),se(o,d,_),s=!0,u||(f=[Qe(t,"click",i[11]),qe(a=Ze.call(null,e,{text:i[3]?i[1]!=null&&i[1].length===1?"Restore deleted row":"Restore deleted rows":"User does not have access to restore rows."}))],u=!0)},p(d,[_]){(!s||_&8&&n!==(n=!d[3]))&&(t.disabled=n),(!s||_&8)&&q(t,"opacity-30",!d[3]),a&&tt(a.update)&&_&10&&a.update.call(null,{text:d[3]?d[1]!=null&&d[1].length===1?"Restore deleted row":"Restore deleted rows":"User does not have access to restore rows."});const g={};_&12&&(g.open=d[2]&&d[3]),_&262145&&(g.$$scope={dirty:_,ctx:d}),o.$set(g)},i(d){s||(p(l.$$.fragment,d),p(o.$$.fragment,d),s=!0)},o(d){w(l.$$.fragment,d),w(o.$$.fragment,d),s=!1},d(d){d&&c(e),ae(l),d&&c(r),ae(o,d),u=!1,nt(f)}}}function Ps(i,e,t){let l,n,a,r,{rowIds:o=void 0}=e,{searches:s=void 0}=e,{filters:u=void 0}=e,{numRows:f=void 0}=e;const d=Mt();Ge(i,d,I=>t(10,r=I));const _=It(),g=dt();Ge(i,g,I=>t(15,n=I));const T=Ni();Ge(i,T,I=>t(16,a=I));function N(){a.mutate([n.namespace,n.datasetName,{row_ids:o,searches:s,filters:u}],{onSuccess:()=>{_("restore"),t(2,z=!1),close()}})}let z=!1;const O=()=>{t(2,z=!0)},k=()=>N(),V=()=>{t(2,z=!1)},R=()=>t(2,z=!1);return i.$$set=I=>{"rowIds"in I&&t(1,o=I.rowIds),"searches"in I&&t(8,s=I.searches),"filters"in I&&t(9,u=I.filters),"numRows"in I&&t(0,f=I.numRows)},i.$$.update=()=>{var I;i.$$.dirty&1024&&t(3,l=(I=r.data)==null?void 0:I.access.dataset.delete_rows),i.$$.dirty&3&&f==null&&o!=null&&t(0,f=o.length)},[f,o,z,l,d,g,T,N,s,u,r,O,k,V,R]}class Ds extends Ne{constructor(e){super(),Be(this,e,Ps,Cs,He,{rowIds:1,searches:8,filters:9,numRows:0})}}function Pt(i){const e=i.slice(),t=e[3]!=null&&e[3]<e[4]-1;return e[49]=t,e}function Dt(i){const e=i.slice(),t=e[3]!=null&&e[3]>0;return e[50]=t,e}function Ml(i,e,t){const l=i.slice();return l[51]=e[t],l}function Vl(i){let e,t,l,n,a,r;function o(){return i[38](i[51])}return t=new Ts({props:{label:i[51],disabled:i[12].has(i[51])||i[18],active:i[14].includes(i[51])}}),t.$on("click",o),{c(){e=E("div"),re(t.$$.fragment),this.h()},l(s){e=M(s,"DIV",{});var u=m(e);he(t.$$.fragment,u),u.forEach(c),this.h()},h(){q(e,"opacity-50",i[12].has(i[51]))},m(s,u){D(s,e,u),se(t,e,null),n=!0,a||(r=qe(l=Ze.call(null,e,{text:i[15][i[51]]!=null?`Keyboard: ${i[15][i[51]]}`:""})),a=!0)},p(s,u){i=s;const f={};u[0]&131072&&(f.label=i[51]),u[0]&397312&&(f.disabled=i[12].has(i[51])||i[18]),u[0]&147456&&(f.active=i[14].includes(i[51])),t.$set(f),l&&tt(l.update)&&u[0]&163840&&l.update.call(null,{text:i[15][i[51]]!=null?`Keyboard: ${i[15][i[51]]}`:""}),(!n||u[0]&135168)&&q(e,"opacity-50",i[12].has(i[51]))},i(s){n||(p(t.$$.fragment,s),n=!0)},o(s){w(t.$$.fragment,s),n=!1},d(s){s&&c(e),ae(t),a=!1,r()}}}function Tl(i){let e,t,l,n,a,r,o;return l=new vn({props:{title:"Previous item",size:24}}),{c(){e=E("div"),t=E("button"),re(l.$$.fragment),this.h()},l(s){e=M(s,"DIV",{class:!0});var u=m(e);t=M(u,"BUTTON",{});var f=m(t);he(l.$$.fragment,f),f.forEach(c),u.forEach(c),this.h()},h(){t.disabled=n=!i[50],q(t,"opacity-30",!i[50]),b(e,"class","flex-0 my-0.5")},m(s,u){D(s,e,u),h(e,t),se(l,t,null),a=!0,r||(o=Qe(t,"click",i[39]),r=!0)},p(s,u){(!a||u[0]&8&&n!==(n=!s[50]))&&(t.disabled=n),(!a||u[0]&8)&&q(t,"opacity-30",!s[50])},i(s){a||(p(l.$$.fragment,s),a=!0)},o(s){w(l.$$.fragment,s),a=!1},d(s){s&&c(e),ae(l),r=!1,o()}}}function Ss(i){let e,t,l;return t=new ht({props:{lines:1,class:"!w-10"}}),{c(){e=E("div"),re(t.$$.fragment),this.h()},l(n){e=M(n,"DIV",{class:!0});var a=m(e);he(t.$$.fragment,a),a.forEach(c),this.h()},h(){b(e,"class","pt-1.5")},m(n,a){D(n,e,a),se(t,e,null),l=!0},p:U,i(n){l||(p(t.$$.fragment,n),l=!0)},o(n){w(t.$$.fragment,n),l=!1},d(n){n&&c(e),ae(t)}}}function As(i){let e=i[3]+1+"",t;return{c(){t=le(e)},l(l){t=ie(l,e)},m(l,n){D(l,t,n)},p(l,n){n[0]&8&&e!==(e=l[3]+1+"")&&Oe(t,e)},i:U,o:U,d(l){l&&c(t)}}}function Rs(i){let e,t,l;return t=new ht({props:{lines:1,class:"!w-20"}}),{c(){e=E("div"),re(t.$$.fragment),this.h()},l(n){e=M(n,"DIV",{class:!0});var a=m(e);he(t.$$.fragment,a),a.forEach(c),this.h()},h(){b(e,"class","pt-1.5")},m(n,a){D(n,e,a),se(t,e,null),l=!0},p:U,i(n){l||(p(t.$$.fragment,n),l=!0)},o(n){w(t.$$.fragment,n),l=!1},d(n){n&&c(e),ae(t)}}}function zs(i){let e=kt(i[4])+"",t;return{c(){t=le(e)},l(l){t=ie(l,e)},m(l,n){D(l,t,n)},p(l,n){n[0]&16&&e!==(e=kt(l[4])+"")&&Oe(t,e)},i:U,o:U,d(l){l&&c(t)}}}function Ol(i){let e,t,l,n,a,r,o;return l=new kn({props:{title:"Next item",size:24}}),{c(){e=E("div"),t=E("button"),re(l.$$.fragment),this.h()},l(s){e=M(s,"DIV",{class:!0});var u=m(e);t=M(u,"BUTTON",{});var f=m(t);he(l.$$.fragment,f),f.forEach(c),u.forEach(c),this.h()},h(){t.disabled=n=!i[49],q(t,"opacity-30",!i[49]),b(e,"class","flex-0")},m(s,u){D(s,e,u),h(e,t),se(l,t,null),a=!0,r||(o=Qe(t,"click",i[40]),r=!0)},p(s,u){(!a||u[0]&24&&n!==(n=!s[49]))&&(t.disabled=n),(!a||u[0]&24)&&q(t,"opacity-30",!s[49])},i(s){a||(p(l.$$.fragment,s),a=!0)},o(s){w(l.$$.fragment,s),a=!1},d(s){s&&c(e),ae(l),r=!1,o()}}}function Cl(i){let e,t,l,n;const a=[Ns,Ls],r=[];function o(s,u){return s[10].viewTrash?1:0}return e=o(i),t=r[e]=a[e](i),{c(){t.c(),l=xe()},l(s){t.l(s),l=xe()},m(s,u){r[e].m(s,u),D(s,l,u),n=!0},p(s,u){let f=e;e=o(s),e===f?r[e].p(s,u):(Ve(),w(r[f],1,1,()=>{r[f]=null}),Te(),t=r[e],t?t.p(s,u):(t=r[e]=a[e](s),t.c()),p(t,1),t.m(l.parentNode,l))},i(s){n||(p(t),n=!0)},o(s){w(t),n=!1},d(s){r[e].d(s),s&&c(l)}}}function Ls(i){let e,t;return e=new Ds({props:{rowIds:[i[0]]}}),e.$on("restore",i[43]),{c(){re(e.$$.fragment)},l(l){he(e.$$.fragment,l)},m(l,n){se(e,l,n),t=!0},p(l,n){const a={};n[0]&1&&(a.rowIds=[l[0]]),e.$set(a)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){w(e.$$.fragment,l),t=!1},d(l){ae(e,l)}}}function Ns(i){let e,t,l;function n(r){i[41](r)}let a={rowIds:[i[0]]};return i[11]!==void 0&&(a.modalOpen=i[11]),e=new Xn({props:a}),at.push(()=>gt(e,"modalOpen",n)),e.$on("deleted",i[42]),{c(){re(e.$$.fragment)},l(r){he(e.$$.fragment,r)},m(r,o){se(e,r,o),l=!0},p(r,o){const s={};o[0]&1&&(s.rowIds=[r[0]]),!t&&o[0]&2048&&(t=!0,s.modalOpen=r[11],bt(()=>t=!1)),e.$set(s)},i(r){l||(p(e.$$.fragment,r),l=!0)},o(r){w(e.$$.fragment,r),l=!1},d(r){ae(e,r)}}}function Pl(i){let e,t;return e=new ht({props:{class:"w-20"}}),{c(){re(e.$$.fragment)},l(l){he(e.$$.fragment,l)},m(l,n){se(e,l,n),t=!0},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){w(e.$$.fragment,l),t=!1},d(l){ae(e,l)}}}function Dl(i){var n;let e,t,l;return t=new _i({props:{mediaPath:[],mediaFields:i[1],row:i[7],highlightedFields:i[2],isFetching:(n=i[8])==null?void 0:n.isFetching}}),{c(){e=E("div"),re(t.$$.fragment),this.h()},l(a){e=M(a,"DIV",{class:!0});var r=m(e);he(t.$$.fragment,r),r.forEach(c),this.h()},h(){b(e,"class","flex w-full flex-col")},m(a,r){D(a,e,r),se(t,e,null),l=!0},p(a,r){var s;const o={};r[0]&2&&(o.mediaFields=a[1]),r[0]&128&&(o.row=a[7]),r[0]&4&&(o.highlightedFields=a[2]),r[0]&256&&(o.isFetching=(s=a[8])==null?void 0:s.isFetching),t.$set(o)},i(a){l||(p(t.$$.fragment,a),l=!0)},o(a){w(t.$$.fragment,a),l=!1},d(a){a&&c(e),ae(t)}}}function Sl(i){let e,t,l,n,a,r,o;return n=new tn({props:{row:i[7],selectRowsSchema:i[9].data,highlightedFields:i[2]}}),{c(){e=E("div"),t=E("div"),l=E("div"),re(n.$$.fragment),this.h()},l(s){e=M(s,"DIV",{class:!0});var u=m(e);t=M(u,"DIV",{class:!0});var f=m(t);l=M(f,"DIV",{style:!0,class:!0});var d=m(l);he(n.$$.fragment,d),d.forEach(c),f.forEach(c),u.forEach(c),this.h()},h(){b(l,"style",a=`max-height: ${Math.max(Al,i[13])}px`),b(l,"class","overflow-y-auto"),b(t,"class","sticky top-0 w-full self-start"),b(e,"class","flex h-full bg-neutral-100 md:w-1/3")},m(s,u){D(s,e,u),h(e,t),h(t,l),se(n,l,null),o=!0},p(s,u){i=s;const f={};u[0]&128&&(f.row=i[7]),u[0]&512&&(f.selectRowsSchema=i[9].data),u[0]&4&&(f.highlightedFields=i[2]),n.$set(f),(!o||u[0]&8192&&a!==(a=`max-height: ${Math.max(Al,i[13])}px`))&&b(l,"style",a)},i(s){o||(p(n.$$.fragment,s),Ql(()=>{o&&(r||(r=Ht(e,Yt,{axis:"x",duration:jt},!0)),r.run(1))}),o=!0)},o(s){w(n.$$.fragment,s),r||(r=Ht(e,Yt,{axis:"x",duration:jt},!1)),r.run(0),o=!1},d(s){s&&c(e),ae(n),s&&r&&r.end()}}}function Bs(i){var We;let e,t,l,n,a,r,o,s,u,f,d,_,g,T,N,z,O,k,V,R,I,S,te,ne,be,me,Z,A,C,Y,B,F,J,x,de,X,Pe,G=i[17]||[],P=[];for(let L=0;L<G.length;L+=1)P[L]=Vl(Ml(i,G,L));const v=L=>w(P[L],1,1,()=>{P[L]=null});s=new mr({props:{icon:ai,labelsQuery:{row_ids:i[0]!=null?[i[0]]:[]},hideLabels:i[14]}});let y=i[5]!=null&&Tl(Dt(i));const K=[As,Ss],W=[];function ke(L,ge){return L[3]!=null&&L[3]>=0?0:1}N=ke(i),z=W[N]=K[N](i);const ye=[zs,Rs],H=[];function ve(L,ge){return L[4]!=null?0:1}S=ve(i),te=H[S]=ye[S](i);let oe=i[5]!=null&&i[4]!=null&&Ol(Pt(i)),Ie=i[0]!=null&&Cl(i),Me=((We=i[8])==null?void 0:We.isFetching)&&Pl(),Ce=i[1].length>0&&i[7]!=null&&Dl(i),_e=i[10].showMetadataPanel&&Sl(i);return{c(){e=E("div"),t=E("div"),l=E("div"),n=E("div"),a=E("div");for(let L=0;L<P.length;L+=1)P[L].c();r=fe(),o=E("div"),re(s.$$.fragment),u=fe(),f=E("div"),d=E("div"),y&&y.c(),_=fe(),g=E("div"),T=E("div"),z.c(),O=fe(),k=E("div"),V=le("of"),R=fe(),I=E("span"),te.c(),ne=fe(),oe&&oe.c(),be=fe(),me=E("div"),Ie&&Ie.c(),Z=fe(),A=E("div"),C=E("div"),Y=E("div"),Me&&Me.c(),B=fe(),Ce&&Ce.c(),x=fe(),_e&&_e.c(),this.h()},l(L){e=M(L,"DIV",{class:!0});var ge=m(e);t=M(ge,"DIV",{class:!0});var j=m(t);l=M(j,"DIV",{class:!0});var we=m(l);n=M(we,"DIV",{class:!0});var Ke=m(n);a=M(Ke,"DIV",{class:!0});var Fe=m(a);for(let Ue=0;Ue<P.length;Ue+=1)P[Ue].l(Fe);r=ce(Fe),o=M(Fe,"DIV",{class:!0});var Ee=m(o);he(s.$$.fragment,Ee),Ee.forEach(c),Fe.forEach(c),Ke.forEach(c),u=ce(we),f=M(we,"DIV",{class:!0});var ue=m(f);d=M(ue,"DIV",{class:!0});var Re=m(d);y&&y.l(Re),_=ce(Re),g=M(Re,"DIV",{class:!0});var je=m(g);T=M(je,"DIV",{class:!0});var Q=m(T);z.l(Q),Q.forEach(c),O=ce(je),k=M(je,"DIV",{class:!0});var ze=m(k);V=ie(ze,"of"),ze.forEach(c),R=ce(je),I=M(je,"SPAN",{class:!0});var Ye=m(I);te.l(Ye),Ye.forEach(c),je.forEach(c),ne=ce(Re),oe&&oe.l(Re),Re.forEach(c),ue.forEach(c),be=ce(we),me=M(we,"DIV",{class:!0});var $e=m(me);Ie&&Ie.l($e),$e.forEach(c),we.forEach(c),j.forEach(c),Z=ce(ge),A=M(ge,"DIV",{class:!0});var lt=m(A);C=M(lt,"DIV",{class:!0});var rt=m(C);Y=M(rt,"DIV",{class:!0});var Le=m(Y);Me&&Me.l(Le),B=ce(Le),Ce&&Ce.l(Le),Le.forEach(c),rt.forEach(c),x=ce(lt),_e&&_e.l(lt),lt.forEach(c),ge.forEach(c),this.h()},h(){b(o,"class","relative mr-8 h-8"),b(a,"class","flex w-full flex-row flex-wrap items-center gap-x-2 gap-y-2 pl-2"),q(a,"opacity-50",i[18]),b(n,"class","flex w-1/3 flex-row"),b(T,"class","flex"),b(k,"class","text-gray-500 opacity-80"),b(I,"class","inline-flex text-gray-500 opacity-80"),b(g,"class","mx-2 flex w-32 flex-row justify-center justify-items-center gap-x-1.5"),b(d,"class","flex w-full flex-row items-center justify-center truncate text-center text-lg"),b(f,"class","w-1/3 items-center justify-items-center self-center justify-self-center"),b(me,"class","flex w-1/3 flex-row items-center justify-end pr-2"),b(l,"class","mx-4 flex w-full rounded-t-lg border border-neutral-300 bg-violet-200 bg-opacity-70 py-2"),q(l,"bg-violet-200",!i[10].viewTrash),q(l,"bg-opacity-70",!i[10].viewTrash),q(l,"bg-red-500",i[10].viewTrash),q(l,"bg-opacity-20",i[10].viewTrash),b(t,"class","sticky top-0 z-10 flex w-full flex-row justify-between bg-white"),b(Y,"class","rounded-b border-b border-l border-r border-neutral-300"),b(C,"class",F=`flex flex-col ${i[10].showMetadataPanel?"w-2/3":"grow "}`),Ql(()=>i[44].call(C)),b(A,"class","flex w-full flex-row px-4"),b(e,"class","relative flex w-full flex-col rounded md:flex-col")},m(L,ge){D(L,e,ge),h(e,t),h(t,l),h(l,n),h(n,a);for(let j=0;j<P.length;j+=1)P[j]&&P[j].m(a,null);h(a,r),h(a,o),se(s,o,null),h(l,u),h(l,f),h(f,d),y&&y.m(d,null),h(d,_),h(d,g),h(g,T),W[N].m(T,null),h(g,O),h(g,k),h(k,V),h(g,R),h(g,I),H[S].m(I,null),h(d,ne),oe&&oe.m(d,null),h(l,be),h(l,me),Ie&&Ie.m(me,null),h(e,Z),h(e,A),h(A,C),h(C,Y),Me&&Me.m(Y,null),h(Y,B),Ce&&Ce.m(Y,null),J=Mi(C,i[44].bind(C)),h(A,x),_e&&_e.m(A,null),de=!0,X||(Pe=Qe(window,"keydown",i[28]),X=!0)},p(L,ge){var Fe;if(ge[0]&201773056){G=L[17]||[];let Ee;for(Ee=0;Ee<G.length;Ee+=1){const ue=Ml(L,G,Ee);P[Ee]?(P[Ee].p(ue,ge),p(P[Ee],1)):(P[Ee]=Vl(ue),P[Ee].c(),p(P[Ee],1),P[Ee].m(a,r))}for(Ve(),Ee=G.length;Ee<P.length;Ee+=1)v(Ee);Te()}const j={};ge[0]&1&&(j.labelsQuery={row_ids:L[0]!=null?[L[0]]:[]}),ge[0]&16384&&(j.hideLabels=L[14]),s.$set(j),(!de||ge[0]&262144)&&q(a,"opacity-50",L[18]),L[5]!=null?y?(y.p(Dt(L),ge),ge[0]&32&&p(y,1)):(y=Tl(Dt(L)),y.c(),p(y,1),y.m(d,_)):y&&(Ve(),w(y,1,1,()=>{y=null}),Te());let we=N;N=ke(L),N===we?W[N].p(L,ge):(Ve(),w(W[we],1,1,()=>{W[we]=null}),Te(),z=W[N],z?z.p(L,ge):(z=W[N]=K[N](L),z.c()),p(z,1),z.m(T,null));let Ke=S;S=ve(L),S===Ke?H[S].p(L,ge):(Ve(),w(H[Ke],1,1,()=>{H[Ke]=null}),Te(),te=H[S],te?te.p(L,ge):(te=H[S]=ye[S](L),te.c()),p(te,1),te.m(I,null)),L[5]!=null&&L[4]!=null?oe?(oe.p(Pt(L),ge),ge[0]&48&&p(oe,1)):(oe=Ol(Pt(L)),oe.c(),p(oe,1),oe.m(d,null)):oe&&(Ve(),w(oe,1,1,()=>{oe=null}),Te()),L[0]!=null?Ie?(Ie.p(L,ge),ge[0]&1&&p(Ie,1)):(Ie=Cl(L),Ie.c(),p(Ie,1),Ie.m(me,null)):Ie&&(Ve(),w(Ie,1,1,()=>{Ie=null}),Te()),(!de||ge[0]&1024)&&q(l,"bg-violet-200",!L[10].viewTrash),(!de||ge[0]&1024)&&q(l,"bg-opacity-70",!L[10].viewTrash),(!de||ge[0]&1024)&&q(l,"bg-red-500",L[10].viewTrash),(!de||ge[0]&1024)&&q(l,"bg-opacity-20",L[10].viewTrash),(Fe=L[8])!=null&&Fe.isFetching?Me?ge[0]&256&&p(Me,1):(Me=Pl(),Me.c(),p(Me,1),Me.m(Y,B)):Me&&(Ve(),w(Me,1,1,()=>{Me=null}),Te()),L[1].length>0&&L[7]!=null?Ce?(Ce.p(L,ge),ge[0]&130&&p(Ce,1)):(Ce=Dl(L),Ce.c(),p(Ce,1),Ce.m(Y,null)):Ce&&(Ve(),w(Ce,1,1,()=>{Ce=null}),Te()),(!de||ge[0]&1024&&F!==(F=`flex flex-col ${L[10].showMetadataPanel?"w-2/3":"grow "}`))&&b(C,"class",F),L[10].showMetadataPanel?_e?(_e.p(L,ge),ge[0]&1024&&p(_e,1)):(_e=Sl(L),_e.c(),p(_e,1),_e.m(A,null)):_e&&(Ve(),w(_e,1,1,()=>{_e=null}),Te())},i(L){if(!de){for(let ge=0;ge<G.length;ge+=1)p(P[ge]);p(s.$$.fragment,L),p(y),p(z),p(te),p(oe),p(Ie),p(Me),p(Ce),p(_e),de=!0}},o(L){P=P.filter(Boolean);for(let ge=0;ge<P.length;ge+=1)w(P[ge]);w(s.$$.fragment,L),w(y),w(z),w(te),w(oe),w(Ie),w(Me),w(Ce),w(_e),de=!1},d(L){L&&c(e),Et(P,L),ae(s),y&&y.d(),W[N].d(),H[S].d(),oe&&oe.d(),Ie&&Ie.d(),Me&&Me.d(),Ce&&Ce.d(),J(),_e&&_e.d(),X=!1,Pe()}}}const Al=165;function Hs(i,e,t){let l,n,a,r,o,s,u,f,d,_,g,T,N,z,O,k,V,R,I=U,S=()=>(I(),I=Je(a,Q=>t(35,R=Q)),a),te,ne=U,be=()=>(ne(),ne=Je(f,Q=>t(46,te=Q)),f),me,Z=U,A=()=>(Z(),Z=Je(O,Q=>t(47,me=Q)),O),C,Y=U,B=()=>(Y(),Y=Je(_,Q=>t(8,C=Q)),_),F,J=U,x=()=>(J(),J=Je(s,Q=>t(36,F=Q)),s),de,X=U,Pe=()=>(X(),X=Je(u,Q=>t(9,de=Q)),u),G,P;i.$$.on_destroy.push(()=>I()),i.$$.on_destroy.push(()=>ne()),i.$$.on_destroy.push(()=>Z()),i.$$.on_destroy.push(()=>Y()),i.$$.on_destroy.push(()=>J()),i.$$.on_destroy.push(()=>X());let{rowId:v}=e,{mediaFields:y}=e,{highlightedFields:K}=e,{index:W=void 0}=e,{totalNumRows:ke=void 0}=e,{updateSequentialRowId:ye=void 0}=e,{nextRowId:H=void 0}=e,{modalOpen:ve=!1}=e,oe=!1;const Ie=dt();Ge(i,Ie,Q=>t(10,G=Q));const Me=si(),Ce=Mt();Ge(i,Ce,Q=>t(37,P=Q));let _e=new Set,We=0;function L(Q){if(v==null||!o)return;const ze={row_ids:[v],label_name:Q};_e.add(Q),t(12,_e),t(33,k),t(8,C),me.mutate([l,n,ze],{onSuccess:Ye=>{if(Ye===1)return;const $e=ze.row_ids!=null?`Document id: ${ze.row_ids}`:`${Ye.toLocaleString()} rows labeled`;Me.addNotification({kind:"success",title:`Added label "${ze.label_name}"`,message:$e})}})}function ge(Q){if(v==null||!o)return;const ze={label_name:Q,row_ids:[v]};_e.add(Q),t(12,_e),t(33,k),t(8,C),te.mutate([l,n,ze],{onSuccess:Ye=>{Ye!==1&&Me.addNotification({kind:"success",title:`Removed label "${ze.label_name}"`,message:`Document id: ${v}`})}})}function j(Q){if(!(r!=="single_item"||ve))if(Q.code==="Delete"||Q.code==="Backspace")t(11,oe=!0);else for(const ze of Object.keys(V))V[ze]===Q.code&&(T.includes(ze)?ge(ze):L(ze))}const we=Q=>{T.includes(Q)?ge(Q):L(Q)},Ke=()=>ye!=null?ye("previous"):null,Fe=()=>ye!=null?ye("next"):null;function Ee(Q){oe=Q,t(11,oe)}const ue=()=>H!=null?Ie.setRowId(H):null,Re=()=>H!=null?Ie.setRowId(H):null;function je(){We=this.clientHeight,t(13,We)}return i.$$set=Q=>{"rowId"in Q&&t(0,v=Q.rowId),"mediaFields"in Q&&t(1,y=Q.mediaFields),"highlightedFields"in Q&&t(2,K=Q.highlightedFields),"index"in Q&&t(3,W=Q.index),"totalNumRows"in Q&&t(4,ke=Q.totalNumRows),"updateSequentialRowId"in Q&&t(5,ye=Q.updateSequentialRowId),"nextRowId"in Q&&t(6,H=Q.nextRowId),"modalOpen"in Q&&t(29,ve=Q.modalOpen)},i.$$.update=()=>{var Q,ze,Ye,$e,lt,rt;i.$$.dirty[0]&1024&&t(31,l=G.namespace),i.$$.dirty[0]&1024&&t(30,n=G.datasetName),i.$$.dirty[0]&1073741824|i.$$.dirty[1]&1&&S(t(23,a=ei(l,n))),i.$$.dirty[1]&16&&(r=((ze=(Q=R.data)==null?void 0:Q.ui)==null?void 0:ze.view_type)||"single_item"),i.$$.dirty[1]&64&&t(32,o=(Ye=P.data)==null?void 0:Ye.access.dataset.edit_labels),i.$$.dirty[0]&1073741824|i.$$.dirty[1]&1&&x(t(22,s=Rt(l,n))),i.$$.dirty[0]&1073742848|i.$$.dirty[1]&1&&Pe(t(21,u=xl(l,n,$l(G)))),i.$$.dirty[1]&32&&be(t(20,f=F.data!=null?Gl(F.data):null)),i.$$.dirty[0]&1024&&t(34,d=Bi(G)),i.$$.dirty[0]&1073742337|i.$$.dirty[1]&9&&B(t(19,_=Hi(l,n,v,d,($e=de.data)==null?void 0:$e.schema,v!=null&&de.data!=null))),i.$$.dirty[0]&256&&t(7,g=C!=null&&!C.isFetching?C==null?void 0:C.data:null),i.$$.dirty[0]&128&&t(14,T=g!=null?Fi(g):[]),i.$$.dirty[1]&2&&t(18,N=!o),i.$$.dirty[1]&32&&t(17,z=F.data&&Xl(F.data)),i.$$.dirty[1]&32&&A(t(16,O=F.data!=null?Wl(F.data):null)),i.$$.dirty[0]&256&&t(33,k=C==null?void 0:C.isStale),i.$$.dirty[1]&4&&(k||t(12,_e=new Set)),i.$$.dirty[1]&16&&t(15,V=((rt=(lt=R.data)==null?void 0:lt.ui)==null?void 0:rt.label_to_keycode)||{})},[v,y,K,W,ke,ye,H,g,C,de,G,oe,_e,We,T,V,O,z,N,_,f,u,s,a,Ie,Ce,L,ge,j,ve,n,l,o,k,d,R,F,P,we,Ke,Fe,Ee,ue,Re,je]}class da extends Ne{constructor(e){super(),Be(this,e,Hs,Bs,He,{rowId:0,mediaFields:1,highlightedFields:2,index:3,totalNumRows:4,updateSequentialRowId:5,nextRowId:6,modalOpen:29},null,[-1,-1])}}function Rl(i){let e,t,l;var n=i[2];function a(r){return{}}return n&&(t=ct(n,a())),{c(){e=E("div"),t&&re(t.$$.fragment),this.h()},l(r){e=M(r,"DIV",{class:!0});var o=m(e);t&&he(t.$$.fragment,o),o.forEach(c),this.h()},h(){b(e,"class","mr-2")},m(r,o){D(r,e,o),t&&se(t,e,null),l=!0},p(r,o){if(o&4&&n!==(n=r[2])){if(t){Ve();const s=t;w(s.$$.fragment,1,0,()=>{ae(s,1)}),Te()}n?(t=ct(n,a()),re(t.$$.fragment),p(t.$$.fragment,1),se(t,e,null)):t=null}},i(r){l||(t&&p(t.$$.fragment,r),l=!0)},o(r){t&&w(t.$$.fragment,r),l=!1},d(r){r&&c(e),t&&ae(t)}}}function Fs(i){let e,t,l,n,a,r,o,s,u=i[2]!=null&&Rl(i);return{c(){e=E("button"),u&&u.c(),t=fe(),l=E("div"),n=le(i[1]),this.h()},l(f){e=M(f,"BUTTON",{class:!0});var d=m(e);u&&u.l(d),t=ce(d),l=M(d,"DIV",{class:!0});var _=m(l);n=ie(_,i[1]),_.forEach(c),d.forEach(c),this.h()},h(){b(l,"class","text-sm"),b(e,"class","inline-flex items-center rounded-xl px-2 py-1 outline outline-1 outline-gray-500 focus:outline-1 svelte-1tlnk00"),q(e,"active",i[0])},m(f,d){D(f,e,d),u&&u.m(e,null),h(e,t),h(e,l),h(l,n),r=!0,o||(s=[Qe(e,"click",i[4]),qe(a=Ze.call(null,e,{text:i[3]}))],o=!0)},p(f,[d]){f[2]!=null?u?(u.p(f,d),d&4&&p(u,1)):(u=Rl(f),u.c(),p(u,1),u.m(e,t)):u&&(Ve(),w(u,1,1,()=>{u=null}),Te()),(!r||d&2)&&Oe(n,f[1]),a&&tt(a.update)&&d&8&&a.update.call(null,{text:f[3]}),(!r||d&1)&&q(e,"active",f[0])},i(f){r||(p(u),r=!0)},o(f){w(u),r=!1},d(f){f&&c(e),u&&u.d(),o=!1,nt(s)}}}function js(i,e,t){let{active:l=!1}=e,{label:n}=e,{icon:a=void 0}=e,{tooltip:r=void 0}=e;function o(s){Zl.call(this,i,s)}return i.$$set=s=>{"active"in s&&t(0,l=s.active),"label"in s&&t(1,n=s.label),"icon"in s&&t(2,a=s.icon),"tooltip"in s&&t(3,r=s.tooltip)},[l,n,a,r,o]}class zl extends Ne{constructor(e){super(),Be(this,e,js,Fs,He,{active:0,label:1,icon:2,tooltip:3})}}function Ll(i,e,t){const l=i.slice();return l[26]=e[t],l}function Nl(i,e,t){const l=i.slice();l[29]=e[t],l[32]=t;const n=l[1].find(function(...r){return i[21](l[29],...r)});return l[30]=n,l}function St(i){const e=i.slice(),t=li(e[30]);e[33]=t;const l=ii(e[30]);e[34]=l;const n=e[32]===0;e[35]=n;const a=e[32]===e[0].ui.media_paths.length-1;return e[36]=a,e}function qs(i){let e,t,l,n,a,r,o,s,u,f,d,_,g,T,N,z,O,k,V,R,I,S,te,ne,be,me,Z,A,C,Y,B;const F=[Ks,Us],J=[];function x(G,P){var v;return((v=G[0].ui)==null?void 0:v.media_paths)!=null&&G[1]!=null?0:1}u=x(i),f=J[u]=F[u](i),O=new zl({props:{icon:qn,label:"Scroll",active:i[4]=="scroll",tooltip:"Infinite scroll with snippets"}}),O.$on("click",i[22]),V=new zl({props:{icon:Ln,label:"Single Item",active:i[4]=="single_item",tooltip:"Individual item"}}),V.$on("click",i[23]);const de=[Gs,Ws],X=[];function Pe(G,P){return G[6].isFetching?0:1}return C=Pe(i),Y=X[C]=de[C](i),{c(){e=E("div"),t=E("section"),l=E("div"),n=le("Media fields"),a=fe(),r=E("div"),o=le(`Media fields are text fields that are rendered large in the dataset viewer. They are the
        fields on which you can compute signals, embeddings, search, and label.`),s=fe(),f.c(),d=fe(),_=E("section"),g=E("div"),T=le("View type"),N=fe(),z=E("div"),re(O.$$.fragment),k=fe(),re(V.$$.fragment),R=fe(),I=E("section"),S=E("div"),te=le("Preferred embedding"),ne=fe(),be=E("div"),me=le("This embedding will be used by default when indexing and querying the data."),Z=fe(),A=E("div"),Y.c(),this.h()},l(G){e=M(G,"DIV",{class:!0});var P=m(e);t=M(P,"SECTION",{class:!0});var v=m(t);l=M(v,"DIV",{class:!0});var y=m(l);n=ie(y,"Media fields"),y.forEach(c),a=ce(v),r=M(v,"DIV",{class:!0});var K=m(r);o=ie(K,`Media fields are text fields that are rendered large in the dataset viewer. They are the
        fields on which you can compute signals, embeddings, search, and label.`),K.forEach(c),s=ce(v),f.l(v),v.forEach(c),d=ce(P),_=M(P,"SECTION",{class:!0});var W=m(_);g=M(W,"DIV",{class:!0});var ke=m(g);T=ie(ke,"View type"),ke.forEach(c),N=ce(W),z=M(W,"DIV",{class:!0});var ye=m(z);he(O.$$.fragment,ye),k=ce(ye),he(V.$$.fragment,ye),ye.forEach(c),W.forEach(c),R=ce(P),I=M(P,"SECTION",{class:!0});var H=m(I);S=M(H,"DIV",{class:!0});var ve=m(S);te=ie(ve,"Preferred embedding"),ve.forEach(c),ne=ce(H),be=M(H,"DIV",{class:!0});var oe=m(be);me=ie(oe,"This embedding will be used by default when indexing and querying the data."),oe.forEach(c),Z=ce(H),A=M(H,"DIV",{class:!0});var Ie=m(A);Y.l(Ie),Ie.forEach(c),H.forEach(c),P.forEach(c),this.h()},h(){b(l,"class","text-lg text-gray-700"),b(r,"class","text-sm text-gray-500"),b(t,"class","flex flex-col gap-y-4"),b(g,"class","text-lg text-gray-700"),b(z,"class","flex gap-x-2"),b(_,"class","flex flex-col gap-y-1"),b(S,"class","text-lg text-gray-700"),b(be,"class","text-sm text-gray-500"),b(A,"class","w-60"),b(I,"class","flex flex-col gap-y-1"),b(e,"class","flex flex-col gap-y-6")},m(G,P){D(G,e,P),h(e,t),h(t,l),h(l,n),h(t,a),h(t,r),h(r,o),h(t,s),J[u].m(t,null),h(e,d),h(e,_),h(_,g),h(g,T),h(_,N),h(_,z),se(O,z,null),h(z,k),se(V,z,null),h(e,R),h(e,I),h(I,S),h(S,te),h(I,ne),h(I,be),h(be,me),h(I,Z),h(I,A),X[C].m(A,null),B=!0},p(G,P){let v=u;u=x(G),u===v?J[u].p(G,P):(Ve(),w(J[v],1,1,()=>{J[v]=null}),Te(),f=J[u],f?f.p(G,P):(f=J[u]=F[u](G),f.c()),p(f,1),f.m(t,null));const y={};P[0]&16&&(y.active=G[4]=="scroll"),O.$set(y);const K={};P[0]&16&&(K.active=G[4]=="single_item"),V.$set(K);let W=C;C=Pe(G),C===W?X[C].p(G,P):(Ve(),w(X[W],1,1,()=>{X[W]=null}),Te(),Y=X[C],Y?Y.p(G,P):(Y=X[C]=de[C](G),Y.c()),p(Y,1),Y.m(A,null))},i(G){B||(p(f),p(O.$$.fragment,G),p(V.$$.fragment,G),p(Y),B=!0)},o(G){w(f),w(O.$$.fragment,G),w(V.$$.fragment,G),w(Y),B=!1},d(G){G&&c(e),J[u].d(),ae(O),ae(V),X[C].d()}}}function Ys(i){let e,t;return e=new ht({}),{c(){re(e.$$.fragment)},l(l){he(e.$$.fragment,l)},m(l,n){se(e,l,n),t=!0},p:U,i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){w(e.$$.fragment,l),t=!1},d(l){ae(e,l)}}}function Us(i){let e,t;return e=new ni({}),{c(){re(e.$$.fragment)},l(l){he(e.$$.fragment,l)},m(l,n){se(e,l,n),t=!0},p:U,i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){w(e.$$.fragment,l),t=!1},d(l){ae(e,l)}}}function Ks(i){let e,t,l,n,a,r,o,s,u,f,d,_,g,T,N,z,O,k,V=i[1]&&Bl(i),R=i[3]&&ql(i);return{c(){e=E("div"),t=E("div"),l=E("div"),n=E("div"),a=fe(),r=E("div"),o=le("Field"),s=fe(),u=E("div"),f=le("Markdown"),d=fe(),_=E("div"),g=fe(),V&&V.c(),T=fe(),N=E("div"),R&&R.c(),this.h()},l(I){e=M(I,"DIV",{class:!0});var S=m(e);t=M(S,"DIV",{class:!0});var te=m(t);l=M(te,"DIV",{class:!0});var ne=m(l);n=M(ne,"DIV",{class:!0}),m(n).forEach(c),a=ce(ne),r=M(ne,"DIV",{class:!0});var be=m(r);o=ie(be,"Field"),be.forEach(c),s=ce(ne),u=M(ne,"DIV",{class:!0});var me=m(u);f=ie(me,"Markdown"),me.forEach(c),d=ce(ne),_=M(ne,"DIV",{class:!0}),m(_).forEach(c),ne.forEach(c),te.forEach(c),g=ce(S),V&&V.l(S),S.forEach(c),T=ce(I),N=M(I,"DIV",{class:!0});var Z=m(N);R&&R.l(Z),Z.forEach(c),this.h()},h(){b(n,"class","table-cell"),b(r,"class","table-cell"),b(u,"class","table-cell"),b(_,"class","table-cell"),b(l,"class","table-row text-xs text-neutral-600"),b(t,"class","table-header-group items-center"),b(e,"class","table border-spacing-1 gap-y-2"),b(N,"class","h-12")},m(I,S){D(I,e,S),h(e,t),h(t,l),h(l,n),h(l,a),h(l,r),h(r,o),h(l,s),h(l,u),h(u,f),h(l,d),h(l,_),h(e,g),V&&V.m(e,null),D(I,T,S),D(I,N,S),R&&R.m(N,null),z=!0,O||(k=qe(Ze.call(null,u,{text:"Render media field with a markdown renderer."})),O=!0)},p(I,S){I[1]?V?(V.p(I,S),S[0]&2&&p(V,1)):(V=Bl(I),V.c(),p(V,1),V.m(e,null)):V&&(Ve(),w(V,1,1,()=>{V=null}),Te()),I[3]?R?(R.p(I,S),S[0]&8&&p(R,1)):(R=ql(I),R.c(),p(R,1),R.m(N,null)):R&&(Ve(),w(R,1,1,()=>{R=null}),Te())},i(I){z||(p(V),p(R),z=!0)},o(I){w(V),w(R),z=!1},d(I){I&&c(e),V&&V.d(),I&&c(T),I&&c(N),R&&R.d(),O=!1,k()}}}function Bl(i){let e,t,l=i[0].ui.media_paths,n=[];for(let r=0;r<l.length;r+=1)n[r]=jl(Nl(i,l,r));const a=r=>w(n[r],1,1,()=>{n[r]=null});return{c(){e=E("div");for(let r=0;r<n.length;r+=1)n[r].c();this.h()},l(r){e=M(r,"DIV",{class:!0});var o=m(e);for(let s=0;s<n.length;s+=1)n[s].l(o);o.forEach(c),this.h()},h(){b(e,"class","table-row-group")},m(r,o){D(r,e,o);for(let s=0;s<n.length;s+=1)n[s]&&n[s].m(e,null);t=!0},p(r,o){if(o[0]&15875){l=r[0].ui.media_paths;let s;for(s=0;s<l.length;s+=1){const u=Nl(r,l,s);n[s]?(n[s].p(u,o),p(n[s],1)):(n[s]=jl(u),n[s].c(),p(n[s],1),n[s].m(e,null))}for(Ve(),s=l.length;s<n.length;s+=1)a(s);Te()}},i(r){if(!t){for(let o=0;o<l.length;o+=1)p(n[o]);t=!0}},o(r){n=n.filter(Boolean);for(let o=0;o<n.length;o+=1)w(n[o]);t=!1},d(r){r&&c(e),Et(n,r)}}}function Hl(i){let e,t,l,n,a,r=i[30].path.indexOf(At)>=0,o,s,u=ft(i[30].path)+"",f,d,_,g,T,N,z,O,k,V,R,I,S,te,ne,be,me,Z,A,C,Y,B,F;const J=[Qs,Zs],x=[];function de(y,K){return y[30].dtype&&y[30].dtype.type!=="map"?0:1}l=de(i),n=x[l]=J[l](i);let X=r&&Fl();function Pe(...y){return i[17](i[30],...y)}g=new Ui({props:{class:"mx-auto w-8",size:"sm",hideLabel:!0,labelA:"",labelB:"",toggled:i[12](i[30])}}),g.$on("toggle",Pe),V=new dn({props:{size:16}});function G(){return i[18](i[30])}te=new un({props:{size:16}});function P(){return i[19](i[30])}A=new Ki({props:{size:16}});function v(){return i[20](i[30])}return{c(){e=E("div"),t=E("div"),n.c(),a=fe(),X&&X.c(),o=fe(),s=E("div"),f=le(u),d=fe(),_=E("div"),re(g.$$.fragment),T=fe(),N=E("div"),z=E("div"),O=E("div"),k=E("button"),re(V.$$.fragment),R=fe(),I=E("div"),S=E("button"),re(te.$$.fragment),be=fe(),me=E("div"),Z=E("button"),re(A.$$.fragment),C=fe(),this.h()},l(y){e=M(y,"DIV",{class:!0});var K=m(e);t=M(K,"DIV",{class:!0});var W=m(t);n.l(W),a=ce(W),X&&X.l(W),W.forEach(c),o=ce(K),s=M(K,"DIV",{class:!0});var ke=m(s);f=ie(ke,u),ke.forEach(c),d=ce(K),_=M(K,"DIV",{class:!0});var ye=m(_);he(g.$$.fragment,ye),ye.forEach(c),T=ce(K),N=M(K,"DIV",{class:!0});var H=m(N);z=M(H,"DIV",{class:!0});var ve=m(z);O=M(ve,"DIV",{class:!0});var oe=m(O);k=M(oe,"BUTTON",{});var Ie=m(k);he(V.$$.fragment,Ie),Ie.forEach(c),oe.forEach(c),R=ce(ve),I=M(ve,"DIV",{class:!0});var Me=m(I);S=M(Me,"BUTTON",{});var Ce=m(S);he(te.$$.fragment,Ce),Ce.forEach(c),Me.forEach(c),be=ce(ve),me=M(ve,"DIV",{class:!0});var _e=m(me);Z=M(_e,"BUTTON",{});var We=m(Z);he(A.$$.fragment,We),We.forEach(c),_e.forEach(c),ve.forEach(c),H.forEach(c),C=ce(K),K.forEach(c),this.h()},h(){b(t,"class","table-cell w-12 rounded-md p-0.5 align-middle"),q(t,"bg-blue-200",i[33]),q(t,"bg-teal-100",i[34]),b(s,"class","table-cell w-40 align-middle"),b(_,"class","table-cell w-8 align-middle"),k.disabled=i[35],q(k,"opacity-50",i[35]),b(O,"class","ml-auto align-middle"),S.disabled=ne=i[36],q(S,"opacity-50",i[36]),b(I,"class","align-middle"),b(me,"class","align-middle"),b(z,"class","flex flex-row gap-x-1"),b(N,"class","table-cell"),b(e,"class","table-row h-10")},m(y,K){D(y,e,K),h(e,t),x[l].m(t,null),h(t,a),X&&X.m(t,null),h(e,o),h(e,s),h(s,f),h(e,d),h(e,_),se(g,_,null),h(e,T),h(e,N),h(N,z),h(z,O),h(O,k),se(V,k,null),h(z,R),h(z,I),h(I,S),se(te,S,null),h(z,be),h(z,me),h(me,Z),se(A,Z,null),h(e,C),Y=!0,B||(F=[Qe(k,"click",G),qe(Ze.call(null,O,{text:"Move media field up"})),Qe(S,"click",P),qe(Ze.call(null,I,{text:"Move media field down"})),Qe(Z,"click",v),qe(Ze.call(null,me,{text:"Remove media field"}))],B=!0)},p(y,K){i=y;let W=l;l=de(i),l===W?x[l].p(i,K):(Ve(),w(x[W],1,1,()=>{x[W]=null}),Te(),n=x[l],n?n.p(i,K):(n=x[l]=J[l](i),n.c()),p(n,1),n.m(t,a)),K[0]&3&&(r=i[30].path.indexOf(At)>=0),r?X||(X=Fl(),X.c(),X.m(t,null)):X&&(X.d(1),X=null),(!Y||K[0]&3)&&q(t,"bg-blue-200",i[33]),(!Y||K[0]&3)&&q(t,"bg-teal-100",i[34]),(!Y||K[0]&3)&&u!==(u=ft(i[30].path)+"")&&Oe(f,u);const ke={};K[0]&3&&(ke.toggled=i[12](i[30])),g.$set(ke),(!Y||K[0]&1&&ne!==(ne=i[36]))&&(S.disabled=ne),(!Y||K[0]&1)&&q(S,"opacity-50",i[36])},i(y){Y||(p(n),p(g.$$.fragment,y),p(V.$$.fragment,y),p(te.$$.fragment,y),p(A.$$.fragment,y),Y=!0)},o(y){w(n),w(g.$$.fragment,y),w(V.$$.fragment,y),w(te.$$.fragment,y),w(A.$$.fragment,y),Y=!1},d(y){y&&c(e),x[l].d(),X&&X.d(),ae(g),ae(V),ae(te),ae(A),B=!1,nt(F)}}}function Zs(i){let e,t="{}",l,n;return{c(){e=E("span"),l=le(t),this.h()},l(a){e=M(a,"SPAN",{class:!0,title:!0});var r=m(e);l=ie(r,t),r.forEach(c),this.h()},h(){var a;b(e,"class","font-mono"),b(e,"title",n=(a=i[30].dtype)==null?void 0:a.type)},m(a,r){D(a,e,r),h(e,l)},p(a,r){var o;r[0]&3&&n!==(n=(o=a[30].dtype)==null?void 0:o.type)&&b(e,"title",n)},i:U,o:U,d(a){a&&c(e)}}}function Qs(i){let e,t,l;var n=qt[i[30].dtype.type];function a(r){return{props:{title:r[30].dtype.type}}}return n&&(e=ct(n,a(i))),{c(){e&&re(e.$$.fragment),t=xe()},l(r){e&&he(e.$$.fragment,r),t=xe()},m(r,o){e&&se(e,r,o),D(r,t,o),l=!0},p(r,o){const s={};if(o[0]&3&&(s.title=r[30].dtype.type),o[0]&3&&n!==(n=qt[r[30].dtype.type])){if(e){Ve();const u=e;w(u.$$.fragment,1,0,()=>{ae(u,1)}),Te()}n?(e=ct(n,a(r)),re(e.$$.fragment),p(e.$$.fragment,1),se(e,t.parentNode,t)):e=null}else n&&e.$set(s)},i(r){l||(e&&p(e.$$.fragment,r),l=!0)},o(r){e&&w(e.$$.fragment,r),l=!1},d(r){r&&c(t),e&&ae(e,r)}}}function Fl(i){let e;return{c(){e=le("[]")},l(t){e=ie(t,"[]")},m(t,l){D(t,e,l)},d(t){t&&c(e)}}}function jl(i){let e,t,l=i[30]&&Hl(St(i));return{c(){l&&l.c(),e=xe()},l(n){l&&l.l(n),e=xe()},m(n,a){l&&l.m(n,a),D(n,e,a),t=!0},p(n,a){n[30]?l?(l.p(St(n),a),a[0]&3&&p(l,1)):(l=Hl(St(n)),l.c(),p(l,1),l.m(e.parentNode,e)):l&&(Ve(),w(l,1,1,()=>{l=null}),Te())},i(n){t||(p(l),t=!0)},o(n){w(l),t=!1},d(n){l&&l.d(n),n&&c(e)}}}function ql(i){let e,t;return e=new Lt({props:{buttonOutline:!0,disabled:i[3].length===0,buttonIcon:sn,items:i[3],buttonText:"Add media field",comboBoxPlaceholder:"Add media field",hoist:!1}}),e.$on("select",i[8]),{c(){re(e.$$.fragment)},l(l){he(e.$$.fragment,l)},m(l,n){se(e,l,n),t=!0},p(l,n){const a={};n[0]&8&&(a.disabled=l[3].length===0),n[0]&8&&(a.items=l[3]),e.$set(a)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){w(e.$$.fragment,l),t=!1},d(l){ae(e,l)}}}function Ws(i){var l;let e,t;return e=new Yi({props:{selected:((l=i[0])==null?void 0:l.preferred_embedding)||void 0,$$slots:{default:[Xs]},$$scope:{ctx:i}}}),e.$on("change",i[14]),{c(){re(e.$$.fragment)},l(n){he(e.$$.fragment,n)},m(n,a){se(e,n,a),t=!0},p(n,a){var o;const r={};a[0]&1&&(r.selected=((o=n[0])==null?void 0:o.preferred_embedding)||void 0),a[0]&64|a[1]&64&&(r.$$scope={dirty:a,ctx:n}),e.$set(r)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){w(e.$$.fragment,n),t=!1},d(n){ae(e,n)}}}function Gs(i){let e,t;return e=new ni({}),{c(){re(e.$$.fragment)},l(l){he(e.$$.fragment,l)},m(l,n){se(e,l,n),t=!0},p:U,i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){w(e.$$.fragment,l),t=!1},d(l){ae(e,l)}}}function Yl(i){let e,t;return e=new ri({props:{value:i[26].name}}),{c(){re(e.$$.fragment)},l(l){he(e.$$.fragment,l)},m(l,n){se(e,l,n),t=!0},p(l,n){const a={};n[0]&64&&(a.value=l[26].name),e.$set(a)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){w(e.$$.fragment,l),t=!1},d(l){ae(e,l)}}}function Xs(i){let e,t,l,n;e=new ri({props:{value:void 0,text:"None"}});let a=i[6].data||[],r=[];for(let s=0;s<a.length;s+=1)r[s]=Yl(Ll(i,a,s));const o=s=>w(r[s],1,1,()=>{r[s]=null});return{c(){re(e.$$.fragment),t=fe();for(let s=0;s<r.length;s+=1)r[s].c();l=xe()},l(s){he(e.$$.fragment,s),t=ce(s);for(let u=0;u<r.length;u+=1)r[u].l(s);l=xe()},m(s,u){se(e,s,u),D(s,t,u);for(let f=0;f<r.length;f+=1)r[f]&&r[f].m(s,u);D(s,l,u),n=!0},p(s,u){if(u[0]&64){a=s[6].data||[];let f;for(f=0;f<a.length;f+=1){const d=Ll(s,a,f);r[f]?(r[f].p(d,u),p(r[f],1)):(r[f]=Yl(d),r[f].c(),p(r[f],1),r[f].m(l.parentNode,l))}for(Ve(),f=a.length;f<r.length;f+=1)o(f);Te()}},i(s){if(!n){p(e.$$.fragment,s);for(let u=0;u<a.length;u+=1)p(r[u]);n=!0}},o(s){w(e.$$.fragment,s),r=r.filter(Boolean);for(let u=0;u<r.length;u+=1)w(r[u]);n=!1},d(s){ae(e,s),s&&c(t),Et(r,s),s&&c(l)}}}function Js(i){let e,t,l,n;const a=[Ys,qs],r=[];function o(s,u){return s[0]==null||s[2].data==null?0:1}return e=o(i),t=r[e]=a[e](i),{c(){t.c(),l=xe()},l(s){t.l(s),l=xe()},m(s,u){r[e].m(s,u),D(s,l,u),n=!0},p(s,u){let f=e;e=o(s),e===f?r[e].p(s,u):(Ve(),w(r[f],1,1,()=>{r[f]=null}),Te(),t=r[e],t?t.p(s,u):(t=r[e]=a[e](s),t.c()),p(t,1),t.m(l.parentNode,l))},i(s){n||(p(t),n=!0)},o(s){w(t),n=!1},d(s){r[e].d(s),s&&c(l)}}}function xs(i,e,t){let l,n,a,r,o,s=U,u=()=>(s(),s=Je(l,B=>t(2,o=B)),l),f;i.$$.on_destroy.push(()=>s());let{namespace:d}=e,{datasetName:_}=e,{newSettings:g}=e;const T=ji();Ge(i,T,B=>t(6,f=B));function N(B){const F=B.detail.id;g.ui==null&&t(0,g.ui={},g),g.ui.media_paths==null&&t(0,g.ui.media_paths=[],g),g.ui.media_paths.find(x=>et(x,F.path))==null&&t(0,g.ui.media_paths=[...g.ui.media_paths,F.path],g)}function z(B){var F;((F=g.ui)==null?void 0:F.media_paths)!=null&&t(0,g.ui.media_paths=g.ui.media_paths.filter(J=>!et(J,B.path)),g)}function O(B){var J;if(((J=g.ui)==null?void 0:J.media_paths)==null)return;const F=g.ui.media_paths.findIndex(x=>et(x,B.path));F<=0||t(0,g.ui.media_paths=[...g.ui.media_paths.slice(0,F-1),B.path,g.ui.media_paths[F-1],...g.ui.media_paths.slice(F+1)],g)}function k(B){var J;if(((J=g.ui)==null?void 0:J.media_paths)==null)return;const F=g.ui.media_paths.findIndex(x=>et(x,B.path));F<0||F>=g.ui.media_paths.length-1||t(0,g.ui.media_paths=[...g.ui.media_paths.slice(0,F),g.ui.media_paths[F+1],B.path,...g.ui.media_paths.slice(F+2)],g)}function V(B){var F,J;return((J=(F=g.ui)==null?void 0:F.markdown_paths)==null?void 0:J.find(x=>et(x,B.path)))!=null}function R(B,F){B.detail.toggled?I(F):S(F)}function I(B){g.ui==null&&t(0,g.ui={},g),g.ui.markdown_paths==null&&t(0,g.ui.markdown_paths=[],g),g.ui.markdown_paths.find(J=>et(J,B.path))==null&&t(0,g.ui.markdown_paths=[...g.ui.markdown_paths,B.path],g)}function S(B){g.ui!=null&&g.ui.markdown_paths!=null&&t(0,g.ui.markdown_paths=g.ui.markdown_paths.filter(F=>!et(F,B.path)),g)}function te(B){const F=B.target.value;t(0,g.preferred_embedding=F===""?void 0:F,g)}const ne=(B,F)=>R(F,B),be=B=>O(B),me=B=>k(B),Z=B=>z(B),A=(B,F)=>et(F.path,B),C=()=>{(g==null?void 0:g.ui)!=null&&t(0,g.ui.view_type="scroll",g)},Y=()=>{(g==null?void 0:g.ui)!=null&&t(0,g.ui.view_type="single_item",g)};return i.$$set=B=>{"namespace"in B&&t(15,d=B.namespace),"datasetName"in B&&t(16,_=B.datasetName),"newSettings"in B&&t(0,g=B.newSettings)},i.$$.update=()=>{var B;i.$$.dirty[0]&98304&&u(t(5,l=Rt(d,_))),i.$$.dirty[0]&1&&t(4,n=((B=g==null?void 0:g.ui)==null?void 0:B.view_type)||"single_item"),i.$$.dirty[0]&4&&t(1,a=o.data!=null?ti(o.data).filter(F=>{var J;return((J=F.dtype)==null?void 0:J.type)==="string"&&!et(F.path,[qi])&&!li(F)&&!ii(F)}):null),i.$$.dirty[0]&3&&t(3,r=a!=null?a.filter(F=>{var J,x;return!((x=(J=g.ui)==null?void 0:J.media_paths)!=null&&x.includes(F.path))}).map(F=>{const J=ft(F.path);return{id:F,text:J}}):null)},[g,a,o,r,n,l,f,T,N,z,O,k,V,R,te,d,_,ne,be,me,Z,A,C,Y]}class ha extends Ne{constructor(e){super(),Be(this,e,xs,Js,He,{namespace:15,datasetName:16,newSettings:0},null,[-1,-1])}}export{sn as A,vn as C,Xn as D,mr as E,da as R,ai as T,kn as a,Ds as b,ha as c};
