(self.webpackChunk=self.webpackChunk||[]).push([[2166],{98747:(e,a,t)=>{"use strict";var s=t(20011),i=t(63025),n=t(81473),r=t.n(n),l=t(9086),c=t.n(l),m=t(53806),d=t.n(m),_=t(60216),o=t.n(_),u=t(32735),v=t(12788),y=t(41612),D=t(75723),E=t(59965),f=t(37314),p=t(67986),g=t(8892),b=t(892),j=t(88021),I=t(19306),N=t(59090);const F=i.ZP.bind(null,{endpoint:"users.user_favorites_category_api",rules:[{args:["category_id","user_id"],converters:{category_id:"IntegerConverter",user_id:"IntegerConverter"},defaults:{},trace:[{data:"|",isDynamic:!1},{data:"/",isDynamic:!1},{data:"user",isDynamic:!1},{data:"/",isDynamic:!1},{data:"user_id",isDynamic:!0},{data:"/",isDynamic:!1},{data:"api",isDynamic:!1},{data:"/",isDynamic:!1},{data:"favorites",isDynamic:!1},{data:"/",isDynamic:!1},{data:"categories",isDynamic:!1},{data:"/",isDynamic:!1},{data:"category_id",isDynamic:!0}]},{args:["user_id"],converters:{user_id:"IntegerConverter"},defaults:{},trace:[{data:"|",isDynamic:!1},{data:"/",isDynamic:!1},{data:"user",isDynamic:!1},{data:"/",isDynamic:!1},{data:"user_id",isDynamic:!0},{data:"/",isDynamic:!1},{data:"api",isDynamic:!1},{data:"/",isDynamic:!1},{data:"favorites",isDynamic:!1},{data:"/",isDynamic:!1},{data:"categories",isDynamic:!1}]},{args:["category_id"],converters:{category_id:"IntegerConverter"},defaults:{},trace:[{data:"|",isDynamic:!1},{data:"/",isDynamic:!1},{data:"user",isDynamic:!1},{data:"/",isDynamic:!1},{data:"api",isDynamic:!1},{data:"/",isDynamic:!1},{data:"favorites",isDynamic:!1},{data:"/",isDynamic:!1},{data:"categories",isDynamic:!1},{data:"/",isDynamic:!1},{data:"category_id",isDynamic:!0}]},{args:[],converters:{},defaults:{},trace:[{data:"|",isDynamic:!1},{data:"/",isDynamic:!1},{data:"user",isDynamic:!1},{data:"/",isDynamic:!1},{data:"api",isDynamic:!1},{data:"/",isDynamic:!1},{data:"favorites",isDynamic:!1},{data:"/",isDynamic:!1},{data:"categories",isDynamic:!1}]}]},"/"),h=i.ZP.bind(null,{endpoint:"users.user_favorites_event_api",rules:[{args:["event_id","user_id"],converters:{event_id:"IntegerConverter",user_id:"IntegerConverter"},defaults:{},trace:[{data:"|",isDynamic:!1},{data:"/",isDynamic:!1},{data:"user",isDynamic:!1},{data:"/",isDynamic:!1},{data:"user_id",isDynamic:!0},{data:"/",isDynamic:!1},{data:"api",isDynamic:!1},{data:"/",isDynamic:!1},{data:"favorites",isDynamic:!1},{data:"/",isDynamic:!1},{data:"events",isDynamic:!1},{data:"/",isDynamic:!1},{data:"event_id",isDynamic:!0}]},{args:["user_id"],converters:{user_id:"IntegerConverter"},defaults:{},trace:[{data:"|",isDynamic:!1},{data:"/",isDynamic:!1},{data:"user",isDynamic:!1},{data:"/",isDynamic:!1},{data:"user_id",isDynamic:!0},{data:"/",isDynamic:!1},{data:"api",isDynamic:!1},{data:"/",isDynamic:!1},{data:"favorites",isDynamic:!1},{data:"/",isDynamic:!1},{data:"events",isDynamic:!1}]},{args:["event_id"],converters:{event_id:"IntegerConverter"},defaults:{},trace:[{data:"|",isDynamic:!1},{data:"/",isDynamic:!1},{data:"user",isDynamic:!1},{data:"/",isDynamic:!1},{data:"api",isDynamic:!1},{data:"/",isDynamic:!1},{data:"favorites",isDynamic:!1},{data:"/",isDynamic:!1},{data:"events",isDynamic:!1},{data:"/",isDynamic:!1},{data:"event_id",isDynamic:!0}]},{args:[],converters:{},defaults:{},trace:[{data:"|",isDynamic:!1},{data:"/",isDynamic:!1},{data:"user",isDynamic:!1},{data:"/",isDynamic:!1},{data:"api",isDynamic:!1},{data:"/",isDynamic:!1},{data:"favorites",isDynamic:!1},{data:"/",isDynamic:!1},{data:"events",isDynamic:!1}]}]},"/");function x(e){let{userId:a}=e;return u.createElement(u.Fragment,null,u.createElement("div",{className:"row"},u.createElement(Z,{userId:a}),u.createElement(k,{userId:a})),u.createElement("div",{className:"row"},u.createElement(T,{userId:a})))}function k(e){let{userId:a}=e;const[t,s]=(0,u.useState)(null),[i,n]=(0,u.useState)(!0),r=(0,u.useCallback)((async()=>{let e;try{e=await N.indicoAxios.get(F(null!==a?{user_id:a}:{}))}catch(e){return void(0,N.handleAxiosError)(e)}s(e.data),n(!1)}),[a]);(0,u.useEffect)((()=>{r()}),[r]);return u.createElement("div",{className:"column col-50"},u.createElement("div",{className:"i-box just-group-list"},u.createElement("div",{className:"i-box-header"},u.createElement("div",{className:"i-box-title"},u.createElement(I.Translate,null,"Favorite Categories"))),u.createElement("div",{className:"i-box-content"},i?u.createElement(y.Z,{active:!0,inline:!0,className:"users-client-js-___Favorites-module__fav-loader___9Opw1"}):null!==t&&Object.keys(t).length>0?u.createElement(D.Z,{celled:!0,className:"users-client-js-___Favorites-module__fav-list___KFdnj"},Object.values(t).map((e=>u.createElement(D.Z.Item,{key:e.id,className:"users-client-js-___Favorites-module__fav-item___FxbQW"},u.createElement(D.Z.Content,null,u.createElement("div",{className:"users-client-js-___Favorites-module__list-flex___Pvha0"},u.createElement("div",null,u.createElement("a",{href:e.url,target:"_blank",rel:"noopener noreferrer"},e.title),u.createElement("br",null),u.createElement(g.TooltipIfTruncated,null,u.createElement("span",{className:"users-client-js-___Favorites-module__detail___IlIkm"},e.chain_titles.slice(0,-1).join(" » ")))),u.createElement(E.Z,{trigger:u.createElement(f.Z,{className:"users-client-js-___Favorites-module__delete-button___wFq64",name:"close",onClick:()=>(async e=>{try{await N.indicoAxios.delete(F({category_id:e}))}catch(e){return void(0,N.handleAxiosError)(e)}s((a=>c()(a,e)))})(e.id),link:!0}),content:I.Translate.string("Remove from favorites"),position:"bottom center"}))))))):u.createElement("div",{className:"users-client-js-___Favorites-module__empty-favorites___7j0mT"},u.createElement(I.Translate,null,"You have not marked any category as favorite.")))))}function T(e){let{userId:a}=e;const[t,s]=(0,u.useState)(null),[i,n]=(0,u.useState)(!0),r=(0,u.useCallback)((async()=>{let e;try{e=await N.indicoAxios.get(h(null!==a?{user_id:a}:{}))}catch(e){return void(0,N.handleAxiosError)(e)}s(e.data),n(!1)}),[a]);(0,u.useEffect)((()=>{r()}),[r]);return u.createElement("div",{className:"users-client-js-___Favorites-module__favorite-event-container___MDESj"},u.createElement("div",{className:"i-box just-group-list"},u.createElement("div",{className:"i-box-header"},u.createElement("div",{className:"i-box-title"},u.createElement(I.Translate,null,"Favorite Events"))),u.createElement("div",{className:"i-box-content"},i?u.createElement(y.Z,{active:!0,inline:!0,className:"users-client-js-___Favorites-module__fav-loader___9Opw1"}):null!==t&&Object.keys(t).length>0?u.createElement(D.Z,{celled:!0,className:"users-client-js-___Favorites-module__fav-list___KFdnj"},Object.values(t).sort(((e,a)=>d()(a.start_dt)-d()(e.start_dt))).map((e=>u.createElement(D.Z.Item,{key:e.url,className:"users-client-js-___Favorites-module__fav-item___FxbQW"},u.createElement(D.Z.Content,null,u.createElement("div",{className:"users-client-js-___Favorites-module__list-flex___Pvha0"},u.createElement("span",{className:"users-client-js-___Favorites-module__date-span___G-Q4g"},d()(e.start_dt).format("D MMM YYYY")),u.createElement("span",{className:"users-client-js-___Favorites-module__event-name-box___siq9D"},u.createElement("a",{href:e.url,target:"_blank",rel:"noopener noreferrer"},e.title),u.createElement("span",{dangerouslySetInnerHTML:{__html:e.label_markup}}),u.createElement("br",null),u.createElement(g.TooltipIfTruncated,null,u.createElement("span",{className:"users-client-js-___Favorites-module__detail___IlIkm"},e.chain_titles?e.chain_titles.join(" » "):u.createElement(I.Translate,null,"Unlisted")))),u.createElement(E.Z,{trigger:u.createElement(f.Z,{className:"users-client-js-___Favorites-module__delete-button___wFq64",name:"close",onClick:()=>(async e=>{try{await N.indicoAxios.delete(h({event_id:e}))}catch(e){return void(0,N.handleAxiosError)(e)}s((a=>c()(a,e)))})(e.id),link:!0}),content:I.Translate.string("Remove from favorites"),position:"bottom center"}))))))):u.createElement("div",{className:"users-client-js-___Favorites-module__empty-favorites___7j0mT"},u.createElement(I.Translate,null,"You have not marked any event as favorite.")))))}function Z(e){let{userId:a}=e;const[t,[i,n],l]=(0,j.jZ)(a);return u.createElement("div",{className:"column col-50"},u.createElement("div",{className:"i-box just-group-list"},u.createElement("div",{className:"i-box-header"},u.createElement("div",{className:"i-box-title"},u.createElement(I.Translate,null,"Favorite Users"))),u.createElement("div",{className:"i-box-content"},l?u.createElement(y.Z,{active:!0,inline:!0,className:"users-client-js-___Favorites-module__fav-loader___9Opw1"}):null!==t&&Object.keys(t).length>0?u.createElement(D.Z,{celled:!0,className:"users-client-js-___Favorites-module__fav-list___KFdnj"},Object.values(r()(t,["name"])).map((e=>u.createElement(D.Z.Item,{key:e.identifier,className:"users-client-js-___Favorites-module__fav-item___FxbQW"},u.createElement("div",{className:"users-client-js-___Favorites-module__list-flex___Pvha0"},u.createElement("div",null,u.createElement("span",null,e.name),u.createElement("br",null),u.createElement(g.TooltipIfTruncated,null,u.createElement("span",{className:"users-client-js-___Favorites-module__detail___IlIkm"},e.detail))),u.createElement(E.Z,{trigger:u.createElement(f.Z,{className:"users-client-js-___Favorites-module__delete-button___wFq64",name:"close",onClick:()=>n(e.userId),link:!0}),content:I.Translate.string("Remove from favorites"),position:"bottom center"})))))):u.createElement("div",{className:"users-client-js-___Favorites-module__empty-favorites___7j0mT"},u.createElement(I.Translate,null,"You have not marked any user as favorite.")))),u.createElement(b.PS,{existing:Object.values(t).map((e=>e.identifier)),onAddItems:e=>e.forEach((e=>i(e.userId))),triggerFactory:e=>u.createElement(p.Z,(0,s.Z)({},e,{className:"users-client-js-___Favorites-module__submit-button___AeA4z "+(e&&e.className||"")}),u.createElement(I.Translate,null,"Add Indico user"))}))}window.setupFavoriteSelection=function(e){v.render(u.createElement(x,{userId:e}),document.getElementById("user-favorites"))},x.propTypes={userId:o().number},x.defaultProps={userId:null},k.propTypes={userId:o().number},k.defaultProps={userId:null},T.propTypes={userId:o().number},T.defaultProps={userId:null},Z.propTypes={userId:o().number},Z.defaultProps={userId:null}},81473:(e,a,t)=>{var s=t(50690),i=t(77236);e.exports=function(e,a,t,n){return null==e?[]:(i(a)||(a=null==a?[]:[a]),i(t=n?void 0:t)||(t=null==t?[]:[t]),s(e,a,t))}}},e=>{e.O(0,[5514,3044,8592],(()=>{return a=98747,e(e.s=a);var a}));e.O()}]);
//# sourceMappingURL=module_users.favorites.50e932b2.bundle.js.map