{"version":3,"file":"js/module_events.header.5dac81e2.bundle.js","mappings":"otBAaAA,SAASC,iBAAiB,oBAAoB,KAC5C,MAAMC,EAAoBF,SAASG,cAAc,wBAEjD,IAAKD,EACH,OAGF,MAAM,QAACE,EAAO,kBAAEC,EAAiB,uBAAEC,GAA0BJ,EAAkBK,QACzEC,OAA4DC,IAA5CP,EAAkBK,QAAQC,cAC1CE,EAAU,CACd,CACEC,IAAK,QACLC,KAAMC,EAAAA,UAAAA,OAAiB,SACvBC,YAAaD,EAAAA,UAAAA,OAAiB,mBAC9BE,YAAa,CAAC,IAGdC,SAASV,EAAwB,IAAM,GACzCI,EAAQO,KAAK,CACXN,IAAK,WACLG,YAAaD,EAAAA,UAAAA,OACX,0FAEFD,KAAMC,EAAAA,UAAAA,OAAiB,WACvBE,YAAa,CAACG,MAAO,aAGrBF,SAASX,EAAmB,IAAM,GACpCK,EAAQO,KAAK,CACXN,IAAK,gBACLC,KAAMC,EAAAA,UAAAA,OAAiB,YACvBC,YAAaD,EAAAA,UAAAA,OACX,iEAEFE,YAAa,CAACG,MAAO,kBAIzBC,EAAAA,OACEC,EAAAA,cAACC,EAAAA,gBAAe,CACdC,SAAS,2BACTC,OAAQ,CAACC,SAAUpB,GACnBqB,aAAcC,GACZN,EAAAA,cAACO,EAAAA,QAAO,CACNC,KAAK,WACLC,UAAQ,EACRH,QAAOI,EAAA,CAAG,eAAe,EAAM,cAAc,EAAM,QAAU,GAASJ,GACtEK,MAAOlB,EAAAA,UAAAA,OAAiB,YAG5BmB,iBAAiB,WACjBC,cAAc,eACdvB,QAASA,EACTF,cAAeA,IAEjBN,EACD,G","sources":["webpack:///indico/modules/events/client/js/header.jsx"],"sourcesContent":["// This file is part of Indico.\n// Copyright (C) 2002 - 2023 CERN\n//\n// Indico is free software; you can redistribute it and/or\n// modify it under the terms of the MIT License; see the\n// LICENSE file for more details.\n\nimport React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport {IButton, ICSCalendarLink} from 'indico/react/components';\nimport {Translate} from 'indico/react/i18n';\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  const calendarContainer = document.querySelector('#event-calendar-link');\n\n  if (!calendarContainer) {\n    return;\n  }\n\n  const {eventId, eventContribCount, eventSessionBlockCount} = calendarContainer.dataset;\n  const eventInSeries = calendarContainer.dataset.eventInSeries !== undefined;\n  const options = [\n    {\n      key: 'event',\n      text: Translate.string('Basic'),\n      description: Translate.string('Just the event.'),\n      extraParams: {},\n    },\n  ];\n  if (parseInt(eventSessionBlockCount, 10) > 0) {\n    options.push({\n      key: 'sessions',\n      description: Translate.string(\n        'A detailed timetable containing individual session blocks and top-level contributions.'\n      ),\n      text: Translate.string('Compact'),\n      extraParams: {scope: 'session'},\n    });\n  }\n  if (parseInt(eventContribCount, 10) > 0) {\n    options.push({\n      key: 'contributions',\n      text: Translate.string('Detailed'),\n      description: Translate.string(\n        'A detailed timetable containing all individual contributions.'\n      ),\n      extraParams: {scope: 'contribution'},\n    });\n  }\n\n  ReactDOM.render(\n    <ICSCalendarLink\n      endpoint=\"events.export_event_ical\"\n      params={{event_id: eventId}}\n      renderButton={classes => (\n        <IButton\n          icon=\"calendar\"\n          dropdown\n          classes={{'height-full': true, 'text-color': true, 'subtle': true, ...classes}}\n          title={Translate.string('Export')}\n        />\n      )}\n      dropdownPosition=\"top left\"\n      popupPosition=\"bottom right\"\n      options={options}\n      eventInSeries={eventInSeries}\n    />,\n    calendarContainer\n  );\n});\n"],"names":["document","addEventListener","calendarContainer","querySelector","eventId","eventContribCount","eventSessionBlockCount","dataset","eventInSeries","undefined","options","key","text","Translate","description","extraParams","parseInt","push","scope","ReactDOM","React","ICSCalendarLink","endpoint","params","event_id","renderButton","classes","IButton","icon","dropdown","_objectSpread","title","dropdownPosition","popupPosition"],"sourceRoot":""}