import{j as e,P as g,t as D,d as x,h as P,e as S,k as F,l as C,m as E,n as M,o as L,p as T,a as I,q as p,s as z,f as b}from"./index-f823a46d.js";import{u as O,a as R,M as A,C as k,b as v,L as B}from"./context-d40331ee.js";import{r as f,T as H}from"./Tab-e691a787.js";import{v as j,M as Q,P as $}from"./disclosure-6b2379df.js";import q from"./ModelLineage-9be79e23.js";import{S as _}from"./SplitPane-1bed5e5c.js";import"./_commonjs-dynamic-modules-302442b1.js";import"./Input-7f1ddde5.js";import"./popover-cf930454.js";import"./ListboxShow-966669dc.js";import"./SearchList-b6035f4b.js";const N=function({model:s,withModel:a=!0,withDescription:n=!0,withColumns:o=!0,withCode:c=!0,withQuery:t=!0}){const{handleClickModel:r}=O(),d=R(s.path,i=>{r==null||r(i.name)});return e.jsxs(w,{children:[a&&e.jsx(m,{headline:"Model",defaultOpen:!0,children:e.jsxs("ul",{className:"px-2 w-full",children:[e.jsx(u,{name:"Path",value:s.path.split(g).slice(0,-1).join(g)}),e.jsx(u,{name:"Name",title:s.displayName,value:D(s.displayName,50,25)}),e.jsx(u,{name:"Dialect",value:s.dialect}),e.jsx(u,{name:"Type",value:s.type}),Object.entries(s.details??{}).map(([i,h])=>e.jsx(u,{name:i.replaceAll("_"," "),value:h,isCapitalize:!0},i))]})}),n&&e.jsx(m,{headline:"Description",defaultOpen:!0,children:s.description??"No description"}),o&&e.jsx(m,{headline:"Columns",children:e.jsx(A,{className:"max-h-[15rem]",nodeId:s.name,columns:s.columns,disabled:s==null?void 0:s.isModelPython,withHandles:!1,withSource:!1,withDescription:!0,limit:10})}),(c||t)&&e.jsx(m,{headline:"SQL",children:e.jsx(k,{path:s.path,children:({file:i})=>e.jsxs(f.Group,{defaultIndex:t?1:0,children:[e.jsx(H,{list:[c&&"Source Code",t&&"Compiled Query"].filter(Boolean),className:"!justify-center"}),e.jsxs(f.Panels,{className:"h-full w-full overflow-hidden bg-neutral-10 mt-4 rounded-lg",children:[c&&e.jsx(f.Panel,{unmount:!1,className:x("flex flex-col w-full h-full relative px-2 overflow-hidden p-2","ring-white ring-opacity-60 ring-offset-2 ring-offset-blue-400 focus:outline-none focus:ring-2"),children:e.jsx(v,{content:i.content,type:i.extension,extensions:d,className:"text-xs"})}),t&&e.jsx(f.Panel,{unmount:!1,className:"w-full h-full ring-white ring-opacity-60 ring-offset-2 ring-offset-blue-400 focus:outline-none focus:ring-2 p-2",children:e.jsx(v,{type:P.SQL,content:s.sql??"",extensions:d,className:"text-xs"})})]})]})})})]})};function G({headline:l}){return e.jsx("div",{className:"text-lg font-bold whitespace-nowrap w-full",id:l,children:e.jsx("h3",{className:"py-2",children:l})})}function U(){return e.jsx(w,{className:"font-bold whitespace-nowrap w-full h-full",children:e.jsx("div",{className:"flex items-center justify-center w-full h-full",children:"Documentation Not Found"})})}function w({children:l,className:s}){return e.jsx("div",{className:x("w-full h-full rounded-xl",s),children:e.jsx("div",{className:"w-full h-full py-4 rounded-xl",children:e.jsx("div",{className:"w-full h-full overflow-auto hover:scrollbar scrollbar--vertical scrollbar--horizontal",children:l})})})}function m({children:l,className:s,headline:a,defaultOpen:n=!1}){return e.jsx("div",{className:"px-4",children:e.jsx(j,{defaultOpen:n,children:({open:o})=>e.jsxs(e.Fragment,{children:[e.jsxs(j.Button,{className:x("flex items-center justify-between rounded-lg text-left w-full bg-neutral-10 px-3 mb-2 overflow-hidden",s),children:[e.jsx(G,{headline:a}),e.jsx("div",{children:o?e.jsx(Q,{className:"h-6 w-6 text-neutral-50"}):e.jsx($,{className:"h-6 w-6 text-neutral-50"})})]}),e.jsx(j.Panel,{className:"pb-2 overflow-hidden",children:e.jsx("div",{className:"px-4 mb-2 text-xs",children:l})})]})})})}function u({className:l,name:s,value:a,isHighlighted:n=!1,isCapitalize:o=!1,children:c,title:t}){return e.jsxs("li",{className:x("w-full border-b border-primary-10 py-1 mb-1",l),children:[S(a)?e.jsxs(e.Fragment,{children:[e.jsx("strong",{title:t,className:"mr-2 text-xs capitalize",children:s}),a.map((r,d)=>e.jsx("span",{className:"w-full items-center flex ml-2 mb-1",children:e.jsx("ul",{className:"w-full flex ml-3 whitespace-nowrap",children:Object.entries(r).map(([i,h])=>e.jsx("li",{className:"flex",children:e.jsxs("div",{className:"flex text-xs",children:[e.jsxs("strong",{className:"mr-2",children:[i,":"]}),e.jsx("p",{className:"text-xs rounded text-neutral-500 dark:text-neutral-400",children:y(h)}),e.jsx("span",{className:"px-2 text-neutral-20",children:"|"})]})},i))})},d))]}):e.jsxs("div",{className:"flex justify-between text-xs whitespace-nowrap",children:[e.jsx("strong",{className:x("mr-2",o&&"capitalize",n&&"text-brand-500"),children:s}),e.jsx("p",{className:"text-xs rounded text-neutral-500 dark:text-neutral-400",children:y(a)})]}),e.jsx("p",{className:"text-xs ",children:c})]})}N.NotFound=U;N.Container=w;const V=N;function y(l){const s=new Date(l),a=F(l)&&!isNaN(s.getTime()),n=typeof l=="boolean";return n&&C(l)?"True":n&&E(l)?"False":a?M(s):String(l)}function ae(){const{modelName:l}=L(),s=T(),a=I(t=>t.models),n=p(l)?void 0:a.get(encodeURI(l));function o(t){const r=a.get(t);p(r)||s(b.IdeDocsModels+"/"+r.name)}function c(t){console.log(t==null?void 0:t.message)}return e.jsx("div",{className:"flex overflow-auto w-full h-full",children:p(n)?e.jsx(z,{link:b.IdeDocs,descritpion:l==null?void 0:`Model ${l} Does Not Exist`,message:"Back To Docs"}):e.jsx(B,{handleClickModel:o,handleError:c,children:e.jsxs(_,{className:"flex h-full w-full",sizes:[50,50],minSize:0,snapOffset:0,children:[e.jsx("div",{className:"flex flex-col h-full dark:bg-theme-lighter round",children:e.jsx(V,{model:n,withQuery:n.isModelSQL})}),e.jsx("div",{className:"flex flex-col h-full px-2",children:e.jsx(q,{model:n})})]})})})}export{ae as default};
