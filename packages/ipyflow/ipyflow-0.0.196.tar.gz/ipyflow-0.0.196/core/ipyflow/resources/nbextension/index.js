define("nbextensions/ipyflow/index",[],(()=>(()=>{var e={760:(e,n,o)=>{"use strict";o.r(n),o.d(n,{default:()=>i});var t=o(15),l=o.n(t),r=o(645),c=o.n(r)()(l());c.push([e.id,":root {\n  --waiting-color: rgb(254,0,82);\n  --ready-making-color: rgb(0,197,158);\n}\n\n.cell.code_cell .out_prompt_overlay::before {\n  position: absolute;\n  display: block;\n  top: 3px;\n  left: -6px;\n  width: 5px;\n  height: calc(100% + 2px);\n  content: '';\n}\n\n.cell.code_cell .input_prompt::before {\n  position: absolute;\n  display: block;\n  top: -1px;\n  left: -1px;\n  width: 5px;\n  height: calc(100% + 2px);\n  content: '';\n}\n\n.cell.code_cell.waiting-cell .input_prompt::before {\n  border: 1px solid var(--waiting-color);\n}\n\n.cell.code_cell.waiting-cell.selected .input_prompt::before, .waiting-cell.jupyter-soft-selected .input_prompt::before {\n  background-color: var(--waiting-color);\n}\n\n.cell.code_cell.waiting-cell .input_prompt:hover::before {\n  background-color: var(--waiting-color);\n}\n\n.cell.code_cell.linked-waiting .input_prompt::before {\n  background-color: var(--waiting-color);\n}\n\n.cell.code_cell.linked-ready .out_prompt_overlay::before {\n  background-color: var(--waiting-color);\n}\n\n.cell.code_cell.ready-making-cell .input_prompt::before {\n  border: 1px solid var(--ready-making-color);\n}\n\n.cell.code_cell.ready-making-cell.selected .input_prompt::before, .cell.code_cell.ready-making-cell.jupyter-soft-selected .input_prompt::before {\n  background-color: var(--ready-making-color);\n}\n\n.cell.code_cell.ready-making-cell .input_prompt:hover::before {\n  background-color: var(--ready-making-color);\n}\n\n.cell.code_cell.linked-ready-making .input_prompt::before {\n  background-color: var(--ready-making-color);\n}\n\n/* put input / output cells later since they should take precedence */\n\n.cell.code_cell.ready-cell .out_prompt_overlay::before {\n  border: 1px solid var(--waiting-color);\n}\n\n.cell.code_cell.ready-cell.selected .out_prompt_overlay::before, .cell.code_cell.ready-cell.jupyter-soft-selected .out_prompt_overlay::before {\n  background-color: var(--waiting-color);\n}\n\n.cell.code_cell.ready-cell .out_prompt_overlay:hover::before {\n  background-color: var(--waiting-color);\n}\n\n.cell.code_cell.ready-making-input-cell .input_prompt::before {\n  border: 1px solid var(--ready-making-color);\n}\n\n.cell.code_cell.ready-making-input-cell.selected .input_prompt::before, .cell.code_cell.ready-making-input-cell.jupyter-soft-selected .input_prompt::before {\n  background-color: var(--ready-making-color);\n}\n\n.cell.code_cell.ready-making-input-cell .input_prompt:hover::before {\n  background-color: var(--ready-making-color);\n}\n","",{version:3,sources:["webpack://./style/index.css"],names:[],mappings:"AAAA;EACE,8BAA8B;EAC9B,oCAAoC;AACtC;;AAEA;EACE,kBAAkB;EAClB,cAAc;EACd,QAAQ;EACR,UAAU;EACV,UAAU;EACV,wBAAwB;EACxB,WAAW;AACb;;AAEA;EACE,kBAAkB;EAClB,cAAc;EACd,SAAS;EACT,UAAU;EACV,UAAU;EACV,wBAAwB;EACxB,WAAW;AACb;;AAEA;EACE,sCAAsC;AACxC;;AAEA;EACE,sCAAsC;AACxC;;AAEA;EACE,sCAAsC;AACxC;;AAEA;EACE,sCAAsC;AACxC;;AAEA;EACE,sCAAsC;AACxC;;AAEA;EACE,2CAA2C;AAC7C;;AAEA;EACE,2CAA2C;AAC7C;;AAEA;EACE,2CAA2C;AAC7C;;AAEA;EACE,2CAA2C;AAC7C;;AAEA,qEAAqE;;AAErE;EACE,sCAAsC;AACxC;;AAEA;EACE,sCAAsC;AACxC;;AAEA;EACE,sCAAsC;AACxC;;AAEA;EACE,2CAA2C;AAC7C;;AAEA;EACE,2CAA2C;AAC7C;;AAEA;EACE,2CAA2C;AAC7C",sourcesContent:[":root {\n  --waiting-color: rgb(254,0,82);\n  --ready-making-color: rgb(0,197,158);\n}\n\n.cell.code_cell .out_prompt_overlay::before {\n  position: absolute;\n  display: block;\n  top: 3px;\n  left: -6px;\n  width: 5px;\n  height: calc(100% + 2px);\n  content: '';\n}\n\n.cell.code_cell .input_prompt::before {\n  position: absolute;\n  display: block;\n  top: -1px;\n  left: -1px;\n  width: 5px;\n  height: calc(100% + 2px);\n  content: '';\n}\n\n.cell.code_cell.waiting-cell .input_prompt::before {\n  border: 1px solid var(--waiting-color);\n}\n\n.cell.code_cell.waiting-cell.selected .input_prompt::before, .waiting-cell.jupyter-soft-selected .input_prompt::before {\n  background-color: var(--waiting-color);\n}\n\n.cell.code_cell.waiting-cell .input_prompt:hover::before {\n  background-color: var(--waiting-color);\n}\n\n.cell.code_cell.linked-waiting .input_prompt::before {\n  background-color: var(--waiting-color);\n}\n\n.cell.code_cell.linked-ready .out_prompt_overlay::before {\n  background-color: var(--waiting-color);\n}\n\n.cell.code_cell.ready-making-cell .input_prompt::before {\n  border: 1px solid var(--ready-making-color);\n}\n\n.cell.code_cell.ready-making-cell.selected .input_prompt::before, .cell.code_cell.ready-making-cell.jupyter-soft-selected .input_prompt::before {\n  background-color: var(--ready-making-color);\n}\n\n.cell.code_cell.ready-making-cell .input_prompt:hover::before {\n  background-color: var(--ready-making-color);\n}\n\n.cell.code_cell.linked-ready-making .input_prompt::before {\n  background-color: var(--ready-making-color);\n}\n\n/* put input / output cells later since they should take precedence */\n\n.cell.code_cell.ready-cell .out_prompt_overlay::before {\n  border: 1px solid var(--waiting-color);\n}\n\n.cell.code_cell.ready-cell.selected .out_prompt_overlay::before, .cell.code_cell.ready-cell.jupyter-soft-selected .out_prompt_overlay::before {\n  background-color: var(--waiting-color);\n}\n\n.cell.code_cell.ready-cell .out_prompt_overlay:hover::before {\n  background-color: var(--waiting-color);\n}\n\n.cell.code_cell.ready-making-input-cell .input_prompt::before {\n  border: 1px solid var(--ready-making-color);\n}\n\n.cell.code_cell.ready-making-input-cell.selected .input_prompt::before, .cell.code_cell.ready-making-input-cell.jupyter-soft-selected .input_prompt::before {\n  background-color: var(--ready-making-color);\n}\n\n.cell.code_cell.ready-making-input-cell .input_prompt:hover::before {\n  background-color: var(--ready-making-color);\n}\n"],sourceRoot:""}]);const i=c},645:e=>{"use strict";e.exports=function(e){var n=[];return n.toString=function(){return this.map((function(n){var o=e(n);return n[2]?"@media ".concat(n[2]," {").concat(o,"}"):o})).join("")},n.i=function(e,o,t){"string"==typeof e&&(e=[[null,e,""]]);var l={};if(t)for(var r=0;r<this.length;r++){var c=this[r][0];null!=c&&(l[c]=!0)}for(var i=0;i<e.length;i++){var a=[].concat(e[i]);t&&l[a[0]]||(o&&(a[2]?a[2]="".concat(o," and ").concat(a[2]):a[2]=o),n.push(a))}},n}},15:e=>{"use strict";function n(e,n){(null==n||n>e.length)&&(n=e.length);for(var o=0,t=new Array(n);o<n;o++)t[o]=e[o];return t}e.exports=function(e){var o,t,l=(t=4,function(e){if(Array.isArray(e))return e}(o=e)||function(e,n){var o=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=o){var t,l,r=[],c=!0,i=!1;try{for(o=o.call(e);!(c=(t=o.next()).done)&&(r.push(t.value),!n||r.length!==n);c=!0);}catch(e){i=!0,l=e}finally{try{c||null==o.return||o.return()}finally{if(i)throw l}}return r}}(o,t)||function(e,o){if(e){if("string"==typeof e)return n(e,o);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?n(e,o):void 0}}(o,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),r=l[1],c=l[3];if(!c)return r;if("function"==typeof btoa){var i=btoa(unescape(encodeURIComponent(JSON.stringify(c)))),a="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(i),s="/*# ".concat(a," */"),d=c.sources.map((function(e){return"/*# sourceURL=".concat(c.sourceRoot||"").concat(e," */")}));return[r].concat(d).concat([s]).join("\n")}return[r].join("\n")}},549:(e,n,o)=>{var t=o(379),l=o(760);"string"==typeof(l=l.__esModule?l.default:l)&&(l=[[e.id,l,""]]);t(l,{insert:"head",singleton:!1}),e.exports=l.locals||{}},379:(e,n,o)=>{"use strict";var t,l=function(){var e={};return function(n){if(void 0===e[n]){var o=document.querySelector(n);if(window.HTMLIFrameElement&&o instanceof window.HTMLIFrameElement)try{o=o.contentDocument.head}catch(e){o=null}e[n]=o}return e[n]}}(),r=[];function c(e){for(var n=-1,o=0;o<r.length;o++)if(r[o].identifier===e){n=o;break}return n}function i(e,n){for(var o={},t=[],l=0;l<e.length;l++){var i=e[l],a=n.base?i[0]+n.base:i[0],s=o[a]||0,d="".concat(a," ").concat(s);o[a]=s+1;var u=c(d),p={css:i[1],media:i[2],sourceMap:i[3]};-1!==u?(r[u].references++,r[u].updater(p)):r.push({identifier:d,updater:f(p,n),references:1}),t.push(d)}return t}function a(e){var n=document.createElement("style"),t=e.attributes||{};if(void 0===t.nonce){var r=o.nc;r&&(t.nonce=r)}if(Object.keys(t).forEach((function(e){n.setAttribute(e,t[e])})),"function"==typeof e.insert)e.insert(n);else{var c=l(e.insert||"head");if(!c)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");c.appendChild(n)}return n}var s,d=(s=[],function(e,n){return s[e]=n,s.filter(Boolean).join("\n")});function u(e,n,o,t){var l=o?"":t.media?"@media ".concat(t.media," {").concat(t.css,"}"):t.css;if(e.styleSheet)e.styleSheet.cssText=d(n,l);else{var r=document.createTextNode(l),c=e.childNodes;c[n]&&e.removeChild(c[n]),c.length?e.insertBefore(r,c[n]):e.appendChild(r)}}function p(e,n,o){var t=o.css,l=o.media,r=o.sourceMap;if(l?e.setAttribute("media",l):e.removeAttribute("media"),r&&"undefined"!=typeof btoa&&(t+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(r))))," */")),e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}var m=null,_=0;function f(e,n){var o,t,l;if(n.singleton){var r=_++;o=m||(m=a(n)),t=u.bind(null,o,r,!1),l=u.bind(null,o,r,!0)}else o=a(n),t=p.bind(null,o,n),l=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(o)};return t(e),function(n){if(n){if(n.css===e.css&&n.media===e.media&&n.sourceMap===e.sourceMap)return;t(e=n)}else l()}}e.exports=function(e,n){(n=n||{}).singleton||"boolean"==typeof n.singleton||(n.singleton=(void 0===t&&(t=Boolean(window&&document&&document.all&&!window.atob)),t));var o=i(e=e||[],n);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var t=0;t<o.length;t++){var l=c(o[t]);r[l].references--}for(var a=i(e,n),s=0;s<o.length;s++){var d=c(o[s]);0===r[d].references&&(r[d].updater(),r.splice(d,1))}o=a}}}}},n={};function o(t){var l=n[t];if(void 0!==l)return l.exports;var r=n[t]={id:t,exports:{}};return e[t](r,r.exports,o),r.exports}o.n=e=>{var n=e&&e.__esModule?()=>e.default:()=>e;return o.d(n,{a:n}),n},o.d=(e,n)=>{for(var t in n)o.o(n,t)&&!o.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:n[t]})},o.o=(e,n)=>Object.prototype.hasOwnProperty.call(e,n),o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.nc=void 0;var t={};return(()=>{"use strict";o.r(t),o(549);const e="waiting-cell",n="ready-cell",l="ready-making-cell",r="ready-making-input-cell",c="linked-waiting",i="linked-ready",a="linked-ready-making",s=new Event("cleanup");let d=!1,u=new Set,p=new Set,m={},_={},f=null,v=null,A=null,b={},y={},g={},C=null,h=null,k=null,E=!1,w=0,x=null,S=new Set,j=new Set,L=new Set;function B(e){return null===e||null===e.firstElementChild||null===e.firstElementChild.firstElementChild?null:e.firstElementChild.firstElementChild.firstElementChild}function O(e){return null===e||null===e.children.item(1)?null:e.children.item(1).firstElementChild}const U=(e,n,o)=>{const t=()=>{e.removeEventListener(n,o),e.removeEventListener("cleanup",t)};e.addEventListener(n,o),e.addEventListener("cleanup",t)};function M(e,n,o,t,l){null!==e&&U(e,o,(()=>{n.classList[t](l)}))}function T(e){M(B(e),e,"mouseover","add",i),M(B(e),e,"mouseout","remove",i),M(O(e),e,"mouseover","add",a),M(O(e),e,"mouseout","remove",a)}function R(e,n,o,t,l,r){const c=()=>{for(const e of n)o[e].classList[l](r)};e.addEventListener(t,c),U(e,t,c)}function I(e){b={},y={},g={},e.notebook.get_cells().forEach(((e,n)=>{b[e.id]=e.element[0],y[e.id]=e,g[e.id]=n}))}function N(o){const t=o.element[0];t.classList.remove(e),t.classList.remove(l),t.classList.remove(n),t.classList.remove(r),t.classList.remove(c),t.classList.remove(i),t.classList.remove(a);const d=B(t);null!==d&&d.dispatchEvent(s);const u=O(t);null!==u&&u.dispatchEvent(s)}function P(o){"none"!==x&&(I(o),o.notebook.get_cells().forEach((o=>{!function(o){N(o);const t=o.id,s=o.element[0];u.has(t)?(s.classList.add(e),s.classList.add(n),s.classList.remove(r)):p.has(t)&&(s.classList.add(r),s.classList.add(n),T(s)),"reactive"!==k&&(Object.prototype.hasOwnProperty.call(m,t)&&function(e,n,o){R(B(e),n,o,"mouseover","add",a),R(O(e),n,o,"mouseover","add",a),R(B(e),n,o,"mouseout","remove",a),R(O(e),n,o,"mouseout","remove",a)}(s,m[t],b),Object.prototype.hasOwnProperty.call(_,t)&&(s.classList.add(l),s.classList.add(n),T(s),function(e,n,o){R(B(e),n,o,"mouseover","add",c),R(B(e),n,o,"mouseover","add",i),R(B(e),n,o,"mouseout","remove",c),R(B(e),n,o,"mouseout","remove",i)}(s,_[t],b)))}(o)})))}function q(e){const n={};return e.notebook.get_cells().forEach(((e,o)=>{"code"===e.cell_type&&(n[e.id]={index:o,content:e.get_text(),type:e.cell_type})})),n}function V(e){"reactive"===k?k="normal":"normal"===k&&(k="reactive"),e.notebook.kernel.execute("%flow toggle-reactivity",{silent:!0,store_history:!1})}function W(e,o){let t=!1;const l=e.notebook.kernel.comm_manager.new_comm("ipyflow",{interface:"jupyter"}),c={help:"alt mode execute",help_index:"zz",handler:()=>{"code"===(null==f?void 0:f.cell_type)&&(s(),1==++w&&V(e),e.notebook.execute_cells([v]))}},i=(o,c)=>{t?e.notebook.events.unbind("execute.CodeCell",i):c.cell.notebook===e.notebook&&(c.cell.element[0].classList.remove(n),c.cell.element[0].classList.remove(r),l.send({type:"compute_exec_schedule",executed_cell_id:c.cell.id,cell_metadata_by_id:q(e)}))},a=(n,o)=>{t?e.notebook.events.unbind("select.Cell",a):null!=o.cell&&(e.notebook.get_cells().forEach(((e,n)=>{o.cell.id===e.id&&(f=o.cell,v=n)})),l.send({type:"change_active_cell",active_cell_id:o.cell.id,active_cell_order_idx:v}))},s=()=>{t&&(e.notebook.events.unbind("create.Cell",s),e.notebook.events.unbind("delete.Cell",s),e.notebook.events.unbind("cut.Cell",s),e.notebook.events.unbind("copy.Cell",s),e.notebook.events.unbind("paste.Cell",s),e.notebook.events.unbind("move_up.Cell",s),e.notebook.events.unbind("move_down.Cell",s)),a(null,{cell:e.notebook.get_selected_cell()})};return l.on_msg((n=>{var o,r,v,b;const y=n.content.data;if(!t&&(null===(o=y.success)||void 0===o||o))if("establish"===y.type){d=!0,e.notebook.events.on("create.Cell",s),e.notebook.events.on("delete.Cell",s),e.notebook.events.on("cut.Cell",s),e.notebook.events.on("copy.Cell",s),e.notebook.events.on("paste.Cell",s),e.notebook.events.on("move_up.Cell",s),e.notebook.events.on("move_down.Cell",s),e.notebook.events.on("execute.CodeCell",i),e.notebook.events.on("select.Cell",a);const n=()=>{t||(l.send({type:"notify_content_changed",cell_metadata_by_id:q(e)}),setTimeout(n,2e3))};n(),e.keyboard_manager.command_shortcuts.add_shortcuts({"cmd-shift-enter":c,"ctrl-shift-enter":c}),e.keyboard_manager.edit_shortcuts.add_shortcuts({"cmd-shift-enter":c,"ctrl-shift-enter":c}),l.send({type:"compute_exec_schedule",cell_metadata_by_id:q(e),is_reactively_executing:E})}else if("set_exec_mode"===y.type)w=0,k=y.exec_mode;else if("change_active_cell"===y.type){if(null!=h){const n=h;C=h=null,e.notebook.execute_cells([n])}}else if("compute_exec_schedule"===y.type){I(e),u=new Set(null!==(r=y.waiting_cells)&&void 0!==r?r:[]),p=new Set(null!==(v=y.ready_cells)&&void 0!==v?v:[]),L=new Set([...L,...y.forced_reactive_cells]),m=y.waiter_links,_=y.ready_maker_links,C=null,h=null;const n=y.exec_mode;j="reactive"===n?new Set([...j,...y.new_ready_cells]):new Set,E=E||null!==(b=null==y?void 0:y.is_reactively_executing)&&void 0!==b&&b||"reactive"===n;const o=y.flow_order,t=y.exec_schedule;k=n,x=y.highlights;const c=y.last_executed_cell_id;if(S.add(c),!y.last_execution_was_error){let l=!1,r=!1;e.notebook.get_cells().forEach(((e,i)=>{if(!l&&(r||(r=e.id===c,"in_order"!==o&&"strict"!==t))&&"code"===e.cell_type&&!S.has(e.id)&&(L.has(e.id)||"reactive"===n&&j.has(e.id)))if(null==C){if(null==A&&(A=f),C=e,h=i,"in_order"===o||"strict"===t)return void(l=!0)}else null==e.input_prompt_number||e.input_prompt_number<C.input_prompt_number&&(C=e)}))}null==C?(E&&("reactive"===x&&(p=S),null!=A&&(e.notebook.events.trigger("select.Cell",{cell:A}),A=null),l.send({type:"reactivity_cleanup"})),L=new Set,j=new Set,S=new Set,P(e),w>0&&0==--w&&V(e),s()):(E=!0,P(e),l.send({type:"change_active_cell",active_cell_id:C.id,active_cell_order_idx:h}))}})),()=>{l.close(),t=!0,function(e){e.notebook.get_cells().forEach((e=>{N(e)}))}(e),d&&(e.keyboard_manager.command_shortcuts.remove_shortcut("cmd-shift-enter"),e.keyboard_manager.command_shortcuts.remove_shortcut("ctrl-shift-enter"),e.keyboard_manager.edit_shortcuts.remove_shortcut("cmd-shift-enter"),e.keyboard_manager.edit_shortcuts.remove_shortcut("ctrl-shift-enter")),d=!1}}require(["base/js/namespace","notebook/js/codecell"],((e,n)=>{let o=function(){};const t=()=>{e.notebook.kernel.comm_manager.register_target("ipyflow-client",((n,t)=>{n.on_msg((n=>{var t;const l=n.content.data;(null===(t=l.success)||void 0===t||t)&&("unestablish"===l.type?o():"establish"===l.type&&(o(),o=W(e)))})),o(),o=W(e)}))};e.notebook.events.on("spec_changed.Kernel",(()=>{t(),o()})),e.notebook.events.on("kernel_restarting.Kernel",(()=>{o()})),e.notebook.events.on("kernel_ready.Kernel",(()=>{t(),o=W(e)}))}))})(),t})()));
//# sourceMappingURL=index.js.map