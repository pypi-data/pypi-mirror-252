import numpy as np
import pyaudio

def bytebeat(t):
    return (t * (t >> 5 | t >> 8)) & 0xFF

def play_bytebeat5(sample_rate=44100, amplification_factor=1.0):
    p = pyaudio.PyAudio()

    stream = p.open(
        format=pyaudio.paFloat32,
        channels=1,
        rate=sample_rate,
        output=True
    )

    t = 0

    while True:
        data = np.array([bytebeat(t) * amplification_factor for t in range(t, t + 1024)], dtype=np.float32)
        stream.write(data.tobytes())
        t += len(data)

if __name__ == "__main__":
    play_bytebeat5(amplification_factor=1.0)
