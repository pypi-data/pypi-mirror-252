import{_ as e,y as l,c as a,U as t,i as u,V as o,o as s,a as n,b as r,n as d,I as v,A as i,j as c,t as y,f,r as m}from"./index-khtEKB45.js";const h={class:"border-y flex bg-higher table-header"},b=["onMouseover"],p=["title"],w=["onMousedown"],g=["title","onMouseover"],k={key:0,class:"w-full"},x={key:1},_={key:0,class:"flex justify-center py-3 border border-t-0"},B={class:"data-empty"},M=e({__name:"SLTable",props:{data:{type:Array,default:()=>[]},column:{type:Array,default:()=>[]},maxW:{type:String,default:"none"},highLight:{type:Boolean,default:!0},flexable:{type:Boolean,default:!1},lastRowGradient:{type:Boolean,default:!1},tableBorder:{type:Boolean,default:!1},stickyHeader:{type:Boolean,default:!1}},setup(e){const M=e,E=l(null),L=l([]),S=l(null),W=l(null),z=l("100%"),A=a((()=>{if(M.flexable){const e=M.column.length;return new Array(e).fill(1/e*100+"%")}return L.value.map((e=>(null==e?void 0:e.value)?(null==e?void 0:e.value)+"px":""))})),j=l(-1),R=a((()=>-1===H.value?j.value:H.value));t((()=>{M.column.forEach(((e,l)=>{if(L.value[l]={value:0,extended:!1},e.width){const a=e.width>150?e.width:150;L.value[l].value=e.border?a-2:a}else L.value[l].value=150})),$(),window.addEventListener("resize",$)}));const $=()=>{let e=0;L.value.forEach((({value:l})=>{e+=l})),W.value.offsetWidth>e?W.value.offsetWidth&&(z.value=W.value.offsetWidth):z.value=e},G=u("isSideBarShow");o(G,(e=>{M.flexable||(e?z.value-=288:z.value+=288)}));const H=l(-1),I=l(0),X=l(0),T=l(70),U=e=>{let l=X.value+(e.clientX-I.value);l=l<T.value?T.value:l,L.value[H.value].value=l,E.value[H.value]=l},V=()=>{$(),document.removeEventListener("mousemove",U),document.removeEventListener("mouseup",V),document.body.style.userSelect="auto",document.body.style.cursor="",I.value=0,X.value=0,H.value=-1},q=e=>{j.value=e};return(l,a)=>(s(),n("div",{class:"w-full",ref_key:"wrapper",ref:W},[r("div",{class:d({"gradient-last-line":e.lastRowGradient,"table-border":e.tableBorder}),style:c({width:"string"==typeof z.value?z.value:`${z.value}px`}),ref_key:"table",ref:S},[r("div",{class:d({"sticky top-0 z-20":e.stickyHeader})},[r("div",h,[(s(!0),n(v,null,i(e.column,((l,t)=>(s(),n("div",{key:l.key,class:d(["cell table-header-item",R.value===t?"bg-highest":"bg-higher"]),onMouseover:e=>q(t),onMouseout:a[0]||(a[0]=e=>q(-1)),style:c({width:A.value[t]}),ref_for:!0,ref_key:"columnsRef",ref:E},[r("p",{class:d(["overflow-hidden w-full h-full flex items-center",l.style||"px-2 py-3"]),title:l.title},y(l.title),11,p),e.column.unresizeable||e.flexable?f("",!0):(s(),n("button",{key:0,onMousedown:e=>((e,l)=>{document.body.style.userSelect="none",document.body.style.cursor="col-resize",H.value=l,I.value=e.clientX,A.value[l].endsWith("%")&&(L.value[l].value=E.value[l].offsetWidth),X.value=L.value[l].value,document.addEventListener("mousemove",U),document.addEventListener("mouseup",V)})(e,t),class:d({"button-hover-tip":j.value===t})},null,42,w))],46,b)))),128))])],2),(s(!0),n(v,null,i(e.data,((t,u)=>(s(),n("div",{key:t,class:d([{"hover:bg-higher":-1===H.value},"line"])},[(s(!0),n(v,null,i(e.column,((e,o)=>(s(),n("div",{key:e.key,title:t[e.key],class:d(["cell flex items-center px-2 py-3",[e.style,{"hover:bg-primary-dimmest":-1===H.value},R.value===o?"bg-higher":"bg-default"]]),onMouseover:e=>q(o),onMouseout:a[1]||(a[1]=e=>q(-1)),style:c({width:A.value[o]})},[e.slot?(s(),n("div",k,[m(l.$slots,e.slot,{row:t,index:u},void 0,!0)])):(s(),n("div",x,y(t[e.key]||"-"),1))],46,g)))),128))],2)))),128)),e.data.length?f("",!0):(s(),n("div",_,[r("div",B,y(l.$t("common.table.empty")),1)]))],6)],512))}},[["__scopeId","data-v-1edb8c6d"]]);export{M as S};
