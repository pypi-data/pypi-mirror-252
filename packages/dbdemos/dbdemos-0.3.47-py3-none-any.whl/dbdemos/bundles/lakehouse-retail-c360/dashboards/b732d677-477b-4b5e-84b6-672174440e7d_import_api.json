{
    "queries": [
        {
            "id": "d32d35cd-de9c-4f6e-ad1b-c6c6173cfb4f",
            "name": "DLT-retail-data-quality-stats",
            "description": null,
            "query": "select \n    date(timestamp) day, sum(failed_records)/sum(output_records)*100 failure_rate, sum(output_records) output_records from dbdemos.retail_c360.dlt_expectations \ngroup by day order by day",
            "options": {
                "parent": "folders/1580401252621742",
                "apply_auto_limit": false,
                "folder_node_status": "ACTIVE",
                "folder_node_internal_name": "tree/1554764779540619",
                "parameters": [],
                "schema": null,
                "catalog": null,
                "run_as_role": "owner",
                "visualization_control_order": []
            },
            "visualizations": [
                {
                    "id": "064940c2-02f6-4d4e-8a51-d27105a7b2a3",
                    "type": "COUNTER",
                    "name": "Quality failure rate",
                    "description": "",
                    "options": {
                        "counterLabel": "Quality Failure rate",
                        "counterColName": "failure_rate",
                        "rowNumber": 11,
                        "targetRowNumber": 1,
                        "stringDecimal": 2,
                        "stringDecChar": ".",
                        "stringThouSep": ",",
                        "tooltipFormat": "0,0.000",
                        "showPlotlyControls": true,
                        "stringPrefix": "",
                        "stringSuffix": "%",
                        "formatTargetValue": true,
                        "targetColName": ""
                    },
                    "query_plan": null
                },
                {
                    "id": "09baa3e4-b43b-4bc4-be96-5e5c4b7d056e",
                    "type": "COUNTER",
                    "name": "Daily row ingested",
                    "description": "",
                    "options": {
                        "counterLabel": "Daily row ingested",
                        "counterColName": "output_records",
                        "rowNumber": 1,
                        "targetRowNumber": 1,
                        "stringDecimal": 0,
                        "stringDecChar": ".",
                        "stringThouSep": ",",
                        "tooltipFormat": "0,0.000",
                        "showPlotlyControls": true
                    },
                    "query_plan": null
                },
                {
                    "id": "51072a5a-541a-4b31-9d62-b6c328db07e6",
                    "type": "TABLE",
                    "name": "Table",
                    "description": "",
                    "options": {},
                    "query_plan": null
                },
                {
                    "id": "7f6bd157-07d6-486e-b654-b0d17cb90771",
                    "type": "TABLE",
                    "name": "Table",
                    "description": "",
                    "options": {},
                    "query_plan": null
                },
                {
                    "id": "98b2d8b6-92dc-4d34-90da-9bdb68981267",
                    "type": "TABLE",
                    "name": "Table",
                    "description": "",
                    "options": {},
                    "query_plan": null
                },
                {
                    "id": "c99e1f85-6a27-46d7-babd-253e5e42841c",
                    "type": "COUNTER",
                    "name": "Invalid input schema",
                    "description": "",
                    "options": {
                        "counterLabel": "Invalid input schema",
                        "counterColName": "failure_rate",
                        "rowNumber": 1,
                        "targetRowNumber": 1,
                        "stringDecimal": 2,
                        "stringDecChar": ".",
                        "stringThouSep": ",",
                        "tooltipFormat": "0,0.000",
                        "useAggregationsUi": false,
                        "showPlotlyControls": true,
                        "stringPrefix": "",
                        "stringSuffix": "%"
                    },
                    "query_plan": null
                }
            ]
        },
        {
            "id": "f6fb27a7-4143-4691-b9be-c4ce06e78b0e",
            "name": "DLT-retail-data-quality",
            "description": null,
            "query": "select sum(passed_records) as passed_records,\n       sum(failed_records) as failed_records,\n       sum(dropped_records) as dropped_records,\n       sum(output_records) as output_records,\n       sum(failed_records)/sum(output_records)*100 as failure_rate,\n       name,\n       dataset,\n        date(timestamp) as date from dbdemos.retail_c360.dlt_expectations values group by date, dataset, name;",
            "options": {
                "parent": "folders/1580401252621742",
                "apply_auto_limit": false,
                "folder_node_status": "ACTIVE",
                "folder_node_internal_name": "tree/1554764779540618",
                "parameters": [],
                "schema": null,
                "catalog": null,
                "run_as_role": "owner",
                "visualization_control_order": []
            },
            "visualizations": [
                {
                    "id": "3a2f5964-aee1-4c90-bac1-d68d7b821140",
                    "type": "TABLE",
                    "name": "Table",
                    "description": "",
                    "options": {},
                    "query_plan": null
                },
                {
                    "id": "3eca2644-ea56-47d9-b651-21bd5521d4fb",
                    "type": "TABLE",
                    "name": "Table",
                    "description": "",
                    "options": {},
                    "query_plan": null
                },
                {
                    "id": "5eda1f10-6c18-4e04-ba4d-6adf1467b93d",
                    "type": "CHART",
                    "name": "Daily failure per dataset",
                    "description": "",
                    "options": {
                        "version": 2,
                        "globalSeriesType": "column",
                        "sortX": true,
                        "legend": {
                            "enabled": true,
                            "placement": "auto",
                            "traceorder": "normal"
                        },
                        "xAxis": {
                            "type": "-",
                            "labels": {
                                "enabled": true
                            },
                            "title": {
                                "text": "date"
                            }
                        },
                        "yAxis": [
                            {
                                "type": "-",
                                "title": {
                                    "text": "failed_records"
                                }
                            },
                            {
                                "type": "-",
                                "opposite": true,
                                "title": {
                                    "text": null
                                }
                            }
                        ],
                        "alignYAxesAtZero": false,
                        "error_y": {
                            "type": "data",
                            "visible": true
                        },
                        "series": {
                            "stacking": "stack",
                            "error_y": {
                                "type": "data",
                                "visible": true
                            }
                        },
                        "seriesOptions": {
                            "failed_records": {
                                "yAxis": 0
                            },
                            "user_gold_dlt": {
                                "color": "#F58742"
                            },
                            "spend_silver_dlt": {
                                "color": "#F5C61B"
                            },
                            "user_silver_dlt": {
                                "color": "#A58AFF"
                            },
                            "users_bronze_dlt": {
                                "color": "#C63FA9",
                                "type": "column"
                            },
                            "valid_score": {
                                "color": "#C44427"
                            },
                            "valid_id": {
                                "color": "#D67C1C"
                            },
                            "valid_age": {
                                "color": "#D6C31C"
                            },
                            "correct_schema": {
                                "color": "#A58AFF"
                            },
                            "valid_income": {
                                "color": "#C63FA9"
                            }
                        },
                        "valuesOptions": {},
                        "direction": {
                            "type": "counterclockwise"
                        },
                        "sizemode": "diameter",
                        "coefficient": 1,
                        "numberFormat": "0,0[.]00000",
                        "percentFormat": "0[.]00%",
                        "textFormat": "",
                        "missingValuesAsZero": true,
                        "useAggregationsUi": false,
                        "swappedAxes": false,
                        "showDataLabels": false,
                        "dateTimeFormat": "YYYY-MM-DD HH:mm",
                        "columnConfigurationMap": {
                            "x": {
                                "column": "date"
                            },
                            "y": [
                                {
                                    "column": "failed_records"
                                }
                            ],
                            "series": {
                                "column": "name"
                            }
                        },
                        "showPlotlyControls": true
                    },
                    "query_plan": null
                },
                {
                    "id": "8e25cba6-c769-44bd-a352-bed6f02acb66",
                    "type": "CHART",
                    "name": "Customer pipeline data quality",
                    "description": "",
                    "options": {
                        "version": 2,
                        "globalSeriesType": "line",
                        "sortX": true,
                        "legend": {
                            "enabled": true,
                            "placement": "auto",
                            "traceorder": "normal"
                        },
                        "xAxis": {
                            "type": "-",
                            "labels": {
                                "enabled": true
                            },
                            "title": {
                                "text": "date"
                            }
                        },
                        "yAxis": [
                            {
                                "type": "-",
                                "title": {
                                    "text": "dropped_records"
                                }
                            },
                            {
                                "type": "-",
                                "opposite": true,
                                "title": {
                                    "text": "passed_records"
                                }
                            }
                        ],
                        "alignYAxesAtZero": false,
                        "error_y": {
                            "type": "data",
                            "visible": true
                        },
                        "series": {
                            "stacking": null,
                            "error_y": {
                                "type": "data",
                                "visible": true
                            }
                        },
                        "seriesOptions": {
                            "dropped_records": {
                                "yAxis": 0,
                                "type": "area"
                            },
                            "passed_records": {
                                "yAxis": 1,
                                "type": "area"
                            }
                        },
                        "valuesOptions": {},
                        "direction": {
                            "type": "counterclockwise"
                        },
                        "sizemode": "diameter",
                        "coefficient": 1,
                        "numberFormat": "0,0[.]00000",
                        "percentFormat": "0[.]00%",
                        "textFormat": "",
                        "missingValuesAsZero": true,
                        "useAggregationsUi": false,
                        "showDataLabels": false,
                        "dateTimeFormat": "YYYY-MM-DD HH:mm",
                        "columnConfigurationMap": {
                            "x": {
                                "column": "date"
                            },
                            "y": [
                                {
                                    "column": "dropped_records"
                                },
                                {
                                    "column": "passed_records"
                                }
                            ]
                        },
                        "showPlotlyControls": true,
                        "swappedAxes": false
                    },
                    "query_plan": null
                },
                {
                    "id": "a9786036-2d18-4a36-a279-ebb5bfd116af",
                    "type": "TABLE",
                    "name": "Table",
                    "description": "",
                    "options": {},
                    "query_plan": null
                }
            ]
        },
        {
            "id": "bff8f8c5-ea5f-4ffe-9c73-2b91776d1549",
            "name": "DLT-retail-data-quality-per-table",
            "description": null,
            "query": "select 'passed_records' as type,\n       sum(passed_records) as value, \n       sum(failed_records)/sum(output_records)*100 as failure_rate,\n       dataset \n   from dbdemos.retail_c360.dlt_expectations  group by dataset\nunion\nselect 'failed_records' as type,\n       sum(failed_records) as value, \n       sum(failed_records)/sum(output_records)*100 as failure_rate,\n       dataset \n   from dbdemos.retail_c360.dlt_expectations  group by dataset\nunion\nselect 'dropped_records' as type,\n       sum(dropped_records) as value, \n       sum(failed_records)/sum(output_records)*100 as failure_rate,\n       dataset \n   from dbdemos.retail_c360.dlt_expectations  group by dataset\n",
            "options": {
                "parent": "folders/1580401252621742",
                "apply_auto_limit": false,
                "folder_node_status": "ACTIVE",
                "folder_node_internal_name": "tree/1554764779540620",
                "parameters": [],
                "schema": null,
                "catalog": null,
                "run_as_role": "owner",
                "visualization_control_order": []
            },
            "visualizations": [
                {
                    "id": "83f7e653-1e1b-439a-b08c-d58af541e4e4",
                    "type": "TABLE",
                    "name": "Table",
                    "description": "",
                    "options": {},
                    "query_plan": null
                },
                {
                    "id": "d0190108-ed0c-43ad-9337-3450ef8bae49",
                    "type": "CHART",
                    "name": "Status per expectation",
                    "description": "",
                    "options": {
                        "version": 2,
                        "globalSeriesType": "pie",
                        "sortX": true,
                        "legend": {
                            "enabled": true,
                            "placement": "auto",
                            "traceorder": "normal"
                        },
                        "xAxis": {
                            "type": "-",
                            "labels": {
                                "enabled": true
                            },
                            "title": {
                                "text": "type"
                            }
                        },
                        "yAxis": [
                            {
                                "type": "-",
                                "title": {
                                    "text": "value"
                                }
                            },
                            {
                                "type": "-",
                                "opposite": true,
                                "title": {
                                    "text": null
                                }
                            }
                        ],
                        "alignYAxesAtZero": false,
                        "error_y": {
                            "type": "data",
                            "visible": true
                        },
                        "series": {
                            "stacking": null,
                            "error_y": {
                                "type": "data",
                                "visible": true
                            }
                        },
                        "seriesOptions": {
                            "value": {
                                "yAxis": 0
                            }
                        },
                        "valuesOptions": {
                            "dropped_records": {
                                "color": "#E92828"
                            },
                            "passed_records": {
                                "color": "#799CFF"
                            },
                            "failed_records": {
                                "color": "#FB8D3D"
                            }
                        },
                        "direction": {
                            "type": "counterclockwise"
                        },
                        "sizemode": "diameter",
                        "coefficient": 1,
                        "numberFormat": "0,0[.]00000",
                        "percentFormat": "0[.]00%",
                        "textFormat": "",
                        "missingValuesAsZero": true,
                        "useAggregationsUi": false,
                        "showDataLabels": true,
                        "dateTimeFormat": "YYYY-MM-DD HH:mm",
                        "columnConfigurationMap": {
                            "x": {
                                "column": "type"
                            },
                            "y": [
                                {
                                    "column": "value"
                                }
                            ],
                            "series": {
                                "column": "dataset"
                            }
                        },
                        "showPlotlyControls": true,
                        "swappedAxes": false
                    },
                    "query_plan": null
                },
                {
                    "id": "d5461640-91c8-4a78-bedf-1c55a594b286",
                    "type": "TABLE",
                    "name": "Table",
                    "description": "",
                    "options": {},
                    "query_plan": null
                },
                {
                    "id": "dd3a1137-a57c-4201-9b04-dbc83b83847c",
                    "type": "TABLE",
                    "name": "Table",
                    "description": "",
                    "options": {},
                    "query_plan": null
                }
            ]
        }
    ],
    "dashboard": {
        "id": "b732d677-477b-4b5e-84b6-672174440e7d",
        "name": "DLT - Retail Data Quality Stats",
        "widgets": [
            {
                "id": "2b1d38bc-93f7-46fa-aaae-d67b6998b069",
                "width": 1,
                "options": {
                    "parameterMappings": {},
                    "title": "Daily ingestion error per expectations",
                    "description": "",
                    "isHidden": false,
                    "position": {
                        "autoHeight": false,
                        "sizeX": 6,
                        "sizeY": 7,
                        "minSizeX": 1,
                        "maxSizeX": 6,
                        "minSizeY": 5,
                        "maxSizeY": 1000,
                        "col": 0,
                        "row": 16
                    },
                    "overrideColors": false
                },
                "dashboard_id": "b732d677-477b-4b5e-84b6-672174440e7d",
                "text": "",
                "visualization_id": "5eda1f10-6c18-4e04-ba4d-6adf1467b93d"
            },
            {
                "id": "2cc0e75a-7e63-49d0-a878-5434ba432ee3",
                "width": 1,
                "options": {
                    "parameterMappings": {},
                    "title": "Incorrect input schema rate",
                    "description": "",
                    "isHidden": false,
                    "position": {
                        "autoHeight": false,
                        "sizeX": 2,
                        "sizeY": 4,
                        "minSizeX": 1,
                        "maxSizeX": 6,
                        "minSizeY": 1,
                        "maxSizeY": 1000,
                        "col": 4,
                        "row": 4
                    },
                    "overrideColors": false
                },
                "dashboard_id": "b732d677-477b-4b5e-84b6-672174440e7d",
                "text": "",
                "visualization_id": "c99e1f85-6a27-46d7-babd-253e5e42841c"
            },
            {
                "id": "40b7e1de-9ed0-4ca2-bcd1-38061c987519",
                "width": 1,
                "options": {
                    "parameterMappings": {},
                    "title": "Daily ingestion and failure",
                    "description": "",
                    "isHidden": false,
                    "position": {
                        "autoHeight": false,
                        "sizeX": 3,
                        "sizeY": 8,
                        "minSizeX": 1,
                        "maxSizeX": 6,
                        "minSizeY": 5,
                        "maxSizeY": 1000,
                        "col": 0,
                        "row": 8
                    },
                    "overrideColors": false
                },
                "dashboard_id": "b732d677-477b-4b5e-84b6-672174440e7d",
                "text": "",
                "visualization_id": "8e25cba6-c769-44bd-a352-bed6f02acb66"
            },
            {
                "id": "4b272f48-c365-45d0-be09-477f700435bb",
                "width": 1,
                "options": {
                    "parameterMappings": {},
                    "title": "Ingestion rate",
                    "description": "",
                    "isHidden": false,
                    "position": {
                        "autoHeight": false,
                        "sizeX": 2,
                        "sizeY": 4,
                        "minSizeX": 1,
                        "maxSizeX": 6,
                        "minSizeY": 1,
                        "maxSizeY": 1000,
                        "col": 0,
                        "row": 4
                    },
                    "overrideColors": false
                },
                "dashboard_id": "b732d677-477b-4b5e-84b6-672174440e7d",
                "text": "",
                "visualization_id": "09baa3e4-b43b-4bc4-be96-5e5c4b7d056e"
            },
            {
                "id": "61b262ee-574d-447b-b8c6-87768206ca65",
                "width": 1,
                "options": {
                    "parameterMappings": {},
                    "title": "Quality stat per table",
                    "description": "",
                    "isHidden": false,
                    "position": {
                        "autoHeight": false,
                        "sizeX": 3,
                        "sizeY": 8,
                        "minSizeX": 1,
                        "maxSizeX": 6,
                        "minSizeY": 5,
                        "maxSizeY": 1000,
                        "col": 3,
                        "row": 8
                    }
                },
                "dashboard_id": "b732d677-477b-4b5e-84b6-672174440e7d",
                "text": "",
                "visualization_id": "d0190108-ed0c-43ad-9337-3450ef8bae49"
            },
            {
                "id": "76a12313-ce68-4b11-ad63-ac7a228b26c5",
                "width": 1,
                "options": {
                    "isHidden": false,
                    "position": {
                        "autoHeight": false,
                        "sizeX": 6,
                        "sizeY": 1,
                        "minSizeX": 1,
                        "maxSizeX": 6,
                        "minSizeY": 1,
                        "maxSizeY": 1000,
                        "col": 0,
                        "row": 23
                    },
                    "parameterMappings": {}
                },
                "dashboard_id": "b732d677-477b-4b5e-84b6-672174440e7d",
                "text": "Field Demo dashboard. Please do not edit\n![tracking_img](https://www.google-analytics.com/collect?v=1&gtm=GTM-NKQ8TT7&tid=UA-163989034-1&cid=555&aip=1&t=event&ec=field_demos&ea=display&dp=%2F42_field_demos%2Fretail%2Fnotebook&dt=DASHBOARD_RETAIL_DLT_QUALITY)"
            },
            {
                "id": "94007022-fefc-4fba-bcef-cbacc6df598e",
                "width": 1,
                "options": {
                    "parameterMappings": {},
                    "title": "Invalid data",
                    "description": "",
                    "isHidden": false,
                    "position": {
                        "autoHeight": false,
                        "sizeX": 2,
                        "sizeY": 4,
                        "minSizeX": 1,
                        "maxSizeX": 6,
                        "minSizeY": 1,
                        "maxSizeY": 1000,
                        "col": 2,
                        "row": 4
                    },
                    "overrideColors": false
                },
                "dashboard_id": "b732d677-477b-4b5e-84b6-672174440e7d",
                "text": "",
                "visualization_id": "064940c2-02f6-4d4e-8a51-d27105a7b2a3"
            },
            {
                "id": "e4787bbd-e2bf-4278-af1a-d6e46d8bfca6",
                "width": 1,
                "options": {
                    "isHidden": false,
                    "position": {
                        "autoHeight": false,
                        "sizeX": 6,
                        "sizeY": 4,
                        "minSizeX": 1,
                        "maxSizeX": 6,
                        "minSizeY": 1,
                        "maxSizeY": 1000,
                        "col": 0,
                        "row": 0
                    }
                },
                "dashboard_id": "b732d677-477b-4b5e-84b6-672174440e7d",
                "text": "# Retail ingestion quality tracker\nThis dashboard leverage the Delta Live Table expectation metrics to track our data quality over the ingestion pipeline.\n\nThe pipeline is incrementally consuming new data (each hour or in real time) and the dashboard is updated accordingly. Open notebook `02.1-Delta-Live-Table-Ingestion` to visualize the Delta Live Table pipeline.\n\nData has been prepared using a SQL query over the value from the `/system/events` table. Open `02.3-DLT-expectation-dashboard-data-prep` for more details."
            }
        ],
        "tags": [
            "field_demos",
            "field_demos_retail",
            "dlt_data_quality"
        ],
        "color_palette": null,
        "dashboard_filters_enabled": false,
        "parent": "folders/2218726451420307",
        "options": {
            "parent": "folders/2218726451420307"
        },
        "is_archived": true
    },
    "version": "1.0"
}